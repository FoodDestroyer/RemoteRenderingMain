{"ast":null,"code":"import macro from '../../macros.js';\nimport vtkBoundingBox from '../../Common/DataModel/BoundingBox.js';\nimport vtkCompositeKeyboardManipulator from './CompositeKeyboardManipulator.js';\nimport { k as add, l as normalize, j as cross } from '../../Common/Core/Math/index.js';\nvar vtkErrorMacro = macro.vtkErrorMacro;\nvar ANIMATION_REQUESTER = 'vtkKeyboardCameraManipulator'; // ----------------------------------------------------------------------------\n// vtkKeyboardCameraManipulator methods\n// ----------------------------------------------------------------------------\n\nfunction vtkKeyboardCameraManipulator(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkKeyboardCameraManipulator');\n  var internal = {\n    keysDown: [],\n    direction: [0, 0, 0],\n    skipUpdateDirection: false,\n    animationSub: null,\n    cameraModifiedSub: null\n  }; //--------------------------------------------------------------------------\n\n  publicAPI.inMotion = function () {\n    return internal.animationSub !== null;\n  }; //--------------------------------------------------------------------------\n\n  publicAPI.resetMovementSpeed = function () {\n    // Reset the movement speed to be proportional to the longest length\n    // of the renderer's bounds.\n    var renderer = model.renderer;\n    var bounds = renderer.computeVisiblePropBounds(); // Just a number that seems to work okay for our examples...\n\n    var divisor = 500;\n    model.movementSpeed = vtkBoundingBox.getMaxLength(bounds) / divisor;\n  }; //--------------------------------------------------------------------------\n\n  publicAPI.startMovement = function () {\n    if (publicAPI.inMotion()) {\n      vtkErrorMacro('Camera is already in motion!');\n      return;\n    }\n    if (model.movementSpeed === null) {\n      publicAPI.resetMovementSpeed();\n    }\n    var interactor = model.interactor,\n      renderer = model.renderer;\n    var move = function move() {\n      if (internal.keysDown.length === 0) {\n        return;\n      } // No need to update the direction when we move the camera here...\n\n      internal.skipUpdateDirection = true;\n      publicAPI.moveCamera(renderer.getActiveCamera(), internal.direction, model.movementSpeed);\n      renderer.resetCameraClippingRange();\n      if (interactor.getLightFollowCamera()) {\n        renderer.updateLightsGeometryToFollowCamera();\n      }\n      internal.skipUpdateDirection = false;\n    };\n    publicAPI.calculateCurrentDirection();\n    var camera = renderer.getActiveCamera(); // If the camera gets modified elsewhere, let's update the direction\n\n    internal.cameraModifiedSub = camera.onModified(publicAPI.calculateCurrentDirection);\n    interactor.requestAnimation(ANIMATION_REQUESTER);\n    internal.animationSub = interactor.onAnimation(function () {\n      return move();\n    });\n  }; //--------------------------------------------------------------------------\n\n  publicAPI.endMovement = function () {\n    if (internal.animationSub) {\n      internal.animationSub.unsubscribe();\n      internal.animationSub = null;\n    }\n    model._interactor.cancelAnimation(ANIMATION_REQUESTER);\n    if (internal.cameraModifiedSub) {\n      internal.cameraModifiedSub.unsubscribe();\n      internal.cameraModifiedSub = null;\n    }\n  }; //--------------------------------------------------------------------------\n\n  publicAPI.calculateCurrentDirection = function () {\n    if (internal.skipUpdateDirection) {\n      return;\n    } // Reset\n\n    internal.direction = [0, 0, 0];\n    var renderer = model.renderer;\n    if (!renderer) {\n      return;\n    }\n    var camera = renderer.getActiveCamera();\n    if (!camera) {\n      return;\n    }\n    if (internal.keysDown.length === 0) {\n      return;\n    }\n    var directions = internal.keysDown.map(function (key) {\n      return publicAPI.getDirectionFromKey(key, camera);\n    });\n    directions = directions.filter(function (item) {\n      return item;\n    });\n    if (directions.length === 0) {\n      return;\n    }\n    var netDirection = directions.reduce(function (a, b) {\n      add(a, b, b);\n      return b;\n    });\n    normalize(netDirection);\n    internal.direction = netDirection;\n  }; //--------------------------------------------------------------------------\n\n  publicAPI.getDirectionFromKey = function (key, camera) {\n    var direction;\n    if (model.moveForwardKeys.includes(key)) {\n      // Move forward\n      direction = camera.getDirectionOfProjection();\n    } else if (model.moveLeftKeys.includes(key)) {\n      // Move left\n      var dirProj = camera.getDirectionOfProjection();\n      direction = [0, 0, 0];\n      cross(camera.getViewUp(), dirProj, direction);\n    } else if (model.moveBackwardKeys.includes(key)) {\n      // Move backward\n      direction = camera.getDirectionOfProjection().map(function (e) {\n        return -e;\n      });\n    } else if (model.moveRightKeys.includes(key)) {\n      // Move right\n      var _dirProj = camera.getDirectionOfProjection();\n      direction = [0, 0, 0];\n      cross(_dirProj, camera.getViewUp(), direction);\n    } else if (model.moveUpKeys.includes(key)) {\n      // Move up\n      direction = camera.getViewUp();\n    } else if (model.moveDownKeys.includes(key)) {\n      // Move down\n      direction = camera.getViewUp().map(function (e) {\n        return -e;\n      });\n    } else {\n      return undefined;\n    }\n    normalize(direction);\n    return direction;\n  }; //--------------------------------------------------------------------------\n\n  publicAPI.moveCamera = function (camera, direction, speed) {\n    var position = camera.getPosition();\n    var focalPoint = camera.getFocalPoint();\n    camera.setFocalPoint(focalPoint[0] + direction[0] * speed, focalPoint[1] + direction[1] * speed, focalPoint[2] + direction[2] * speed);\n    camera.setPosition(position[0] + direction[0] * speed, position[1] + direction[1] * speed, position[2] + direction[2] * speed);\n  }; //--------------------------------------------------------------------------\n\n  publicAPI.onKeyPress = function (interactor, renderer, key) {}; //--------------------------------------------------------------------------\n\n  publicAPI.onKeyDown = function (interactor, renderer, key) {\n    if (!internal.keysDown.includes(key)) {\n      internal.keysDown.push(key);\n      publicAPI.calculateCurrentDirection();\n    }\n    if (!publicAPI.inMotion()) {\n      Object.assign(model, {\n        interactor: interactor,\n        renderer: renderer\n      });\n      publicAPI.startMovement();\n    }\n  }; //--------------------------------------------------------------------------\n\n  publicAPI.onKeyUp = function (interactor, renderer, key) {\n    // The following is case insensitive for when the user\n    // presses/releases the shift key while this key is down.\n    internal.keysDown = internal.keysDown.filter(function (item) {\n      return item.toUpperCase() !== key.toUpperCase();\n    });\n    publicAPI.calculateCurrentDirection();\n    if (internal.keysDown.length === 0) {\n      publicAPI.endMovement();\n    }\n  };\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\nvar DEFAULT_VALUES = {\n  // The movementSpeed is the magnitude of the camera translation\n  // for each animation frame (which occur each 1/60 second)\n  // If null, publicAPI.resetMovementSpeed() will be called when\n  // movement starts.\n  movementSpeed: null,\n  moveForwardKeys: ['w', 'W', 'ArrowUp'],\n  moveLeftKeys: ['a', 'A', 'ArrowLeft'],\n  moveBackwardKeys: ['s', 'S', 'ArrowDown'],\n  moveRightKeys: ['d', 'D', 'ArrowRight'],\n  moveUpKeys: [' '],\n  moveDownKeys: ['Shift'],\n  interactor: null,\n  renderer: null\n}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues); // Inheritance\n\n  macro.obj(publicAPI, model);\n  vtkCompositeKeyboardManipulator.extend(publicAPI, model, initialValues); // Create get-set macros\n\n  macro.setGet(publicAPI, model, ['movementSpeed', 'moveForwardKeys', 'moveLeftKeys', 'moveBackwardKeys', 'moveRightKeys', 'moveUpKeys', 'moveDownKeys', 'interactor', 'renderer']); // Object specific methods\n\n  vtkKeyboardCameraManipulator(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar newInstance = macro.newInstance(extend, 'vtkKeyboardCameraManipulator'); // ----------------------------------------------------------------------------\n\nvar vtkKeyboardCameraManipulator$1 = {\n  newInstance: newInstance,\n  extend: extend\n};\nexport { vtkKeyboardCameraManipulator$1 as default, extend, newInstance };","map":{"version":3,"names":["macro","vtkBoundingBox","vtkCompositeKeyboardManipulator","k","add","l","normalize","j","cross","vtkErrorMacro","ANIMATION_REQUESTER","vtkKeyboardCameraManipulator","publicAPI","model","classHierarchy","push","internal","keysDown","direction","skipUpdateDirection","animationSub","cameraModifiedSub","inMotion","resetMovementSpeed","renderer","bounds","computeVisiblePropBounds","divisor","movementSpeed","getMaxLength","startMovement","interactor","move","length","moveCamera","getActiveCamera","resetCameraClippingRange","getLightFollowCamera","updateLightsGeometryToFollowCamera","calculateCurrentDirection","camera","onModified","requestAnimation","onAnimation","endMovement","unsubscribe","_interactor","cancelAnimation","directions","map","key","getDirectionFromKey","filter","item","netDirection","reduce","a","b","moveForwardKeys","includes","getDirectionOfProjection","moveLeftKeys","dirProj","getViewUp","moveBackwardKeys","e","moveRightKeys","_dirProj","moveUpKeys","moveDownKeys","undefined","speed","position","getPosition","focalPoint","getFocalPoint","setFocalPoint","setPosition","onKeyPress","onKeyDown","Object","assign","onKeyUp","toUpperCase","DEFAULT_VALUES","extend","initialValues","arguments","obj","setGet","newInstance","vtkKeyboardCameraManipulator$1","default"],"sources":["/home/rakshith/Documents/RemoteRendering/vtk-js-react-app/node_modules/@kitware/vtk.js/Interaction/Manipulators/KeyboardCameraManipulator.js"],"sourcesContent":["import macro from '../../macros.js';\nimport vtkBoundingBox from '../../Common/DataModel/BoundingBox.js';\nimport vtkCompositeKeyboardManipulator from './CompositeKeyboardManipulator.js';\nimport { k as add, l as normalize, j as cross } from '../../Common/Core/Math/index.js';\n\nvar vtkErrorMacro = macro.vtkErrorMacro;\nvar ANIMATION_REQUESTER = 'vtkKeyboardCameraManipulator'; // ----------------------------------------------------------------------------\n// vtkKeyboardCameraManipulator methods\n// ----------------------------------------------------------------------------\n\nfunction vtkKeyboardCameraManipulator(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkKeyboardCameraManipulator');\n  var internal = {\n    keysDown: [],\n    direction: [0, 0, 0],\n    skipUpdateDirection: false,\n    animationSub: null,\n    cameraModifiedSub: null\n  }; //--------------------------------------------------------------------------\n\n  publicAPI.inMotion = function () {\n    return internal.animationSub !== null;\n  }; //--------------------------------------------------------------------------\n\n\n  publicAPI.resetMovementSpeed = function () {\n    // Reset the movement speed to be proportional to the longest length\n    // of the renderer's bounds.\n    var renderer = model.renderer;\n    var bounds = renderer.computeVisiblePropBounds(); // Just a number that seems to work okay for our examples...\n\n    var divisor = 500;\n    model.movementSpeed = vtkBoundingBox.getMaxLength(bounds) / divisor;\n  }; //--------------------------------------------------------------------------\n\n\n  publicAPI.startMovement = function () {\n    if (publicAPI.inMotion()) {\n      vtkErrorMacro('Camera is already in motion!');\n      return;\n    }\n\n    if (model.movementSpeed === null) {\n      publicAPI.resetMovementSpeed();\n    }\n\n    var interactor = model.interactor,\n        renderer = model.renderer;\n\n    var move = function move() {\n      if (internal.keysDown.length === 0) {\n        return;\n      } // No need to update the direction when we move the camera here...\n\n\n      internal.skipUpdateDirection = true;\n      publicAPI.moveCamera(renderer.getActiveCamera(), internal.direction, model.movementSpeed);\n      renderer.resetCameraClippingRange();\n\n      if (interactor.getLightFollowCamera()) {\n        renderer.updateLightsGeometryToFollowCamera();\n      }\n\n      internal.skipUpdateDirection = false;\n    };\n\n    publicAPI.calculateCurrentDirection();\n    var camera = renderer.getActiveCamera(); // If the camera gets modified elsewhere, let's update the direction\n\n    internal.cameraModifiedSub = camera.onModified(publicAPI.calculateCurrentDirection);\n    interactor.requestAnimation(ANIMATION_REQUESTER);\n    internal.animationSub = interactor.onAnimation(function () {\n      return move();\n    });\n  }; //--------------------------------------------------------------------------\n\n\n  publicAPI.endMovement = function () {\n    if (internal.animationSub) {\n      internal.animationSub.unsubscribe();\n      internal.animationSub = null;\n    }\n\n    model._interactor.cancelAnimation(ANIMATION_REQUESTER);\n\n    if (internal.cameraModifiedSub) {\n      internal.cameraModifiedSub.unsubscribe();\n      internal.cameraModifiedSub = null;\n    }\n  }; //--------------------------------------------------------------------------\n\n\n  publicAPI.calculateCurrentDirection = function () {\n    if (internal.skipUpdateDirection) {\n      return;\n    } // Reset\n\n\n    internal.direction = [0, 0, 0];\n    var renderer = model.renderer;\n\n    if (!renderer) {\n      return;\n    }\n\n    var camera = renderer.getActiveCamera();\n\n    if (!camera) {\n      return;\n    }\n\n    if (internal.keysDown.length === 0) {\n      return;\n    }\n\n    var directions = internal.keysDown.map(function (key) {\n      return publicAPI.getDirectionFromKey(key, camera);\n    });\n    directions = directions.filter(function (item) {\n      return item;\n    });\n\n    if (directions.length === 0) {\n      return;\n    }\n\n    var netDirection = directions.reduce(function (a, b) {\n      add(a, b, b);\n      return b;\n    });\n    normalize(netDirection);\n    internal.direction = netDirection;\n  }; //--------------------------------------------------------------------------\n\n\n  publicAPI.getDirectionFromKey = function (key, camera) {\n    var direction;\n\n    if (model.moveForwardKeys.includes(key)) {\n      // Move forward\n      direction = camera.getDirectionOfProjection();\n    } else if (model.moveLeftKeys.includes(key)) {\n      // Move left\n      var dirProj = camera.getDirectionOfProjection();\n      direction = [0, 0, 0];\n      cross(camera.getViewUp(), dirProj, direction);\n    } else if (model.moveBackwardKeys.includes(key)) {\n      // Move backward\n      direction = camera.getDirectionOfProjection().map(function (e) {\n        return -e;\n      });\n    } else if (model.moveRightKeys.includes(key)) {\n      // Move right\n      var _dirProj = camera.getDirectionOfProjection();\n\n      direction = [0, 0, 0];\n      cross(_dirProj, camera.getViewUp(), direction);\n    } else if (model.moveUpKeys.includes(key)) {\n      // Move up\n      direction = camera.getViewUp();\n    } else if (model.moveDownKeys.includes(key)) {\n      // Move down\n      direction = camera.getViewUp().map(function (e) {\n        return -e;\n      });\n    } else {\n      return undefined;\n    }\n\n    normalize(direction);\n    return direction;\n  }; //--------------------------------------------------------------------------\n\n\n  publicAPI.moveCamera = function (camera, direction, speed) {\n    var position = camera.getPosition();\n    var focalPoint = camera.getFocalPoint();\n    camera.setFocalPoint(focalPoint[0] + direction[0] * speed, focalPoint[1] + direction[1] * speed, focalPoint[2] + direction[2] * speed);\n    camera.setPosition(position[0] + direction[0] * speed, position[1] + direction[1] * speed, position[2] + direction[2] * speed);\n  }; //--------------------------------------------------------------------------\n\n\n  publicAPI.onKeyPress = function (interactor, renderer, key) {}; //--------------------------------------------------------------------------\n\n\n  publicAPI.onKeyDown = function (interactor, renderer, key) {\n    if (!internal.keysDown.includes(key)) {\n      internal.keysDown.push(key);\n      publicAPI.calculateCurrentDirection();\n    }\n\n    if (!publicAPI.inMotion()) {\n      Object.assign(model, {\n        interactor: interactor,\n        renderer: renderer\n      });\n      publicAPI.startMovement();\n    }\n  }; //--------------------------------------------------------------------------\n\n\n  publicAPI.onKeyUp = function (interactor, renderer, key) {\n    // The following is case insensitive for when the user\n    // presses/releases the shift key while this key is down.\n    internal.keysDown = internal.keysDown.filter(function (item) {\n      return item.toUpperCase() !== key.toUpperCase();\n    });\n    publicAPI.calculateCurrentDirection();\n\n    if (internal.keysDown.length === 0) {\n      publicAPI.endMovement();\n    }\n  };\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\n\nvar DEFAULT_VALUES = {\n  // The movementSpeed is the magnitude of the camera translation\n  // for each animation frame (which occur each 1/60 second)\n  // If null, publicAPI.resetMovementSpeed() will be called when\n  // movement starts.\n  movementSpeed: null,\n  moveForwardKeys: ['w', 'W', 'ArrowUp'],\n  moveLeftKeys: ['a', 'A', 'ArrowLeft'],\n  moveBackwardKeys: ['s', 'S', 'ArrowDown'],\n  moveRightKeys: ['d', 'D', 'ArrowRight'],\n  moveUpKeys: [' '],\n  moveDownKeys: ['Shift'],\n  interactor: null,\n  renderer: null\n}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues); // Inheritance\n\n  macro.obj(publicAPI, model);\n  vtkCompositeKeyboardManipulator.extend(publicAPI, model, initialValues); // Create get-set macros\n\n  macro.setGet(publicAPI, model, ['movementSpeed', 'moveForwardKeys', 'moveLeftKeys', 'moveBackwardKeys', 'moveRightKeys', 'moveUpKeys', 'moveDownKeys', 'interactor', 'renderer']); // Object specific methods\n\n  vtkKeyboardCameraManipulator(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar newInstance = macro.newInstance(extend, 'vtkKeyboardCameraManipulator'); // ----------------------------------------------------------------------------\n\nvar vtkKeyboardCameraManipulator$1 = {\n  newInstance: newInstance,\n  extend: extend\n};\n\nexport { vtkKeyboardCameraManipulator$1 as default, extend, newInstance };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}