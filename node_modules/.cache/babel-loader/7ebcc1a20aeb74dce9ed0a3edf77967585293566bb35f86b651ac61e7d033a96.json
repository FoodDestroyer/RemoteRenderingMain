{"ast":null,"code":"import macro from '../../macros.js';\nimport vtkShader from './Shader.js';\nvar vtkErrorMacro = macro.vtkErrorMacro; // perform in place string substitutions, indicate if a substitution was done\n// this is useful for building up shader strings which typically involve\n// lots of string substitutions. Return true if a substitution was done.\n\nfunction substitute(source, search, replace, all) {\n  // We only accept strings or array of strings, typeof is faster than Array.isArray\n  var replaceStr = typeof replace === 'string' ? replace : replace.join('\\n'); // We don't need to instantiate a RegExp if we don't want a global substitution.\n  // In all other cases, we need to take the provided string or RegExp and\n  // instantiate a new one to add the `g` flag.\n  // Argument defaults are transpiled to slow `arguments`-based operations\n  // better assume undefined as flag to know if the value is set or not\n\n  var replaceSearch = all === false ? search : new RegExp(search, 'g');\n  var resultstr = source.replace(replaceSearch, replaceStr);\n  return {\n    // If the result is different than the input, we did perform a replacement\n    replace: resultstr !== replaceStr,\n    result: resultstr\n  };\n} // ----------------------------------------------------------------------------\n// vtkShaderProgram methods\n// ----------------------------------------------------------------------------\n\nfunction vtkShaderProgram(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkShaderProgram');\n  publicAPI.compileShader = function () {\n    if (!model.vertexShader.compile()) {\n      vtkErrorMacro(model.vertexShader.getSource().split('\\n').map(function (line, index) {\n        return \"\".concat(index, \": \").concat(line);\n      }).join('\\n'));\n      vtkErrorMacro(model.vertexShader.getError());\n      return 0;\n    }\n    if (!model.fragmentShader.compile()) {\n      vtkErrorMacro(model.fragmentShader.getSource().split('\\n').map(function (line, index) {\n        return \"\".concat(index, \": \").concat(line);\n      }).join('\\n'));\n      vtkErrorMacro(model.fragmentShader.getError());\n      return 0;\n    } // skip geometry for now\n\n    if (!publicAPI.attachShader(model.vertexShader)) {\n      vtkErrorMacro(model.error);\n      return 0;\n    }\n    if (!publicAPI.attachShader(model.fragmentShader)) {\n      vtkErrorMacro(model.error);\n      return 0;\n    }\n    if (!publicAPI.link()) {\n      vtkErrorMacro(\"Links failed: \".concat(model.error));\n      return 0;\n    }\n    publicAPI.setCompiled(true);\n    return 1;\n  };\n  publicAPI.cleanup = function () {\n    if (model.shaderType === 'Unknown' || model.handle === 0) {\n      return;\n    }\n    model.context.deleteShader(model.handle);\n    model.handle = 0;\n  };\n  publicAPI.bind = function () {\n    if (!model.linked && !publicAPI.link()) {\n      return false;\n    }\n    model.context.useProgram(model.handle);\n    publicAPI.setBound(true);\n    return true;\n  };\n  publicAPI.isBound = function () {\n    return !!model.bound;\n  };\n  publicAPI.release = function () {\n    model.context.useProgram(null);\n    publicAPI.setBound(false);\n  };\n  publicAPI.setContext = function (ctx) {\n    model.vertexShader.setContext(ctx);\n    model.fragmentShader.setContext(ctx);\n    model.geometryShader.setContext(ctx);\n  };\n  publicAPI.link = function () {\n    if (model.linked) {\n      return true;\n    }\n    if (model.handle === 0) {\n      model.error = 'Program has not been initialized, and/or does not have shaders.';\n      return false;\n    } // clear out the list of uniforms used\n\n    model.uniformLocs = {};\n    model.context.linkProgram(model.handle);\n    var isCompiled = model.context.getProgramParameter(model.handle, model.context.LINK_STATUS);\n    if (!isCompiled) {\n      var lastError = model.context.getProgramInfoLog(model.handle);\n      vtkErrorMacro(\"Error linking shader \".concat(lastError));\n      model.handle = 0;\n      return false;\n    }\n    publicAPI.setLinked(true);\n    model.attributeLocs = {};\n    return true;\n  };\n  publicAPI.setUniformMatrix = function (name, v) {\n    var location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n    var f32 = new Float32Array(v);\n    model.context.uniformMatrix4fv(location, false, f32);\n    return true;\n  };\n  publicAPI.setUniformMatrix3x3 = function (name, v) {\n    var location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n    var f32 = new Float32Array(v);\n    model.context.uniformMatrix3fv(location, false, f32);\n    return true;\n  };\n  publicAPI.setUniformf = function (name, v) {\n    var location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n    model.context.uniform1f(location, v);\n    return true;\n  };\n  publicAPI.setUniformfv = function (name, v) {\n    var location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n    model.context.uniform1fv(location, v);\n    return true;\n  };\n  publicAPI.setUniformi = function (name, v) {\n    var location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n    model.context.uniform1i(location, v);\n    return true;\n  };\n  publicAPI.setUniformiv = function (name, v) {\n    var location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n    model.context.uniform1iv(location, v);\n    return true;\n  };\n  publicAPI.setUniform2f = function (name, v1, v2) {\n    var location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n    if (v2 === undefined) {\n      throw new RangeError('Invalid number of values for array');\n    }\n    model.context.uniform2f(location, v1, v2);\n    return true;\n  };\n  publicAPI.setUniform2fv = function (name, v) {\n    var location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n    model.context.uniform2fv(location, v);\n    return true;\n  };\n  publicAPI.setUniform2i = function (name, v1, v2) {\n    var location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n    if (v2 === undefined) {\n      throw new RangeError('Invalid number of values for array');\n    }\n    model.context.uniform2i(location, v1, v2);\n    return true;\n  };\n  publicAPI.setUniform2iv = function (name, v) {\n    var location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n    model.context.uniform2iv(location, v);\n    return true;\n  };\n  publicAPI.setUniform3f = function (name, a1, a2, a3) {\n    var location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n    if (a3 === undefined) {\n      throw new RangeError('Invalid number of values for array');\n    }\n    model.context.uniform3f(location, a1, a2, a3);\n    return true;\n  };\n  publicAPI.setUniform3fArray = function (name, a) {\n    var location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n    if (!Array.isArray(a) || a.length !== 3) {\n      throw new RangeError('Invalid number of values for array');\n    }\n    model.context.uniform3f(location, a[0], a[1], a[2]);\n    return true;\n  };\n  publicAPI.setUniform3fv = function (name, v) {\n    var location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n    model.context.uniform3fv(location, v);\n    return true;\n  };\n  publicAPI.setUniform3i = function (name) {\n    var location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    var array = args; // allow an array passed as a single argument\n\n    if (array.length === 1 && Array.isArray(array[0])) {\n      array = array[0];\n    }\n    if (array.length !== 3) {\n      throw new RangeError('Invalid number of values for array');\n    }\n    model.context.uniform3i(location, array[0], array[1], array[2]);\n    return true;\n  };\n  publicAPI.setUniform3iv = function (name, v) {\n    var location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n    model.context.uniform3iv(location, v);\n    return true;\n  };\n  publicAPI.setUniform4f = function (name) {\n    var location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n    var array = args; // allow an array passed as a single argument\n\n    if (array.length === 1 && Array.isArray(array[0])) {\n      array = array[0];\n    }\n    if (array.length !== 4) {\n      throw new RangeError('Invalid number of values for array');\n    }\n    model.context.uniform4f(location, array[0], array[1], array[2], array[3]);\n    return true;\n  };\n  publicAPI.setUniform4fv = function (name, v) {\n    var location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n    model.context.uniform4fv(location, v);\n    return true;\n  };\n  publicAPI.setUniform4i = function (name) {\n    var location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n    for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      args[_key3 - 1] = arguments[_key3];\n    }\n    var array = args; // allow an array passed as a single argument\n\n    if (array.length === 1 && Array.isArray(array[0])) {\n      array = array[0];\n    }\n    if (array.length !== 4) {\n      throw new RangeError('Invalid number of values for array');\n    }\n    model.context.uniform4i(location, array[0], array[1], array[2], array[3]);\n    return true;\n  };\n  publicAPI.setUniform4iv = function (name, v) {\n    var location = publicAPI.findUniform(name);\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n    model.context.uniform4iv(location, v);\n    return true;\n  };\n  publicAPI.findUniform = function (name) {\n    if (!name || !model.linked) {\n      return -1;\n    } // see if we have cached the result\n\n    var loc = model.uniformLocs[name];\n    if (loc !== undefined) {\n      return loc;\n    }\n    loc = model.context.getUniformLocation(model.handle, name);\n    if (loc === null) {\n      model.error = \"Uniform \".concat(name, \" not found in current shader program.\");\n      model.uniformLocs[name] = -1;\n      return -1;\n    }\n    model.uniformLocs[name] = loc;\n    return loc;\n  };\n  publicAPI.isUniformUsed = function (name) {\n    if (!name) {\n      return false;\n    } // see if we have cached the result\n\n    var loc = model.uniformLocs[name];\n    if (loc !== undefined) {\n      return loc !== null;\n    }\n    if (!model.linked) {\n      vtkErrorMacro('attempt to find uniform when the shader program is not linked');\n      return false;\n    }\n    loc = model.context.getUniformLocation(model.handle, name);\n    model.uniformLocs[name] = loc;\n    if (loc === null) {\n      return false;\n    }\n    return true;\n  };\n  publicAPI.isAttributeUsed = function (name) {\n    if (!name) {\n      return false;\n    } // see if we have cached the result\n\n    if (name in model.attributeLocs) {\n      return true;\n    }\n    if (!model.linked) {\n      vtkErrorMacro('attempt to find uniform when the shader program is not linked');\n      return false;\n    }\n    var loc = model.context.getAttribLocation(model.handle, name);\n    if (loc === -1) {\n      return false;\n    }\n    model.attributeLocs[name] = loc;\n    return true;\n  };\n  publicAPI.attachShader = function (shader) {\n    if (shader.getHandle() === 0) {\n      model.error = 'Shader object was not initialized, cannot attach it.';\n      return false;\n    }\n    if (shader.getShaderType() === 'Unknown') {\n      model.error = 'Shader object is of type Unknown and cannot be used.';\n      return false;\n    }\n    if (model.handle === 0) {\n      var thandle = model.context.createProgram();\n      if (thandle === 0) {\n        model.error = 'Could not create shader program.';\n        return false;\n      }\n      model.handle = thandle;\n      model.linked = false;\n    }\n    if (shader.getShaderType() === 'Vertex') {\n      if (model.vertexShaderHandle !== 0) {\n        model.comntext.detachShader(model.handle, model.vertexShaderHandle);\n      }\n      model.vertexShaderHandle = shader.getHandle();\n    }\n    if (shader.getShaderType() === 'Fragment') {\n      if (model.fragmentShaderHandle !== 0) {\n        model.context.detachShader(model.handle, model.fragmentShaderHandle);\n      }\n      model.fragmentShaderHandle = shader.getHandle();\n    }\n    model.context.attachShader(model.handle, shader.getHandle());\n    publicAPI.setLinked(false);\n    return true;\n  };\n  publicAPI.detachShader = function (shader) {\n    if (shader.getHandle() === 0) {\n      model.error = 'shader object was not initialized, cannot attach it.';\n      return false;\n    }\n    if (shader.getShaderType() === 'Unknown') {\n      model.error = 'Shader object is of type Unknown and cannot be used.';\n      return false;\n    }\n    if (model.handle === 0) {\n      model.error = 'This shader program has not been initialized yet.';\n    }\n    switch (shader.getShaderType()) {\n      case 'Vertex':\n        if (model.vertexShaderHandle !== shader.getHandle()) {\n          model.error = 'The supplied shader was not attached to this program.';\n          return false;\n        }\n        model.context.detachShader(model.handle, shader.getHandle());\n        model.vertexShaderHandle = 0;\n        model.linked = false;\n        return true;\n      case 'Fragment':\n        if (model.fragmentShaderHandle !== shader.getHandle()) {\n          model.error = 'The supplied shader was not attached to this program.';\n          return false;\n        }\n        model.context.detachShader(model.handle, shader.getHandle());\n        model.fragmentShaderHandle = 0;\n        model.linked = false;\n        return true;\n      default:\n        return false;\n    }\n  };\n  publicAPI.setContext = function (ctx) {\n    model.context = ctx;\n    model.vertexShader.setContext(ctx);\n    model.fragmentShader.setContext(ctx);\n    model.geometryShader.setContext(ctx);\n  };\n  publicAPI.setLastCameraMTime = function (mtime) {\n    model.lastCameraMTime = mtime;\n  }; // publicAPI.enableAttributeArray = (name) => {\n  //   const location = publicAPI.findAttributeArray(name);\n  //   if (location === -1) {\n  //     model.error = `Could not enable attribute ${name} No such attribute.`;\n  //     return false;\n  //   }\n  //   model.context.enableVertexAttribArray(location);\n  //   return true;\n  // };\n  // publicAPI.disableAttributeArray = (name) => {\n  //   const location = publicAPI.findAttributeArray(name);\n  //   if (location === -1) {\n  //     model.error = `Could not enable attribute ${name} No such attribute.`;\n  //     return false;\n  //   }\n  //   model.context.disableVertexAttribArray(location);\n  //   return true;\n  // };\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\nvar DEFAULT_VALUES = {\n  vertexShaderHandle: 0,\n  fragmentShaderHandle: 0,\n  geometryShaderHandle: 0,\n  vertexShader: null,\n  fragmentShader: null,\n  geometryShader: null,\n  linked: false,\n  bound: false,\n  compiled: false,\n  error: '',\n  handle: 0,\n  numberOfOutputs: 0,\n  attributesLocs: null,\n  uniformLocs: null,\n  md5Hash: 0,\n  context: null,\n  lastCameraMTime: null\n}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues); // Instantiate internal objects\n\n  model.attributesLocs = {};\n  model.uniformLocs = {};\n  model.vertexShader = vtkShader.newInstance();\n  model.vertexShader.setShaderType('Vertex');\n  model.fragmentShader = vtkShader.newInstance();\n  model.fragmentShader.setShaderType('Fragment');\n  model.geometryShader = vtkShader.newInstance();\n  model.geometryShader.setShaderType('Geometry'); // Build VTK API\n\n  macro.obj(publicAPI, model);\n  macro.get(publicAPI, model, ['lastCameraMTime']);\n  macro.setGet(publicAPI, model, ['error', 'handle', 'compiled', 'bound', 'md5Hash', 'vertexShader', 'fragmentShader', 'geometryShader', 'linked']); // Object methods\n\n  vtkShaderProgram(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar newInstance = macro.newInstance(extend, 'vtkShaderProgram'); // ----------------------------------------------------------------------------\n\nvar vtkShaderProgram$1 = {\n  newInstance: newInstance,\n  extend: extend,\n  substitute: substitute\n};\nexport { vtkShaderProgram$1 as default, substitute };","map":{"version":3,"names":["macro","vtkShader","vtkErrorMacro","substitute","source","search","replace","all","replaceStr","join","replaceSearch","RegExp","resultstr","result","vtkShaderProgram","publicAPI","model","classHierarchy","push","compileShader","vertexShader","compile","getSource","split","map","line","index","concat","getError","fragmentShader","attachShader","error","link","setCompiled","cleanup","shaderType","handle","context","deleteShader","bind","linked","useProgram","setBound","isBound","bound","release","setContext","ctx","geometryShader","uniformLocs","linkProgram","isCompiled","getProgramParameter","LINK_STATUS","lastError","getProgramInfoLog","setLinked","attributeLocs","setUniformMatrix","name","v","location","findUniform","f32","Float32Array","uniformMatrix4fv","setUniformMatrix3x3","uniformMatrix3fv","setUniformf","uniform1f","setUniformfv","uniform1fv","setUniformi","uniform1i","setUniformiv","uniform1iv","setUniform2f","v1","v2","undefined","RangeError","uniform2f","setUniform2fv","uniform2fv","setUniform2i","uniform2i","setUniform2iv","uniform2iv","setUniform3f","a1","a2","a3","uniform3f","setUniform3fArray","a","Array","isArray","length","setUniform3fv","uniform3fv","setUniform3i","_len","arguments","args","_key","array","uniform3i","setUniform3iv","uniform3iv","setUniform4f","_len2","_key2","uniform4f","setUniform4fv","uniform4fv","setUniform4i","_len3","_key3","uniform4i","setUniform4iv","uniform4iv","loc","getUniformLocation","isUniformUsed","isAttributeUsed","getAttribLocation","shader","getHandle","getShaderType","thandle","createProgram","vertexShaderHandle","comntext","detachShader","fragmentShaderHandle","setLastCameraMTime","mtime","lastCameraMTime","DEFAULT_VALUES","geometryShaderHandle","compiled","numberOfOutputs","attributesLocs","md5Hash","extend","initialValues","Object","assign","newInstance","setShaderType","obj","get","setGet","vtkShaderProgram$1","default"],"sources":["/home/rakshith/Documents/RemoteRendering/vtk-js-react-app/node_modules/@kitware/vtk.js/Rendering/OpenGL/ShaderProgram.js"],"sourcesContent":["import macro from '../../macros.js';\nimport vtkShader from './Shader.js';\n\nvar vtkErrorMacro = macro.vtkErrorMacro; // perform in place string substitutions, indicate if a substitution was done\n// this is useful for building up shader strings which typically involve\n// lots of string substitutions. Return true if a substitution was done.\n\nfunction substitute(source, search, replace, all) {\n  // We only accept strings or array of strings, typeof is faster than Array.isArray\n  var replaceStr = typeof replace === 'string' ? replace : replace.join('\\n'); // We don't need to instantiate a RegExp if we don't want a global substitution.\n  // In all other cases, we need to take the provided string or RegExp and\n  // instantiate a new one to add the `g` flag.\n  // Argument defaults are transpiled to slow `arguments`-based operations\n  // better assume undefined as flag to know if the value is set or not\n\n  var replaceSearch = all === false ? search : new RegExp(search, 'g');\n  var resultstr = source.replace(replaceSearch, replaceStr);\n  return {\n    // If the result is different than the input, we did perform a replacement\n    replace: resultstr !== replaceStr,\n    result: resultstr\n  };\n} // ----------------------------------------------------------------------------\n// vtkShaderProgram methods\n// ----------------------------------------------------------------------------\n\nfunction vtkShaderProgram(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkShaderProgram');\n\n  publicAPI.compileShader = function () {\n    if (!model.vertexShader.compile()) {\n      vtkErrorMacro(model.vertexShader.getSource().split('\\n').map(function (line, index) {\n        return \"\".concat(index, \": \").concat(line);\n      }).join('\\n'));\n      vtkErrorMacro(model.vertexShader.getError());\n      return 0;\n    }\n\n    if (!model.fragmentShader.compile()) {\n      vtkErrorMacro(model.fragmentShader.getSource().split('\\n').map(function (line, index) {\n        return \"\".concat(index, \": \").concat(line);\n      }).join('\\n'));\n      vtkErrorMacro(model.fragmentShader.getError());\n      return 0;\n    } // skip geometry for now\n\n\n    if (!publicAPI.attachShader(model.vertexShader)) {\n      vtkErrorMacro(model.error);\n      return 0;\n    }\n\n    if (!publicAPI.attachShader(model.fragmentShader)) {\n      vtkErrorMacro(model.error);\n      return 0;\n    }\n\n    if (!publicAPI.link()) {\n      vtkErrorMacro(\"Links failed: \".concat(model.error));\n      return 0;\n    }\n\n    publicAPI.setCompiled(true);\n    return 1;\n  };\n\n  publicAPI.cleanup = function () {\n    if (model.shaderType === 'Unknown' || model.handle === 0) {\n      return;\n    }\n\n    model.context.deleteShader(model.handle);\n    model.handle = 0;\n  };\n\n  publicAPI.bind = function () {\n    if (!model.linked && !publicAPI.link()) {\n      return false;\n    }\n\n    model.context.useProgram(model.handle);\n    publicAPI.setBound(true);\n    return true;\n  };\n\n  publicAPI.isBound = function () {\n    return !!model.bound;\n  };\n\n  publicAPI.release = function () {\n    model.context.useProgram(null);\n    publicAPI.setBound(false);\n  };\n\n  publicAPI.setContext = function (ctx) {\n    model.vertexShader.setContext(ctx);\n    model.fragmentShader.setContext(ctx);\n    model.geometryShader.setContext(ctx);\n  };\n\n  publicAPI.link = function () {\n    if (model.linked) {\n      return true;\n    }\n\n    if (model.handle === 0) {\n      model.error = 'Program has not been initialized, and/or does not have shaders.';\n      return false;\n    } // clear out the list of uniforms used\n\n\n    model.uniformLocs = {};\n    model.context.linkProgram(model.handle);\n    var isCompiled = model.context.getProgramParameter(model.handle, model.context.LINK_STATUS);\n\n    if (!isCompiled) {\n      var lastError = model.context.getProgramInfoLog(model.handle);\n      vtkErrorMacro(\"Error linking shader \".concat(lastError));\n      model.handle = 0;\n      return false;\n    }\n\n    publicAPI.setLinked(true);\n    model.attributeLocs = {};\n    return true;\n  };\n\n  publicAPI.setUniformMatrix = function (name, v) {\n    var location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n\n    var f32 = new Float32Array(v);\n    model.context.uniformMatrix4fv(location, false, f32);\n    return true;\n  };\n\n  publicAPI.setUniformMatrix3x3 = function (name, v) {\n    var location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n\n    var f32 = new Float32Array(v);\n    model.context.uniformMatrix3fv(location, false, f32);\n    return true;\n  };\n\n  publicAPI.setUniformf = function (name, v) {\n    var location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n\n    model.context.uniform1f(location, v);\n    return true;\n  };\n\n  publicAPI.setUniformfv = function (name, v) {\n    var location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n\n    model.context.uniform1fv(location, v);\n    return true;\n  };\n\n  publicAPI.setUniformi = function (name, v) {\n    var location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n\n    model.context.uniform1i(location, v);\n    return true;\n  };\n\n  publicAPI.setUniformiv = function (name, v) {\n    var location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n\n    model.context.uniform1iv(location, v);\n    return true;\n  };\n\n  publicAPI.setUniform2f = function (name, v1, v2) {\n    var location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n\n    if (v2 === undefined) {\n      throw new RangeError('Invalid number of values for array');\n    }\n\n    model.context.uniform2f(location, v1, v2);\n    return true;\n  };\n\n  publicAPI.setUniform2fv = function (name, v) {\n    var location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n\n    model.context.uniform2fv(location, v);\n    return true;\n  };\n\n  publicAPI.setUniform2i = function (name, v1, v2) {\n    var location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n\n    if (v2 === undefined) {\n      throw new RangeError('Invalid number of values for array');\n    }\n\n    model.context.uniform2i(location, v1, v2);\n    return true;\n  };\n\n  publicAPI.setUniform2iv = function (name, v) {\n    var location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n\n    model.context.uniform2iv(location, v);\n    return true;\n  };\n\n  publicAPI.setUniform3f = function (name, a1, a2, a3) {\n    var location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n\n    if (a3 === undefined) {\n      throw new RangeError('Invalid number of values for array');\n    }\n\n    model.context.uniform3f(location, a1, a2, a3);\n    return true;\n  };\n\n  publicAPI.setUniform3fArray = function (name, a) {\n    var location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n\n    if (!Array.isArray(a) || a.length !== 3) {\n      throw new RangeError('Invalid number of values for array');\n    }\n\n    model.context.uniform3f(location, a[0], a[1], a[2]);\n    return true;\n  };\n\n  publicAPI.setUniform3fv = function (name, v) {\n    var location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n\n    model.context.uniform3fv(location, v);\n    return true;\n  };\n\n  publicAPI.setUniform3i = function (name) {\n    var location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    var array = args; // allow an array passed as a single argument\n\n    if (array.length === 1 && Array.isArray(array[0])) {\n      array = array[0];\n    }\n\n    if (array.length !== 3) {\n      throw new RangeError('Invalid number of values for array');\n    }\n\n    model.context.uniform3i(location, array[0], array[1], array[2]);\n    return true;\n  };\n\n  publicAPI.setUniform3iv = function (name, v) {\n    var location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n\n    model.context.uniform3iv(location, v);\n    return true;\n  };\n\n  publicAPI.setUniform4f = function (name) {\n    var location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    var array = args; // allow an array passed as a single argument\n\n    if (array.length === 1 && Array.isArray(array[0])) {\n      array = array[0];\n    }\n\n    if (array.length !== 4) {\n      throw new RangeError('Invalid number of values for array');\n    }\n\n    model.context.uniform4f(location, array[0], array[1], array[2], array[3]);\n    return true;\n  };\n\n  publicAPI.setUniform4fv = function (name, v) {\n    var location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n\n    model.context.uniform4fv(location, v);\n    return true;\n  };\n\n  publicAPI.setUniform4i = function (name) {\n    var location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n\n    for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      args[_key3 - 1] = arguments[_key3];\n    }\n\n    var array = args; // allow an array passed as a single argument\n\n    if (array.length === 1 && Array.isArray(array[0])) {\n      array = array[0];\n    }\n\n    if (array.length !== 4) {\n      throw new RangeError('Invalid number of values for array');\n    }\n\n    model.context.uniform4i(location, array[0], array[1], array[2], array[3]);\n    return true;\n  };\n\n  publicAPI.setUniform4iv = function (name, v) {\n    var location = publicAPI.findUniform(name);\n\n    if (location === -1) {\n      model.error = \"Could not set uniform \".concat(name, \" . No such uniform.\");\n      return false;\n    }\n\n    model.context.uniform4iv(location, v);\n    return true;\n  };\n\n  publicAPI.findUniform = function (name) {\n    if (!name || !model.linked) {\n      return -1;\n    } // see if we have cached the result\n\n\n    var loc = model.uniformLocs[name];\n\n    if (loc !== undefined) {\n      return loc;\n    }\n\n    loc = model.context.getUniformLocation(model.handle, name);\n\n    if (loc === null) {\n      model.error = \"Uniform \".concat(name, \" not found in current shader program.\");\n      model.uniformLocs[name] = -1;\n      return -1;\n    }\n\n    model.uniformLocs[name] = loc;\n    return loc;\n  };\n\n  publicAPI.isUniformUsed = function (name) {\n    if (!name) {\n      return false;\n    } // see if we have cached the result\n\n\n    var loc = model.uniformLocs[name];\n\n    if (loc !== undefined) {\n      return loc !== null;\n    }\n\n    if (!model.linked) {\n      vtkErrorMacro('attempt to find uniform when the shader program is not linked');\n      return false;\n    }\n\n    loc = model.context.getUniformLocation(model.handle, name);\n    model.uniformLocs[name] = loc;\n\n    if (loc === null) {\n      return false;\n    }\n\n    return true;\n  };\n\n  publicAPI.isAttributeUsed = function (name) {\n    if (!name) {\n      return false;\n    } // see if we have cached the result\n\n\n    if (name in model.attributeLocs) {\n      return true;\n    }\n\n    if (!model.linked) {\n      vtkErrorMacro('attempt to find uniform when the shader program is not linked');\n      return false;\n    }\n\n    var loc = model.context.getAttribLocation(model.handle, name);\n\n    if (loc === -1) {\n      return false;\n    }\n\n    model.attributeLocs[name] = loc;\n    return true;\n  };\n\n  publicAPI.attachShader = function (shader) {\n    if (shader.getHandle() === 0) {\n      model.error = 'Shader object was not initialized, cannot attach it.';\n      return false;\n    }\n\n    if (shader.getShaderType() === 'Unknown') {\n      model.error = 'Shader object is of type Unknown and cannot be used.';\n      return false;\n    }\n\n    if (model.handle === 0) {\n      var thandle = model.context.createProgram();\n\n      if (thandle === 0) {\n        model.error = 'Could not create shader program.';\n        return false;\n      }\n\n      model.handle = thandle;\n      model.linked = false;\n    }\n\n    if (shader.getShaderType() === 'Vertex') {\n      if (model.vertexShaderHandle !== 0) {\n        model.comntext.detachShader(model.handle, model.vertexShaderHandle);\n      }\n\n      model.vertexShaderHandle = shader.getHandle();\n    }\n\n    if (shader.getShaderType() === 'Fragment') {\n      if (model.fragmentShaderHandle !== 0) {\n        model.context.detachShader(model.handle, model.fragmentShaderHandle);\n      }\n\n      model.fragmentShaderHandle = shader.getHandle();\n    }\n\n    model.context.attachShader(model.handle, shader.getHandle());\n    publicAPI.setLinked(false);\n    return true;\n  };\n\n  publicAPI.detachShader = function (shader) {\n    if (shader.getHandle() === 0) {\n      model.error = 'shader object was not initialized, cannot attach it.';\n      return false;\n    }\n\n    if (shader.getShaderType() === 'Unknown') {\n      model.error = 'Shader object is of type Unknown and cannot be used.';\n      return false;\n    }\n\n    if (model.handle === 0) {\n      model.error = 'This shader program has not been initialized yet.';\n    }\n\n    switch (shader.getShaderType()) {\n      case 'Vertex':\n        if (model.vertexShaderHandle !== shader.getHandle()) {\n          model.error = 'The supplied shader was not attached to this program.';\n          return false;\n        }\n\n        model.context.detachShader(model.handle, shader.getHandle());\n        model.vertexShaderHandle = 0;\n        model.linked = false;\n        return true;\n\n      case 'Fragment':\n        if (model.fragmentShaderHandle !== shader.getHandle()) {\n          model.error = 'The supplied shader was not attached to this program.';\n          return false;\n        }\n\n        model.context.detachShader(model.handle, shader.getHandle());\n        model.fragmentShaderHandle = 0;\n        model.linked = false;\n        return true;\n\n      default:\n        return false;\n    }\n  };\n\n  publicAPI.setContext = function (ctx) {\n    model.context = ctx;\n    model.vertexShader.setContext(ctx);\n    model.fragmentShader.setContext(ctx);\n    model.geometryShader.setContext(ctx);\n  };\n\n  publicAPI.setLastCameraMTime = function (mtime) {\n    model.lastCameraMTime = mtime;\n  }; // publicAPI.enableAttributeArray = (name) => {\n  //   const location = publicAPI.findAttributeArray(name);\n  //   if (location === -1) {\n  //     model.error = `Could not enable attribute ${name} No such attribute.`;\n  //     return false;\n  //   }\n  //   model.context.enableVertexAttribArray(location);\n  //   return true;\n  // };\n  // publicAPI.disableAttributeArray = (name) => {\n  //   const location = publicAPI.findAttributeArray(name);\n  //   if (location === -1) {\n  //     model.error = `Could not enable attribute ${name} No such attribute.`;\n  //     return false;\n  //   }\n  //   model.context.disableVertexAttribArray(location);\n  //   return true;\n  // };\n\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\n\nvar DEFAULT_VALUES = {\n  vertexShaderHandle: 0,\n  fragmentShaderHandle: 0,\n  geometryShaderHandle: 0,\n  vertexShader: null,\n  fragmentShader: null,\n  geometryShader: null,\n  linked: false,\n  bound: false,\n  compiled: false,\n  error: '',\n  handle: 0,\n  numberOfOutputs: 0,\n  attributesLocs: null,\n  uniformLocs: null,\n  md5Hash: 0,\n  context: null,\n  lastCameraMTime: null\n}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues); // Instantiate internal objects\n\n  model.attributesLocs = {};\n  model.uniformLocs = {};\n  model.vertexShader = vtkShader.newInstance();\n  model.vertexShader.setShaderType('Vertex');\n  model.fragmentShader = vtkShader.newInstance();\n  model.fragmentShader.setShaderType('Fragment');\n  model.geometryShader = vtkShader.newInstance();\n  model.geometryShader.setShaderType('Geometry'); // Build VTK API\n\n  macro.obj(publicAPI, model);\n  macro.get(publicAPI, model, ['lastCameraMTime']);\n  macro.setGet(publicAPI, model, ['error', 'handle', 'compiled', 'bound', 'md5Hash', 'vertexShader', 'fragmentShader', 'geometryShader', 'linked']); // Object methods\n\n  vtkShaderProgram(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\n\nvar newInstance = macro.newInstance(extend, 'vtkShaderProgram'); // ----------------------------------------------------------------------------\n\nvar vtkShaderProgram$1 = {\n  newInstance: newInstance,\n  extend: extend,\n  substitute: substitute\n};\n\nexport { vtkShaderProgram$1 as default, substitute };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}