{"ast":null,"code":"import macro from '../../macros.js';\nvar vtkErrorMacro = macro.vtkErrorMacro; // ----------------------------------------------------------------------------\n// vtkCanvasView methods\n// ----------------------------------------------------------------------------\n\nfunction vtkCanvasView(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkCanvasView'); // Auto update style\n\n  function updateWindow() {\n    // Canvas size\n    if (model._renderable) {\n      model.canvas.setAttribute('width', model.size[0]);\n      model.canvas.setAttribute('height', model.size[1]);\n    } // ImageStream size\n\n    if (model.viewStream) {\n      // If same size that's a NoOp\n      model.viewStream.setSize(model.size[0], model.size[1]);\n    } // Offscreen ?\n\n    model.canvas.style.display = model.useOffScreen ? 'none' : 'block'; // Cursor type\n\n    if (model.el) {\n      model.el.style.cursor = model.cursorVisibility ? model.cursor : 'none';\n    }\n  }\n  publicAPI.onModified(updateWindow);\n  publicAPI.setContainer = function (el) {\n    if (model.el && model.el !== el) {\n      if (model.canvas.parentNode !== model.el) {\n        vtkErrorMacro('Error: canvas parent node does not match container');\n      } // Remove canvas from previous container\n\n      model.el.removeChild(model.canvas); // If the renderer has previously added\n      // a background image, remove it from the DOM.\n\n      if (model.el.contains(model.bgImage)) {\n        model.el.removeChild(model.bgImage);\n      }\n    }\n    if (model.el !== el) {\n      model.el = el;\n      if (model.el) {\n        model.el.appendChild(model.canvas);\n      } // If the renderer is set to use a background\n      // image, attach it to the DOM.\n\n      if (model.useBackgroundImage) {\n        model.el.appendChild(model.bgImage);\n      } // Trigger modified()\n\n      publicAPI.modified();\n    }\n  };\n  publicAPI.setBackgroundImage = function (img) {\n    model.bgImage.src = img.src;\n  };\n  publicAPI.setUseBackgroundImage = function (value) {\n    model.useBackgroundImage = value; // Add or remove the background image from the\n    // DOM as specified.\n\n    if (model.useBackgroundImage && model.el && !model.el.contains(model.bgImage)) {\n      model.el.appendChild(model.bgImage);\n    } else if (!model.useBackgroundImage && model.el && model.el.contains(model.bgImage)) {\n      model.el.removeChild(model.bgImage);\n    }\n  };\n  publicAPI.setViewStream = function (stream) {\n    if (model.viewStream === stream) {\n      return false;\n    }\n    if (model.subscription) {\n      model.subscription.unsubscribe();\n      model.subscription = null;\n    }\n    model.viewStream = stream;\n    if (model.viewStream) {\n      // Enable display of the background image\n      publicAPI.setUseBackgroundImage(true); // Bind to remote stream\n\n      model.subscription = model.viewStream.onImageReady(function (e) {\n        return publicAPI.setBackgroundImage(e.image);\n      });\n      model.viewStream.setSize(model.size[0], model.size[1]);\n      model.viewStream.invalidateCache();\n      model.viewStream.render();\n      publicAPI.modified();\n    }\n    return true;\n  };\n  publicAPI.delete = macro.chain(publicAPI.setViewStream, publicAPI.delete); // --------------------------------------------------------------------------\n  // Make us look like a View (i.e.: vtkOpenGLRenderWindow)\n  // --------------------------------------------------------------------------\n\n  model._renderable = publicAPI;\n  model._renderers = [publicAPI];\n  publicAPI.traverseAllPasses = function () {};\n  publicAPI.isInViewport = function () {\n    return true;\n  };\n  publicAPI.getInteractive = function () {\n    return true;\n  };\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\nvar DEFAULT_VALUES = {\n  canvas: null,\n  size: [300, 300],\n  cursorVisibility: true,\n  cursor: 'pointer',\n  useOffScreen: false,\n  useBackgroundImage: false\n}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues); // Create internal instances\n\n  model.canvas = document.createElement('canvas');\n  model.canvas.style.width = '100%'; // Create internal bgImage\n\n  model.bgImage = new Image();\n  model.bgImage.style.position = 'absolute';\n  model.bgImage.style.left = '0';\n  model.bgImage.style.top = '0';\n  model.bgImage.style.width = '100%';\n  model.bgImage.style.height = '100%';\n  model.bgImage.style.zIndex = '-1'; // Inheritance\n\n  macro.obj(publicAPI, model, initialValues); // Build VTK API\n\n  macro.get(publicAPI, model, ['useBackgroundImage', '_renderable']);\n  macro.setGet(publicAPI, model, ['canvas', 'cursor', 'useOffScreen', 'interactor']);\n  macro.setGetArray(publicAPI, model, ['size'], 2);\n  macro.getArray(publicAPI, model, ['_renderers']);\n  macro.moveToProtected(publicAPI, model, ['renderable', 'renderers']); // Object methods\n\n  vtkCanvasView(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar newInstance = macro.newInstance(extend, 'vtkCanvasView'); // ----------------------------------------------------------------------------\n\nvar vtkCanvasView$1 = {\n  newInstance: newInstance,\n  extend: extend\n};\nexport { vtkCanvasView$1 as default, extend, newInstance };","map":{"version":3,"names":["macro","vtkErrorMacro","vtkCanvasView","publicAPI","model","classHierarchy","push","updateWindow","_renderable","canvas","setAttribute","size","viewStream","setSize","style","display","useOffScreen","el","cursor","cursorVisibility","onModified","setContainer","parentNode","removeChild","contains","bgImage","appendChild","useBackgroundImage","modified","setBackgroundImage","img","src","setUseBackgroundImage","value","setViewStream","stream","subscription","unsubscribe","onImageReady","e","image","invalidateCache","render","delete","chain","_renderers","traverseAllPasses","isInViewport","getInteractive","DEFAULT_VALUES","extend","initialValues","arguments","length","undefined","Object","assign","document","createElement","width","Image","position","left","top","height","zIndex","obj","get","setGet","setGetArray","getArray","moveToProtected","newInstance","vtkCanvasView$1","default"],"sources":["/home/rakshith/Documents/RemoteRendering/vtk-js-react-app/node_modules/@kitware/vtk.js/Rendering/Misc/CanvasView.js"],"sourcesContent":["import macro from '../../macros.js';\n\nvar vtkErrorMacro = macro.vtkErrorMacro; // ----------------------------------------------------------------------------\n// vtkCanvasView methods\n// ----------------------------------------------------------------------------\n\nfunction vtkCanvasView(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkCanvasView'); // Auto update style\n\n  function updateWindow() {\n    // Canvas size\n    if (model._renderable) {\n      model.canvas.setAttribute('width', model.size[0]);\n      model.canvas.setAttribute('height', model.size[1]);\n    } // ImageStream size\n\n\n    if (model.viewStream) {\n      // If same size that's a NoOp\n      model.viewStream.setSize(model.size[0], model.size[1]);\n    } // Offscreen ?\n\n\n    model.canvas.style.display = model.useOffScreen ? 'none' : 'block'; // Cursor type\n\n    if (model.el) {\n      model.el.style.cursor = model.cursorVisibility ? model.cursor : 'none';\n    }\n  }\n\n  publicAPI.onModified(updateWindow);\n\n  publicAPI.setContainer = function (el) {\n    if (model.el && model.el !== el) {\n      if (model.canvas.parentNode !== model.el) {\n        vtkErrorMacro('Error: canvas parent node does not match container');\n      } // Remove canvas from previous container\n\n\n      model.el.removeChild(model.canvas); // If the renderer has previously added\n      // a background image, remove it from the DOM.\n\n      if (model.el.contains(model.bgImage)) {\n        model.el.removeChild(model.bgImage);\n      }\n    }\n\n    if (model.el !== el) {\n      model.el = el;\n\n      if (model.el) {\n        model.el.appendChild(model.canvas);\n      } // If the renderer is set to use a background\n      // image, attach it to the DOM.\n\n\n      if (model.useBackgroundImage) {\n        model.el.appendChild(model.bgImage);\n      } // Trigger modified()\n\n\n      publicAPI.modified();\n    }\n  };\n\n  publicAPI.setBackgroundImage = function (img) {\n    model.bgImage.src = img.src;\n  };\n\n  publicAPI.setUseBackgroundImage = function (value) {\n    model.useBackgroundImage = value; // Add or remove the background image from the\n    // DOM as specified.\n\n    if (model.useBackgroundImage && model.el && !model.el.contains(model.bgImage)) {\n      model.el.appendChild(model.bgImage);\n    } else if (!model.useBackgroundImage && model.el && model.el.contains(model.bgImage)) {\n      model.el.removeChild(model.bgImage);\n    }\n  };\n\n  publicAPI.setViewStream = function (stream) {\n    if (model.viewStream === stream) {\n      return false;\n    }\n\n    if (model.subscription) {\n      model.subscription.unsubscribe();\n      model.subscription = null;\n    }\n\n    model.viewStream = stream;\n\n    if (model.viewStream) {\n      // Enable display of the background image\n      publicAPI.setUseBackgroundImage(true); // Bind to remote stream\n\n      model.subscription = model.viewStream.onImageReady(function (e) {\n        return publicAPI.setBackgroundImage(e.image);\n      });\n      model.viewStream.setSize(model.size[0], model.size[1]);\n      model.viewStream.invalidateCache();\n      model.viewStream.render();\n      publicAPI.modified();\n    }\n\n    return true;\n  };\n\n  publicAPI.delete = macro.chain(publicAPI.setViewStream, publicAPI.delete); // --------------------------------------------------------------------------\n  // Make us look like a View (i.e.: vtkOpenGLRenderWindow)\n  // --------------------------------------------------------------------------\n\n  model._renderable = publicAPI;\n  model._renderers = [publicAPI];\n\n  publicAPI.traverseAllPasses = function () {};\n\n  publicAPI.isInViewport = function () {\n    return true;\n  };\n\n  publicAPI.getInteractive = function () {\n    return true;\n  };\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\n\nvar DEFAULT_VALUES = {\n  canvas: null,\n  size: [300, 300],\n  cursorVisibility: true,\n  cursor: 'pointer',\n  useOffScreen: false,\n  useBackgroundImage: false\n}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues); // Create internal instances\n\n  model.canvas = document.createElement('canvas');\n  model.canvas.style.width = '100%'; // Create internal bgImage\n\n  model.bgImage = new Image();\n  model.bgImage.style.position = 'absolute';\n  model.bgImage.style.left = '0';\n  model.bgImage.style.top = '0';\n  model.bgImage.style.width = '100%';\n  model.bgImage.style.height = '100%';\n  model.bgImage.style.zIndex = '-1'; // Inheritance\n\n  macro.obj(publicAPI, model, initialValues); // Build VTK API\n\n  macro.get(publicAPI, model, ['useBackgroundImage', '_renderable']);\n  macro.setGet(publicAPI, model, ['canvas', 'cursor', 'useOffScreen', 'interactor']);\n  macro.setGetArray(publicAPI, model, ['size'], 2);\n  macro.getArray(publicAPI, model, ['_renderers']);\n  macro.moveToProtected(publicAPI, model, ['renderable', 'renderers']); // Object methods\n\n  vtkCanvasView(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar newInstance = macro.newInstance(extend, 'vtkCanvasView'); // ----------------------------------------------------------------------------\n\nvar vtkCanvasView$1 = {\n  newInstance: newInstance,\n  extend: extend\n};\n\nexport { vtkCanvasView$1 as default, extend, newInstance };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}