{"ast":null,"code":"import _toConsumableArray from '@babel/runtime/helpers/toConsumableArray';\nimport macro from '../../../macros.js';\nimport { vec3 } from 'gl-matrix';\nfunction widgetBehavior(publicAPI, model) {\n  model.painting = model._factory.getPainting();\n  publicAPI.handleLeftButtonPress = function () {\n    if (!model.activeState || !model.activeState.getActive()) {\n      return macro.VOID;\n    }\n    model.painting = true;\n    var trailCircle = model.widgetState.addTrail();\n    trailCircle.set(model.activeState.get('origin', 'up', 'right', 'direction', 'scale1'));\n    publicAPI.invokeStartInteractionEvent();\n    return macro.EVENT_ABORT;\n  };\n  publicAPI.handleMouseMove = function (callData) {\n    return publicAPI.handleEvent(callData);\n  };\n  publicAPI.handleLeftButtonRelease = function () {\n    if (model.painting) {\n      publicAPI.invokeEndInteractionEvent();\n      model.widgetState.clearTrailList();\n    }\n    model.painting = false;\n    return model.hasFocus ? macro.EVENT_ABORT : macro.VOID;\n  };\n  publicAPI.handleEvent = function (callData) {\n    var _model$activeState$ge, _model$activeState, _model$activeState$ge2;\n    var manipulator = (_model$activeState$ge = (_model$activeState = model.activeState) === null || _model$activeState === void 0 ? void 0 : (_model$activeState$ge2 = _model$activeState.getManipulator) === null || _model$activeState$ge2 === void 0 ? void 0 : _model$activeState$ge2.call(_model$activeState)) !== null && _model$activeState$ge !== void 0 ? _model$activeState$ge : model.manipulator;\n    if (manipulator && model.activeState && model.activeState.getActive()) {\n      var _model$activeState2, _model$activeState3, _model$activeState4;\n      var normal = model._camera.getDirectionOfProjection();\n      var up = model._camera.getViewUp();\n      var right = [];\n      vec3.cross(right, up, normal);\n      (_model$activeState2 = model.activeState).setUp.apply(_model$activeState2, _toConsumableArray(up));\n      (_model$activeState3 = model.activeState).setRight.apply(_model$activeState3, right);\n      (_model$activeState4 = model.activeState).setDirection.apply(_model$activeState4, _toConsumableArray(normal));\n      var _manipulator$handleEv = manipulator.handleEvent(callData, model._apiSpecificRenderWindow),\n        worldCoords = _manipulator$handleEv.worldCoords;\n      if (worldCoords.length) {\n        var _model$widgetState, _model$activeState5;\n        (_model$widgetState = model.widgetState).setTrueOrigin.apply(_model$widgetState, _toConsumableArray(worldCoords));\n        (_model$activeState5 = model.activeState).setOrigin.apply(_model$activeState5, _toConsumableArray(worldCoords));\n        if (model.painting) {\n          var trailCircle = model.widgetState.addTrail();\n          trailCircle.set(model.activeState.get('origin', 'up', 'right', 'direction', 'scale1'));\n        }\n      }\n      publicAPI.invokeInteractionEvent();\n      return macro.EVENT_ABORT;\n    }\n    return macro.VOID;\n  };\n  publicAPI.grabFocus = function () {\n    if (!model.hasFocus) {\n      model.activeState = model.widgetState.getHandle();\n      model.activeState.activate();\n      model._interactor.requestAnimation(publicAPI);\n      var canvas = model._apiSpecificRenderWindow.getCanvas();\n      canvas.onmouseenter = function () {\n        if (model.hasFocus && model.activeState === model.widgetState.getHandle()) {\n          model.activeState.setVisible(true);\n        }\n      };\n      canvas.onmouseleave = function () {\n        if (model.hasFocus && model.activeState === model.widgetState.getHandle()) {\n          model.activeState.setVisible(false);\n        }\n      };\n    }\n    model.hasFocus = true;\n  };\n  publicAPI.loseFocus = function () {\n    if (model.hasFocus) {\n      model._interactor.cancelAnimation(publicAPI);\n    }\n    model.widgetState.deactivate();\n    model.widgetState.getHandle().deactivate();\n    model.activeState = null;\n    model.hasFocus = false;\n  };\n  macro.get(publicAPI, model, ['painting']);\n}\nexport { widgetBehavior as default };","map":{"version":3,"names":["_toConsumableArray","macro","vec3","widgetBehavior","publicAPI","model","painting","_factory","getPainting","handleLeftButtonPress","activeState","getActive","VOID","trailCircle","widgetState","addTrail","set","get","invokeStartInteractionEvent","EVENT_ABORT","handleMouseMove","callData","handleEvent","handleLeftButtonRelease","invokeEndInteractionEvent","clearTrailList","hasFocus","_model$activeState$ge","_model$activeState","_model$activeState$ge2","manipulator","getManipulator","call","_model$activeState2","_model$activeState3","_model$activeState4","normal","_camera","getDirectionOfProjection","up","getViewUp","right","cross","setUp","apply","setRight","setDirection","_manipulator$handleEv","_apiSpecificRenderWindow","worldCoords","length","_model$widgetState","_model$activeState5","setTrueOrigin","setOrigin","invokeInteractionEvent","grabFocus","getHandle","activate","_interactor","requestAnimation","canvas","getCanvas","onmouseenter","setVisible","onmouseleave","loseFocus","cancelAnimation","deactivate","default"],"sources":["/home/rakshith/Documents/RemoteRendering/vtk-js-react-app/node_modules/@kitware/vtk.js/Widgets/Widgets3D/PaintWidget/behavior.js"],"sourcesContent":["import _toConsumableArray from '@babel/runtime/helpers/toConsumableArray';\nimport macro from '../../../macros.js';\nimport { vec3 } from 'gl-matrix';\n\nfunction widgetBehavior(publicAPI, model) {\n  model.painting = model._factory.getPainting();\n\n  publicAPI.handleLeftButtonPress = function () {\n    if (!model.activeState || !model.activeState.getActive()) {\n      return macro.VOID;\n    }\n\n    model.painting = true;\n    var trailCircle = model.widgetState.addTrail();\n    trailCircle.set(model.activeState.get('origin', 'up', 'right', 'direction', 'scale1'));\n    publicAPI.invokeStartInteractionEvent();\n    return macro.EVENT_ABORT;\n  };\n\n  publicAPI.handleMouseMove = function (callData) {\n    return publicAPI.handleEvent(callData);\n  };\n\n  publicAPI.handleLeftButtonRelease = function () {\n    if (model.painting) {\n      publicAPI.invokeEndInteractionEvent();\n      model.widgetState.clearTrailList();\n    }\n\n    model.painting = false;\n    return model.hasFocus ? macro.EVENT_ABORT : macro.VOID;\n  };\n\n  publicAPI.handleEvent = function (callData) {\n    var _model$activeState$ge, _model$activeState, _model$activeState$ge2;\n\n    var manipulator = (_model$activeState$ge = (_model$activeState = model.activeState) === null || _model$activeState === void 0 ? void 0 : (_model$activeState$ge2 = _model$activeState.getManipulator) === null || _model$activeState$ge2 === void 0 ? void 0 : _model$activeState$ge2.call(_model$activeState)) !== null && _model$activeState$ge !== void 0 ? _model$activeState$ge : model.manipulator;\n\n    if (manipulator && model.activeState && model.activeState.getActive()) {\n      var _model$activeState2, _model$activeState3, _model$activeState4;\n\n      var normal = model._camera.getDirectionOfProjection();\n\n      var up = model._camera.getViewUp();\n\n      var right = [];\n      vec3.cross(right, up, normal);\n\n      (_model$activeState2 = model.activeState).setUp.apply(_model$activeState2, _toConsumableArray(up));\n\n      (_model$activeState3 = model.activeState).setRight.apply(_model$activeState3, right);\n\n      (_model$activeState4 = model.activeState).setDirection.apply(_model$activeState4, _toConsumableArray(normal));\n\n      var _manipulator$handleEv = manipulator.handleEvent(callData, model._apiSpecificRenderWindow),\n          worldCoords = _manipulator$handleEv.worldCoords;\n\n      if (worldCoords.length) {\n        var _model$widgetState, _model$activeState5;\n\n        (_model$widgetState = model.widgetState).setTrueOrigin.apply(_model$widgetState, _toConsumableArray(worldCoords));\n\n        (_model$activeState5 = model.activeState).setOrigin.apply(_model$activeState5, _toConsumableArray(worldCoords));\n\n        if (model.painting) {\n          var trailCircle = model.widgetState.addTrail();\n          trailCircle.set(model.activeState.get('origin', 'up', 'right', 'direction', 'scale1'));\n        }\n      }\n\n      publicAPI.invokeInteractionEvent();\n      return macro.EVENT_ABORT;\n    }\n\n    return macro.VOID;\n  };\n\n  publicAPI.grabFocus = function () {\n    if (!model.hasFocus) {\n      model.activeState = model.widgetState.getHandle();\n      model.activeState.activate();\n\n      model._interactor.requestAnimation(publicAPI);\n\n      var canvas = model._apiSpecificRenderWindow.getCanvas();\n\n      canvas.onmouseenter = function () {\n        if (model.hasFocus && model.activeState === model.widgetState.getHandle()) {\n          model.activeState.setVisible(true);\n        }\n      };\n\n      canvas.onmouseleave = function () {\n        if (model.hasFocus && model.activeState === model.widgetState.getHandle()) {\n          model.activeState.setVisible(false);\n        }\n      };\n    }\n\n    model.hasFocus = true;\n  };\n\n  publicAPI.loseFocus = function () {\n    if (model.hasFocus) {\n      model._interactor.cancelAnimation(publicAPI);\n    }\n\n    model.widgetState.deactivate();\n    model.widgetState.getHandle().deactivate();\n    model.activeState = null;\n    model.hasFocus = false;\n  };\n\n  macro.get(publicAPI, model, ['painting']);\n}\n\nexport { widgetBehavior as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}