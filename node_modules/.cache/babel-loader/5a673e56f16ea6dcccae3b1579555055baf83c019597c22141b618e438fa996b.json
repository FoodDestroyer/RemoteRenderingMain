{"ast":null,"code":"import macro from '../../macros.js';\nimport vtkCompositeCameraManipulator from './CompositeCameraManipulator.js';\nimport vtkCompositeMouseManipulator from './CompositeMouseManipulator.js';\n\n// vtkMouseCameraTrackballZoomManipulator methods\n// ----------------------------------------------------------------------------\n\nfunction vtkMouseCameraTrackballZoomManipulator(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkMouseCameraTrackballZoomManipulator');\n  publicAPI.onButtonDown = function (interactor, renderer, position) {\n    model.previousPosition = position;\n    var size = interactor.getView().getViewportSize(renderer);\n    var camera = renderer.getActiveCamera();\n    var direction = model.flipDirection ? -1 : 1;\n    if (camera.getParallelProjection()) {\n      model.zoomScale = 1.5 / size[1] * direction;\n    } else {\n      var range = camera.getClippingRange();\n      model.zoomScale = 1.5 * (range[1] / size[1]) * direction;\n    }\n  };\n  publicAPI.onMouseMove = function (interactor, renderer, position) {\n    if (!position) {\n      return;\n    }\n    var dy = model.previousPosition.y - position.y;\n    var camera = renderer.getActiveCamera();\n    if (camera.getParallelProjection()) {\n      var k = dy * model.zoomScale;\n      camera.setParallelScale((1.0 - k) * camera.getParallelScale());\n    } else {\n      var cameraPos = camera.getPosition();\n      var cameraFp = camera.getFocalPoint();\n      var norm = camera.getDirectionOfProjection();\n      var _k = dy * model.zoomScale;\n      var tmp = _k * norm[0];\n      cameraPos[0] += tmp;\n      cameraFp[0] += tmp;\n      tmp = _k * norm[1];\n      cameraPos[1] += tmp;\n      cameraFp[1] += tmp;\n      tmp = _k * norm[2];\n      cameraPos[2] += tmp;\n      cameraFp[2] += tmp;\n      if (!camera.getFreezeFocalPoint()) {\n        camera.setFocalPoint(cameraFp[0], cameraFp[1], cameraFp[2]);\n      }\n      camera.setPosition(cameraPos[0], cameraPos[1], cameraPos[2]);\n      renderer.resetCameraClippingRange();\n    }\n    if (interactor.getLightFollowCamera()) {\n      renderer.updateLightsGeometryToFollowCamera();\n    }\n    model.previousPosition = position;\n  };\n  publicAPI.onScroll = function (interactor, renderer, delta) {\n    if (!delta) {\n      return;\n    }\n    var camera = renderer.getActiveCamera();\n    var dyf = 1 - delta / 10;\n    if (camera.getParallelProjection()) {\n      camera.setParallelScale(camera.getParallelScale() / dyf);\n    } else {\n      camera.dolly(dyf);\n      renderer.resetCameraClippingRange();\n    }\n    if (interactor.getLightFollowCamera()) {\n      renderer.updateLightsGeometryToFollowCamera();\n    }\n  };\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\nvar DEFAULT_VALUES = {\n  zoomScale: 0.0,\n  flipDirection: false\n}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues); // Inheritance\n\n  macro.obj(publicAPI, model);\n  vtkCompositeMouseManipulator.extend(publicAPI, model, initialValues);\n  vtkCompositeCameraManipulator.extend(publicAPI, model, initialValues);\n  macro.setGet(publicAPI, model, ['flipDirection']); // Object specific methods\n\n  vtkMouseCameraTrackballZoomManipulator(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar newInstance = macro.newInstance(extend, 'vtkMouseCameraTrackballZoomManipulator'); // ----------------------------------------------------------------------------\n\nvar vtkMouseCameraTrackballZoomManipulator$1 = {\n  newInstance: newInstance,\n  extend: extend\n};\nexport { vtkMouseCameraTrackballZoomManipulator$1 as default, extend, newInstance };","map":{"version":3,"names":["macro","vtkCompositeCameraManipulator","vtkCompositeMouseManipulator","vtkMouseCameraTrackballZoomManipulator","publicAPI","model","classHierarchy","push","onButtonDown","interactor","renderer","position","previousPosition","size","getView","getViewportSize","camera","getActiveCamera","direction","flipDirection","getParallelProjection","zoomScale","range","getClippingRange","onMouseMove","dy","y","k","setParallelScale","getParallelScale","cameraPos","getPosition","cameraFp","getFocalPoint","norm","getDirectionOfProjection","_k","tmp","getFreezeFocalPoint","setFocalPoint","setPosition","resetCameraClippingRange","getLightFollowCamera","updateLightsGeometryToFollowCamera","onScroll","delta","dyf","dolly","DEFAULT_VALUES","extend","initialValues","arguments","length","undefined","Object","assign","obj","setGet","newInstance","vtkMouseCameraTrackballZoomManipulator$1","default"],"sources":["/home/rakshith/Documents/RemoteRendering/vtk-js-react-app/node_modules/@kitware/vtk.js/Interaction/Manipulators/MouseCameraTrackballZoomManipulator.js"],"sourcesContent":["import macro from '../../macros.js';\nimport vtkCompositeCameraManipulator from './CompositeCameraManipulator.js';\nimport vtkCompositeMouseManipulator from './CompositeMouseManipulator.js';\n\n// vtkMouseCameraTrackballZoomManipulator methods\n// ----------------------------------------------------------------------------\n\nfunction vtkMouseCameraTrackballZoomManipulator(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkMouseCameraTrackballZoomManipulator');\n\n  publicAPI.onButtonDown = function (interactor, renderer, position) {\n    model.previousPosition = position;\n    var size = interactor.getView().getViewportSize(renderer);\n    var camera = renderer.getActiveCamera();\n    var direction = model.flipDirection ? -1 : 1;\n\n    if (camera.getParallelProjection()) {\n      model.zoomScale = 1.5 / size[1] * direction;\n    } else {\n      var range = camera.getClippingRange();\n      model.zoomScale = 1.5 * (range[1] / size[1]) * direction;\n    }\n  };\n\n  publicAPI.onMouseMove = function (interactor, renderer, position) {\n    if (!position) {\n      return;\n    }\n\n    var dy = model.previousPosition.y - position.y;\n    var camera = renderer.getActiveCamera();\n\n    if (camera.getParallelProjection()) {\n      var k = dy * model.zoomScale;\n      camera.setParallelScale((1.0 - k) * camera.getParallelScale());\n    } else {\n      var cameraPos = camera.getPosition();\n      var cameraFp = camera.getFocalPoint();\n      var norm = camera.getDirectionOfProjection();\n\n      var _k = dy * model.zoomScale;\n\n      var tmp = _k * norm[0];\n      cameraPos[0] += tmp;\n      cameraFp[0] += tmp;\n      tmp = _k * norm[1];\n      cameraPos[1] += tmp;\n      cameraFp[1] += tmp;\n      tmp = _k * norm[2];\n      cameraPos[2] += tmp;\n      cameraFp[2] += tmp;\n\n      if (!camera.getFreezeFocalPoint()) {\n        camera.setFocalPoint(cameraFp[0], cameraFp[1], cameraFp[2]);\n      }\n\n      camera.setPosition(cameraPos[0], cameraPos[1], cameraPos[2]);\n      renderer.resetCameraClippingRange();\n    }\n\n    if (interactor.getLightFollowCamera()) {\n      renderer.updateLightsGeometryToFollowCamera();\n    }\n\n    model.previousPosition = position;\n  };\n\n  publicAPI.onScroll = function (interactor, renderer, delta) {\n    if (!delta) {\n      return;\n    }\n\n    var camera = renderer.getActiveCamera();\n    var dyf = 1 - delta / 10;\n\n    if (camera.getParallelProjection()) {\n      camera.setParallelScale(camera.getParallelScale() / dyf);\n    } else {\n      camera.dolly(dyf);\n      renderer.resetCameraClippingRange();\n    }\n\n    if (interactor.getLightFollowCamera()) {\n      renderer.updateLightsGeometryToFollowCamera();\n    }\n  };\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\n\nvar DEFAULT_VALUES = {\n  zoomScale: 0.0,\n  flipDirection: false\n}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues); // Inheritance\n\n  macro.obj(publicAPI, model);\n  vtkCompositeMouseManipulator.extend(publicAPI, model, initialValues);\n  vtkCompositeCameraManipulator.extend(publicAPI, model, initialValues);\n  macro.setGet(publicAPI, model, ['flipDirection']); // Object specific methods\n\n  vtkMouseCameraTrackballZoomManipulator(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar newInstance = macro.newInstance(extend, 'vtkMouseCameraTrackballZoomManipulator'); // ----------------------------------------------------------------------------\n\nvar vtkMouseCameraTrackballZoomManipulator$1 = {\n  newInstance: newInstance,\n  extend: extend\n};\n\nexport { vtkMouseCameraTrackballZoomManipulator$1 as default, extend, newInstance };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}