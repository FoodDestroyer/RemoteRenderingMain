{"ast":null,"code":"import _classCallCheck from '@babel/runtime/helpers/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/createClass';\nimport vtkCameraSynchronizer from './BehaviorManager/CameraSynchronizer.js';\nvar BEHAVIORS = {};\nvar CameraSync = /*#__PURE__*/function () {\n  function CameraSync(ctx, config) {\n    _classCallCheck(this, CameraSync);\n    this.ctx = ctx;\n    this.behavior = vtkCameraSynchronizer.newInstance(this.getProperties(config));\n    this.behavior.update();\n  }\n  _createClass(CameraSync, [{\n    key: \"getProperties\",\n    value: function getProperties(_ref) {\n      var actorBounds = _ref.actorBounds,\n        srcRenderer = _ref.srcRenderer,\n        dstRenderer = _ref.dstRenderer;\n      var distance = 3.4 * Math.max(actorBounds[1] - actorBounds[0], actorBounds[3] - actorBounds[2], actorBounds[5] - actorBounds[4]);\n      var focalPoint = [0.5 * (actorBounds[0] + actorBounds[1]), 0.5 * (actorBounds[2] + actorBounds[3]), 0.5 * (actorBounds[4] + actorBounds[5])];\n      var mode = vtkCameraSynchronizer.SynchronizationMode.MODE_ORIENTATION;\n      return {\n        distance: distance,\n        focalPoint: focalPoint,\n        mode: mode,\n        srcRenderer: this.ctx.getInstance(srcRenderer),\n        dstRenderer: this.ctx.getInstance(dstRenderer)\n      };\n    }\n  }, {\n    key: \"update\",\n    value: function update(config) {\n      this.behavior.set(this.getProperties(config));\n      this.behavior.update();\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      this.behavior.delete();\n    }\n  }]);\n  return CameraSync;\n}();\nvar BEHAVIORS_TYPES = {\n  CameraSync: CameraSync\n};\nfunction applyBehaviors(renderWindow, state, context) {\n  var rwId = renderWindow.get('synchronizedViewId').synchronizedViewId;\n  if (!state.behaviors || !rwId) {\n    return;\n  } // Apply auto behavior\n\n  if (!BEHAVIORS[rwId]) {\n    BEHAVIORS[rwId] = {};\n  }\n  var localBehaviors = BEHAVIORS[rwId];\n  if (state.behaviors.autoOrientation) {\n    var renderers = renderWindow.getRenderers();\n    if (!localBehaviors.autoOrientationAxes && renderers.length === 2) {\n      var srcRenderer = null;\n      var dstRenderer = null;\n      for (var i = 0; i < renderers.length; i++) {\n        var renderer = renderers[i];\n        if (renderer.getInteractive()) {\n          srcRenderer = renderer;\n        } else {\n          dstRenderer = renderer;\n        }\n      }\n      if (srcRenderer && dstRenderer) {\n        localBehaviors.autoOrientationAxes = vtkCameraSynchronizer.newInstance({\n          srcRenderer: srcRenderer,\n          dstRenderer: dstRenderer\n        });\n      }\n    }\n    if (localBehaviors.autoOrientationAxes && renderers.length !== 2) {\n      localBehaviors.autoOrientationAxes.delete();\n      delete localBehaviors.autoOrientationAxes;\n    }\n  }\n  var currentSets = Object.keys(state.behaviors);\n  var existingSets = Object.keys(localBehaviors);\n  for (var _i = 0; _i < currentSets.length; _i++) {\n    var key = currentSets[_i];\n    if (!localBehaviors[key]) {\n      var config = state.behaviors[key];\n      if (BEHAVIORS_TYPES[config.type]) {\n        localBehaviors[key] = new BEHAVIORS_TYPES[config.type](context, config);\n      } else {\n        console.log('No mapping for', config);\n      }\n    } else {\n      localBehaviors[key].update(state.behaviors[key]);\n    }\n  }\n  for (var _i2 = 0; _i2 < existingSets.length; _i2++) {\n    var _key = currentSets[_i2];\n    if (!state.behaviors[_key]) {\n      // Need to delete previously created behavior\n      localBehaviors[_key].delete();\n      delete localBehaviors[_key];\n    }\n  }\n}\nvar BehaviorManager = {\n  applyBehaviors: applyBehaviors\n};\nexport { applyBehaviors, BehaviorManager as default };","map":{"version":3,"names":["_classCallCheck","_createClass","vtkCameraSynchronizer","BEHAVIORS","CameraSync","ctx","config","behavior","newInstance","getProperties","update","key","value","_ref","actorBounds","srcRenderer","dstRenderer","distance","Math","max","focalPoint","mode","SynchronizationMode","MODE_ORIENTATION","getInstance","set","_delete","delete","BEHAVIORS_TYPES","applyBehaviors","renderWindow","state","context","rwId","get","synchronizedViewId","behaviors","localBehaviors","autoOrientation","renderers","getRenderers","autoOrientationAxes","length","i","renderer","getInteractive","currentSets","Object","keys","existingSets","_i","type","console","log","_i2","_key","BehaviorManager","default"],"sources":["/home/rakshith/Documents/RemoteRendering/vtk-js-react-app/node_modules/@kitware/vtk.js/Rendering/Misc/SynchronizableRenderWindow/BehaviorManager.js"],"sourcesContent":["import _classCallCheck from '@babel/runtime/helpers/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/createClass';\nimport vtkCameraSynchronizer from './BehaviorManager/CameraSynchronizer.js';\n\nvar BEHAVIORS = {};\n\nvar CameraSync = /*#__PURE__*/function () {\n  function CameraSync(ctx, config) {\n    _classCallCheck(this, CameraSync);\n\n    this.ctx = ctx;\n    this.behavior = vtkCameraSynchronizer.newInstance(this.getProperties(config));\n    this.behavior.update();\n  }\n\n  _createClass(CameraSync, [{\n    key: \"getProperties\",\n    value: function getProperties(_ref) {\n      var actorBounds = _ref.actorBounds,\n          srcRenderer = _ref.srcRenderer,\n          dstRenderer = _ref.dstRenderer;\n      var distance = 3.4 * Math.max(actorBounds[1] - actorBounds[0], actorBounds[3] - actorBounds[2], actorBounds[5] - actorBounds[4]);\n      var focalPoint = [0.5 * (actorBounds[0] + actorBounds[1]), 0.5 * (actorBounds[2] + actorBounds[3]), 0.5 * (actorBounds[4] + actorBounds[5])];\n      var mode = vtkCameraSynchronizer.SynchronizationMode.MODE_ORIENTATION;\n      return {\n        distance: distance,\n        focalPoint: focalPoint,\n        mode: mode,\n        srcRenderer: this.ctx.getInstance(srcRenderer),\n        dstRenderer: this.ctx.getInstance(dstRenderer)\n      };\n    }\n  }, {\n    key: \"update\",\n    value: function update(config) {\n      this.behavior.set(this.getProperties(config));\n      this.behavior.update();\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      this.behavior.delete();\n    }\n  }]);\n\n  return CameraSync;\n}();\n\nvar BEHAVIORS_TYPES = {\n  CameraSync: CameraSync\n};\nfunction applyBehaviors(renderWindow, state, context) {\n  var rwId = renderWindow.get('synchronizedViewId').synchronizedViewId;\n\n  if (!state.behaviors || !rwId) {\n    return;\n  } // Apply auto behavior\n\n\n  if (!BEHAVIORS[rwId]) {\n    BEHAVIORS[rwId] = {};\n  }\n\n  var localBehaviors = BEHAVIORS[rwId];\n\n  if (state.behaviors.autoOrientation) {\n    var renderers = renderWindow.getRenderers();\n\n    if (!localBehaviors.autoOrientationAxes && renderers.length === 2) {\n      var srcRenderer = null;\n      var dstRenderer = null;\n\n      for (var i = 0; i < renderers.length; i++) {\n        var renderer = renderers[i];\n\n        if (renderer.getInteractive()) {\n          srcRenderer = renderer;\n        } else {\n          dstRenderer = renderer;\n        }\n      }\n\n      if (srcRenderer && dstRenderer) {\n        localBehaviors.autoOrientationAxes = vtkCameraSynchronizer.newInstance({\n          srcRenderer: srcRenderer,\n          dstRenderer: dstRenderer\n        });\n      }\n    }\n\n    if (localBehaviors.autoOrientationAxes && renderers.length !== 2) {\n      localBehaviors.autoOrientationAxes.delete();\n      delete localBehaviors.autoOrientationAxes;\n    }\n  }\n\n  var currentSets = Object.keys(state.behaviors);\n  var existingSets = Object.keys(localBehaviors);\n\n  for (var _i = 0; _i < currentSets.length; _i++) {\n    var key = currentSets[_i];\n\n    if (!localBehaviors[key]) {\n      var config = state.behaviors[key];\n\n      if (BEHAVIORS_TYPES[config.type]) {\n        localBehaviors[key] = new BEHAVIORS_TYPES[config.type](context, config);\n      } else {\n        console.log('No mapping for', config);\n      }\n    } else {\n      localBehaviors[key].update(state.behaviors[key]);\n    }\n  }\n\n  for (var _i2 = 0; _i2 < existingSets.length; _i2++) {\n    var _key = currentSets[_i2];\n\n    if (!state.behaviors[_key]) {\n      // Need to delete previously created behavior\n      localBehaviors[_key].delete();\n\n      delete localBehaviors[_key];\n    }\n  }\n}\nvar BehaviorManager = {\n  applyBehaviors: applyBehaviors\n};\n\nexport { applyBehaviors, BehaviorManager as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}