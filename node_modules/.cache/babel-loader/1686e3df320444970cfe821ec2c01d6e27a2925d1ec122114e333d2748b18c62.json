{"ast":null,"code":"import macro from '../../macros.js';\nimport vtkCellArrayBufferObject from './CellArrayBufferObject.js';\nimport vtkShaderProgram from './ShaderProgram.js';\nimport vtkVertexArrayObject from './VertexArrayObject.js';\nimport { Representation } from '../Core/Property/Constants.js';\nvar primTypes = {\n  Start: 0,\n  Points: 0,\n  Lines: 1,\n  Tris: 2,\n  TriStrips: 3,\n  TrisEdges: 4,\n  TriStripsEdges: 5,\n  End: 6\n}; // ----------------------------------------------------------------------------\n// vtkOpenGLHelper methods\n// ----------------------------------------------------------------------------\n\nfunction vtkOpenGLHelper(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkOpenGLHelper');\n  publicAPI.setOpenGLRenderWindow = function (win) {\n    model.context = win.getContext();\n    model.program.setContext(model.context);\n    model.VAO.setOpenGLRenderWindow(win);\n    model.CABO.setOpenGLRenderWindow(win);\n  };\n  publicAPI.releaseGraphicsResources = function (oglwin) {\n    model.VAO.releaseGraphicsResources();\n    model.CABO.releaseGraphicsResources();\n    model.CABO.setElementCount(0);\n  };\n  publicAPI.drawArrays = function (ren, actor, rep, oglMapper) {\n    // Are there any entries\n    if (model.CABO.getElementCount()) {\n      // are we drawing edges\n      var mode = publicAPI.getOpenGLMode(rep);\n      var wideLines = publicAPI.haveWideLines(ren, actor);\n      var gl = model.context;\n      var depthMask = gl.getParameter(gl.DEPTH_WRITEMASK);\n      if (model.pointPicking) {\n        gl.depthMask(false);\n      }\n      var drawingLines = mode === gl.LINES;\n      if (drawingLines && wideLines) {\n        publicAPI.updateShaders(ren, actor, oglMapper);\n        gl.drawArraysInstanced(mode, 0, model.CABO.getElementCount(), 2 * Math.ceil(actor.getProperty().getLineWidth()));\n      } else {\n        gl.lineWidth(actor.getProperty().getLineWidth());\n        publicAPI.updateShaders(ren, actor, oglMapper);\n        gl.drawArrays(mode, 0, model.CABO.getElementCount()); // reset the line width\n\n        gl.lineWidth(1);\n      }\n      var stride = (mode === gl.POINTS ? 1 : 0) || (mode === gl.LINES ? 2 : 3);\n      if (model.pointPicking) {\n        gl.depthMask(depthMask);\n      }\n      return model.CABO.getElementCount() / stride;\n    }\n    return 0;\n  };\n  publicAPI.getOpenGLMode = function (rep) {\n    if (model.pointPicking) {\n      return model.context.POINTS;\n    }\n    var type = model.primitiveType;\n    if (rep === Representation.POINTS || type === primTypes.Points) {\n      return model.context.POINTS;\n    }\n    if (rep === Representation.WIREFRAME || type === primTypes.Lines || type === primTypes.TrisEdges || type === primTypes.TriStripsEdges) {\n      return model.context.LINES;\n    }\n    return model.context.TRIANGLES;\n  };\n  publicAPI.haveWideLines = function (ren, actor) {\n    if (actor.getProperty().getLineWidth() > 1.0) {\n      // we have wide lines, but the OpenGL implementation may\n      // actually support them, check the range to see if we\n      // really need have to implement our own wide lines\n      if (model.CABO.getOpenGLRenderWindow()) {\n        if (model.CABO.getOpenGLRenderWindow().getHardwareMaximumLineWidth() >= actor.getProperty().getLineWidth()) {\n          return false;\n        }\n      }\n      return true;\n    }\n    return false;\n  };\n  publicAPI.getNeedToRebuildShaders = function (ren, actor, oglMapper) {\n    // has something changed that would require us to recreate the shader?\n    // candidates are\n    // property modified (representation interpolation and lighting)\n    // input modified\n    // mapper modified (lighting complexity)\n    if (oglMapper.getNeedToRebuildShaders(publicAPI, ren, actor) || publicAPI.getProgram() === 0 || publicAPI.getShaderSourceTime().getMTime() < oglMapper.getMTime() || publicAPI.getShaderSourceTime().getMTime() < actor.getMTime()) {\n      return true;\n    }\n    return false;\n  };\n  publicAPI.updateShaders = function (ren, actor, oglMapper) {\n    // has something changed that would require us to recreate the shader?\n    if (publicAPI.getNeedToRebuildShaders(ren, actor, oglMapper)) {\n      var shaders = {\n        Vertex: null,\n        Fragment: null,\n        Geometry: null\n      };\n      oglMapper.buildShaders(shaders, ren, actor); // compile and bind the program if needed\n\n      var newShader = model.CABO.getOpenGLRenderWindow().getShaderCache().readyShaderProgramArray(shaders.Vertex, shaders.Fragment, shaders.Geometry); // if the shader changed reinitialize the VAO\n\n      if (newShader !== publicAPI.getProgram()) {\n        publicAPI.setProgram(newShader); // reset the VAO as the shader has changed\n\n        publicAPI.getVAO().releaseGraphicsResources();\n      }\n      publicAPI.getShaderSourceTime().modified();\n    } else {\n      model.CABO.getOpenGLRenderWindow().getShaderCache().readyShaderProgram(publicAPI.getProgram());\n    }\n    publicAPI.getVAO().bind();\n    oglMapper.setMapperShaderParameters(publicAPI, ren, actor);\n    oglMapper.setPropertyShaderParameters(publicAPI, ren, actor);\n    oglMapper.setCameraShaderParameters(publicAPI, ren, actor);\n    oglMapper.setLightingShaderParameters(publicAPI, ren, actor);\n    oglMapper.invokeShaderCallbacks(publicAPI, ren, actor);\n  };\n  publicAPI.setMapperShaderParameters = function (ren, actor, size) {\n    if (publicAPI.haveWideLines(ren, actor)) {\n      publicAPI.getProgram().setUniform2f('viewportSize', size.usize, size.vsize);\n      var lineWidth = parseFloat(actor.getProperty().getLineWidth());\n      var halfLineWidth = lineWidth / 2.0;\n      publicAPI.getProgram().setUniformf('lineWidthStepSize', lineWidth / Math.ceil(lineWidth));\n      publicAPI.getProgram().setUniformf('halfLineWidth', halfLineWidth);\n    }\n    if (model.primitiveType === primTypes.Points || actor.getProperty().getRepresentation() === Representation.POINTS) {\n      publicAPI.getProgram().setUniformf('pointSize', actor.getProperty().getPointSize());\n    } else if (model.pointPicking) {\n      publicAPI.getProgram().setUniformf('pointSize', publicAPI.getPointPickingPrimitiveSize());\n    }\n  };\n  publicAPI.replaceShaderPositionVC = function (shaders, ren, actor) {\n    var VSSource = shaders.Vertex; // Always set point size in case we need picking\n\n    VSSource = vtkShaderProgram.substitute(VSSource, '//VTK::PositionVC::Dec', ['//VTK::PositionVC::Dec', 'uniform float pointSize;']).result;\n    VSSource = vtkShaderProgram.substitute(VSSource, '//VTK::PositionVC::Impl', ['//VTK::PositionVC::Impl', '  gl_PointSize = pointSize;'], false).result; // for lines, make sure we add the width code\n\n    if (publicAPI.getOpenGLMode(actor.getProperty().getRepresentation()) === model.context.LINES && publicAPI.haveWideLines(ren, actor)) {\n      VSSource = vtkShaderProgram.substitute(VSSource, '//VTK::PositionVC::Dec', ['//VTK::PositionVC::Dec', 'uniform vec2 viewportSize;', 'uniform float lineWidthStepSize;', 'uniform float halfLineWidth;']).result;\n      VSSource = vtkShaderProgram.substitute(VSSource, '//VTK::PositionVC::Impl', ['//VTK::PositionVC::Impl', ' if (halfLineWidth > 0.0)', '   {', '   float offset = float(gl_InstanceID / 2) * lineWidthStepSize - halfLineWidth;', '   vec4 tmpPos = gl_Position;', '   vec3 tmpPos2 = tmpPos.xyz / tmpPos.w;', '   tmpPos2.x = tmpPos2.x + 2.0 * mod(float(gl_InstanceID), 2.0) * offset / viewportSize[0];', '   tmpPos2.y = tmpPos2.y + 2.0 * mod(float(gl_InstanceID + 1), 2.0) * offset / viewportSize[1];', '   gl_Position = vec4(tmpPos2.xyz * tmpPos.w, tmpPos.w);', '   }']).result;\n    }\n    shaders.Vertex = VSSource;\n  };\n  publicAPI.getPointPickingPrimitiveSize = function () {\n    if (model.primitiveType === primTypes.Points) {\n      return 2;\n    }\n    if (model.primitiveType === primTypes.Lines) {\n      return 4;\n    }\n    return 6;\n  };\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\nvar DEFAULT_VALUES = {\n  context: null,\n  program: null,\n  shaderSourceTime: null,\n  VAO: null,\n  attributeUpdateTime: null,\n  CABO: null,\n  primitiveType: 0,\n  pointPicking: false\n}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues); // Build VTK API\n\n  macro.obj(publicAPI, model);\n  model.shaderSourceTime = {};\n  macro.obj(model.shaderSourceTime);\n  model.attributeUpdateTime = {};\n  macro.obj(model.attributeUpdateTime);\n  macro.setGet(publicAPI, model, ['program', 'shaderSourceTime', 'VAO', 'attributeUpdateTime', 'CABO', 'primitiveType', 'pointPicking']);\n  model.program = vtkShaderProgram.newInstance();\n  model.VAO = vtkVertexArrayObject.newInstance();\n  model.CABO = vtkCellArrayBufferObject.newInstance(); // Object methods\n\n  vtkOpenGLHelper(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar newInstance = macro.newInstance(extend); // ----------------------------------------------------------------------------\n\nvar vtkHelper = {\n  newInstance: newInstance,\n  extend: extend,\n  primTypes: primTypes\n};\nexport { vtkHelper as default, extend, newInstance, primTypes };","map":{"version":3,"names":["macro","vtkCellArrayBufferObject","vtkShaderProgram","vtkVertexArrayObject","Representation","primTypes","Start","Points","Lines","Tris","TriStrips","TrisEdges","TriStripsEdges","End","vtkOpenGLHelper","publicAPI","model","classHierarchy","push","setOpenGLRenderWindow","win","context","getContext","program","setContext","VAO","CABO","releaseGraphicsResources","oglwin","setElementCount","drawArrays","ren","actor","rep","oglMapper","getElementCount","mode","getOpenGLMode","wideLines","haveWideLines","gl","depthMask","getParameter","DEPTH_WRITEMASK","pointPicking","drawingLines","LINES","updateShaders","drawArraysInstanced","Math","ceil","getProperty","getLineWidth","lineWidth","stride","POINTS","type","primitiveType","WIREFRAME","TRIANGLES","getOpenGLRenderWindow","getHardwareMaximumLineWidth","getNeedToRebuildShaders","getProgram","getShaderSourceTime","getMTime","shaders","Vertex","Fragment","Geometry","buildShaders","newShader","getShaderCache","readyShaderProgramArray","setProgram","getVAO","modified","readyShaderProgram","bind","setMapperShaderParameters","setPropertyShaderParameters","setCameraShaderParameters","setLightingShaderParameters","invokeShaderCallbacks","size","setUniform2f","usize","vsize","parseFloat","halfLineWidth","setUniformf","getRepresentation","getPointSize","getPointPickingPrimitiveSize","replaceShaderPositionVC","VSSource","substitute","result","DEFAULT_VALUES","shaderSourceTime","attributeUpdateTime","extend","initialValues","arguments","length","undefined","Object","assign","obj","setGet","newInstance","vtkHelper","default"],"sources":["/home/rakshith/Documents/RemoteRendering/vtk-js-react-app/node_modules/@kitware/vtk.js/Rendering/OpenGL/Helper.js"],"sourcesContent":["import macro from '../../macros.js';\nimport vtkCellArrayBufferObject from './CellArrayBufferObject.js';\nimport vtkShaderProgram from './ShaderProgram.js';\nimport vtkVertexArrayObject from './VertexArrayObject.js';\nimport { Representation } from '../Core/Property/Constants.js';\n\nvar primTypes = {\n  Start: 0,\n  Points: 0,\n  Lines: 1,\n  Tris: 2,\n  TriStrips: 3,\n  TrisEdges: 4,\n  TriStripsEdges: 5,\n  End: 6\n}; // ----------------------------------------------------------------------------\n// vtkOpenGLHelper methods\n// ----------------------------------------------------------------------------\n\nfunction vtkOpenGLHelper(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkOpenGLHelper');\n\n  publicAPI.setOpenGLRenderWindow = function (win) {\n    model.context = win.getContext();\n    model.program.setContext(model.context);\n    model.VAO.setOpenGLRenderWindow(win);\n    model.CABO.setOpenGLRenderWindow(win);\n  };\n\n  publicAPI.releaseGraphicsResources = function (oglwin) {\n    model.VAO.releaseGraphicsResources();\n    model.CABO.releaseGraphicsResources();\n    model.CABO.setElementCount(0);\n  };\n\n  publicAPI.drawArrays = function (ren, actor, rep, oglMapper) {\n    // Are there any entries\n    if (model.CABO.getElementCount()) {\n      // are we drawing edges\n      var mode = publicAPI.getOpenGLMode(rep);\n      var wideLines = publicAPI.haveWideLines(ren, actor);\n      var gl = model.context;\n      var depthMask = gl.getParameter(gl.DEPTH_WRITEMASK);\n\n      if (model.pointPicking) {\n        gl.depthMask(false);\n      }\n\n      var drawingLines = mode === gl.LINES;\n\n      if (drawingLines && wideLines) {\n        publicAPI.updateShaders(ren, actor, oglMapper);\n        gl.drawArraysInstanced(mode, 0, model.CABO.getElementCount(), 2 * Math.ceil(actor.getProperty().getLineWidth()));\n      } else {\n        gl.lineWidth(actor.getProperty().getLineWidth());\n        publicAPI.updateShaders(ren, actor, oglMapper);\n        gl.drawArrays(mode, 0, model.CABO.getElementCount()); // reset the line width\n\n        gl.lineWidth(1);\n      }\n\n      var stride = (mode === gl.POINTS ? 1 : 0) || (mode === gl.LINES ? 2 : 3);\n\n      if (model.pointPicking) {\n        gl.depthMask(depthMask);\n      }\n\n      return model.CABO.getElementCount() / stride;\n    }\n\n    return 0;\n  };\n\n  publicAPI.getOpenGLMode = function (rep) {\n    if (model.pointPicking) {\n      return model.context.POINTS;\n    }\n\n    var type = model.primitiveType;\n\n    if (rep === Representation.POINTS || type === primTypes.Points) {\n      return model.context.POINTS;\n    }\n\n    if (rep === Representation.WIREFRAME || type === primTypes.Lines || type === primTypes.TrisEdges || type === primTypes.TriStripsEdges) {\n      return model.context.LINES;\n    }\n\n    return model.context.TRIANGLES;\n  };\n\n  publicAPI.haveWideLines = function (ren, actor) {\n    if (actor.getProperty().getLineWidth() > 1.0) {\n      // we have wide lines, but the OpenGL implementation may\n      // actually support them, check the range to see if we\n      // really need have to implement our own wide lines\n      if (model.CABO.getOpenGLRenderWindow()) {\n        if (model.CABO.getOpenGLRenderWindow().getHardwareMaximumLineWidth() >= actor.getProperty().getLineWidth()) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    return false;\n  };\n\n  publicAPI.getNeedToRebuildShaders = function (ren, actor, oglMapper) {\n    // has something changed that would require us to recreate the shader?\n    // candidates are\n    // property modified (representation interpolation and lighting)\n    // input modified\n    // mapper modified (lighting complexity)\n    if (oglMapper.getNeedToRebuildShaders(publicAPI, ren, actor) || publicAPI.getProgram() === 0 || publicAPI.getShaderSourceTime().getMTime() < oglMapper.getMTime() || publicAPI.getShaderSourceTime().getMTime() < actor.getMTime()) {\n      return true;\n    }\n\n    return false;\n  };\n\n  publicAPI.updateShaders = function (ren, actor, oglMapper) {\n    // has something changed that would require us to recreate the shader?\n    if (publicAPI.getNeedToRebuildShaders(ren, actor, oglMapper)) {\n      var shaders = {\n        Vertex: null,\n        Fragment: null,\n        Geometry: null\n      };\n      oglMapper.buildShaders(shaders, ren, actor); // compile and bind the program if needed\n\n      var newShader = model.CABO.getOpenGLRenderWindow().getShaderCache().readyShaderProgramArray(shaders.Vertex, shaders.Fragment, shaders.Geometry); // if the shader changed reinitialize the VAO\n\n      if (newShader !== publicAPI.getProgram()) {\n        publicAPI.setProgram(newShader); // reset the VAO as the shader has changed\n\n        publicAPI.getVAO().releaseGraphicsResources();\n      }\n\n      publicAPI.getShaderSourceTime().modified();\n    } else {\n      model.CABO.getOpenGLRenderWindow().getShaderCache().readyShaderProgram(publicAPI.getProgram());\n    }\n\n    publicAPI.getVAO().bind();\n    oglMapper.setMapperShaderParameters(publicAPI, ren, actor);\n    oglMapper.setPropertyShaderParameters(publicAPI, ren, actor);\n    oglMapper.setCameraShaderParameters(publicAPI, ren, actor);\n    oglMapper.setLightingShaderParameters(publicAPI, ren, actor);\n    oglMapper.invokeShaderCallbacks(publicAPI, ren, actor);\n  };\n\n  publicAPI.setMapperShaderParameters = function (ren, actor, size) {\n    if (publicAPI.haveWideLines(ren, actor)) {\n      publicAPI.getProgram().setUniform2f('viewportSize', size.usize, size.vsize);\n      var lineWidth = parseFloat(actor.getProperty().getLineWidth());\n      var halfLineWidth = lineWidth / 2.0;\n      publicAPI.getProgram().setUniformf('lineWidthStepSize', lineWidth / Math.ceil(lineWidth));\n      publicAPI.getProgram().setUniformf('halfLineWidth', halfLineWidth);\n    }\n\n    if (model.primitiveType === primTypes.Points || actor.getProperty().getRepresentation() === Representation.POINTS) {\n      publicAPI.getProgram().setUniformf('pointSize', actor.getProperty().getPointSize());\n    } else if (model.pointPicking) {\n      publicAPI.getProgram().setUniformf('pointSize', publicAPI.getPointPickingPrimitiveSize());\n    }\n  };\n\n  publicAPI.replaceShaderPositionVC = function (shaders, ren, actor) {\n    var VSSource = shaders.Vertex; // Always set point size in case we need picking\n\n    VSSource = vtkShaderProgram.substitute(VSSource, '//VTK::PositionVC::Dec', ['//VTK::PositionVC::Dec', 'uniform float pointSize;']).result;\n    VSSource = vtkShaderProgram.substitute(VSSource, '//VTK::PositionVC::Impl', ['//VTK::PositionVC::Impl', '  gl_PointSize = pointSize;'], false).result; // for lines, make sure we add the width code\n\n    if (publicAPI.getOpenGLMode(actor.getProperty().getRepresentation()) === model.context.LINES && publicAPI.haveWideLines(ren, actor)) {\n      VSSource = vtkShaderProgram.substitute(VSSource, '//VTK::PositionVC::Dec', ['//VTK::PositionVC::Dec', 'uniform vec2 viewportSize;', 'uniform float lineWidthStepSize;', 'uniform float halfLineWidth;']).result;\n      VSSource = vtkShaderProgram.substitute(VSSource, '//VTK::PositionVC::Impl', ['//VTK::PositionVC::Impl', ' if (halfLineWidth > 0.0)', '   {', '   float offset = float(gl_InstanceID / 2) * lineWidthStepSize - halfLineWidth;', '   vec4 tmpPos = gl_Position;', '   vec3 tmpPos2 = tmpPos.xyz / tmpPos.w;', '   tmpPos2.x = tmpPos2.x + 2.0 * mod(float(gl_InstanceID), 2.0) * offset / viewportSize[0];', '   tmpPos2.y = tmpPos2.y + 2.0 * mod(float(gl_InstanceID + 1), 2.0) * offset / viewportSize[1];', '   gl_Position = vec4(tmpPos2.xyz * tmpPos.w, tmpPos.w);', '   }']).result;\n    }\n\n    shaders.Vertex = VSSource;\n  };\n\n  publicAPI.getPointPickingPrimitiveSize = function () {\n    if (model.primitiveType === primTypes.Points) {\n      return 2;\n    }\n\n    if (model.primitiveType === primTypes.Lines) {\n      return 4;\n    }\n\n    return 6;\n  };\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\n\nvar DEFAULT_VALUES = {\n  context: null,\n  program: null,\n  shaderSourceTime: null,\n  VAO: null,\n  attributeUpdateTime: null,\n  CABO: null,\n  primitiveType: 0,\n  pointPicking: false\n}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues); // Build VTK API\n\n  macro.obj(publicAPI, model);\n  model.shaderSourceTime = {};\n  macro.obj(model.shaderSourceTime);\n  model.attributeUpdateTime = {};\n  macro.obj(model.attributeUpdateTime);\n  macro.setGet(publicAPI, model, ['program', 'shaderSourceTime', 'VAO', 'attributeUpdateTime', 'CABO', 'primitiveType', 'pointPicking']);\n  model.program = vtkShaderProgram.newInstance();\n  model.VAO = vtkVertexArrayObject.newInstance();\n  model.CABO = vtkCellArrayBufferObject.newInstance(); // Object methods\n\n  vtkOpenGLHelper(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar newInstance = macro.newInstance(extend); // ----------------------------------------------------------------------------\n\nvar vtkHelper = {\n  newInstance: newInstance,\n  extend: extend,\n  primTypes: primTypes\n};\n\nexport { vtkHelper as default, extend, newInstance, primTypes };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}