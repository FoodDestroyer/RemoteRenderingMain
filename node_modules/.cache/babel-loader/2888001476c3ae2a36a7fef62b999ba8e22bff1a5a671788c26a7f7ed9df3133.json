{"ast":null,"code":"import _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport macro from '../../macros.js';\nimport vtkActor from '../../Rendering/Core/Actor.js';\nimport vtkGlyph3DMapper from '../../Rendering/Core/Glyph3DMapper.js';\nimport vtkHandleRepresentation from './HandleRepresentation.js';\nimport vtkContextRepresentation from './ContextRepresentation.js';\nimport vtkSphereSource from '../../Filters/Sources/SphereSource.js';\nimport vtkPolyData from '../../Common/DataModel/PolyData.js';\nimport { ScalarMode } from '../../Rendering/Core/Mapper/Constants.js';\nimport { getPixelWorldHeightAtCoord } from '../Core/WidgetManager.js';\nimport vtkWidgetRepresentation, { allocateArray } from './WidgetRepresentation.js';\nimport { Behavior } from './WidgetRepresentation/Constants.js';\nimport { OrientationModes } from '../../Rendering/Core/Glyph3DMapper/Constants.js';\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\n// vtkGlyphRepresentation methods\n// ----------------------------------------------------------------------------\n\nfunction origin(publicAPI, model) {\n  return function (polyData, states) {\n    var points = allocateArray(polyData, 'points', states.length).getData();\n    var j = 0;\n    for (var i = 0; i < states.length; ++i) {\n      var coord = states[i].getOrigin(model.scaleInPixels && model.displayScaleParams);\n      points[j++] = coord[0];\n      points[j++] = coord[1];\n      points[j++] = coord[2];\n    }\n  };\n}\nfunction noPosition(publicAPI, model) {\n  return function (polyData, states) {\n    allocateArray(polyData, 'points', 0);\n  };\n}\nfunction color3(publicAPI, model) {\n  return function (polyData, states) {\n    model._pipeline.mapper.setColorByArrayName('color');\n    var colorArray = allocateArray(polyData, 'color', states.length, 'Uint8Array',\n    // RGBA\n    4);\n    var colors = colorArray.getData();\n    var j = 0;\n    for (var i = 0; i < states.length; ++i) {\n      var c3 = states[i].getColor3();\n      if (states[i].getActive() && model.useActiveColor) {\n        c3 = model.activeColor;\n      }\n      colors[j++] = c3[0];\n      colors[j++] = c3[1];\n      colors[j++] = c3[2];\n      colors[j++] = states[i].getOpacity();\n    }\n    colorArray.dataChange();\n  };\n}\nfunction color(publicAPI, model) {\n  return function (polyData, states) {\n    model._pipeline.mapper.setColorByArrayName('color');\n    var colors = allocateArray(polyData, 'color', states.length).getData();\n    for (var i = 0; i < states.length; ++i) {\n      var c = states[i].getColor();\n      if (states[i].getActive() && model.useActiveColor) {\n        c = model.activeColor;\n      }\n      colors[i] = c;\n    }\n  };\n}\nfunction noColor(publicAPI, model) {\n  return function (polyData, states) {\n    model._pipeline.mapper.setColorByArrayName(null);\n  };\n}\nfunction scale3(publicAPI, model) {\n  return function (polyData, states) {\n    model._pipeline.mapper.setScaleArray('scale');\n    model._pipeline.mapper.setScaleFactor(1);\n    model._pipeline.mapper.setScaling(true);\n    model._pipeline.mapper.setScaleMode(vtkGlyph3DMapper.ScaleModes.SCALE_BY_COMPONENTS);\n    var scales = allocateArray(polyData, 'scale', states.length, 'Float32Array', 3).getData();\n    var j = 0;\n    for (var i = 0; i < states.length; ++i) {\n      var _state$getScale, _state$getScale2;\n      var state = states[i];\n      var scaleFactor = state.getActive() ? model.activeScaleFactor : 1;\n      if (publicAPI.getScaleInPixels()) {\n        scaleFactor *= getPixelWorldHeightAtCoord(state.getOrigin(), model.displayScaleParams);\n      }\n      var scale = (_state$getScale = (_state$getScale2 = state.getScale3) === null || _state$getScale2 === void 0 ? void 0 : _state$getScale2.call(state)) !== null && _state$getScale !== void 0 ? _state$getScale : model.defaultScale;\n      scales[j++] = scaleFactor * scale[0];\n      scales[j++] = scaleFactor * scale[1];\n      scales[j++] = scaleFactor * scale[2];\n    }\n  };\n}\nfunction scale1(publicAPI, model) {\n  return function (polyData, states) {\n    model._pipeline.mapper.setScaleArray('scale');\n    model._pipeline.mapper.setScaleFactor(1);\n    model._pipeline.mapper.setScaling(true);\n    var scales = allocateArray(polyData, 'scale', states.length).getData();\n    for (var i = 0; i < states.length; ++i) {\n      var _state$getScale3, _state$getScale4;\n      var state = states[i];\n      var scaleFactor = state.getActive() ? model.activeScaleFactor : 1;\n      if (publicAPI.getScaleInPixels()) {\n        scaleFactor *= getPixelWorldHeightAtCoord(state.getOrigin(), model.displayScaleParams);\n      }\n      var scale = (_state$getScale3 = (_state$getScale4 = state.getScale1) === null || _state$getScale4 === void 0 ? void 0 : _state$getScale4.call(state)) !== null && _state$getScale3 !== void 0 ? _state$getScale3 : model.defaultScale;\n      scales[i] = scaleFactor * scale;\n    }\n  };\n}\nfunction noScale(publicAPI, model) {\n  return function (polyData, states) {\n    model._pipeline.mapper.setScaleArray(null);\n    model._pipeline.mapper.setScaleFactor(model.defaultScale);\n    model._pipeline.mapper.setScaling(model.defaultScale !== 1);\n  };\n}\nfunction direction(publicAPI, model) {\n  return function (polyData, states) {\n    model._pipeline.mapper.setOrientationArray('orientation');\n    model._pipeline.mapper.setOrientationMode(OrientationModes.MATRIX);\n    var orientation = allocateArray(polyData, 'orientation', states.length, 'Float32Array', 9).getData();\n    for (var i = 0; i < states.length; ++i) {\n      var state = states[i];\n      var right = state.getRight ? state.getRight() : [1, 0, 0];\n      var up = state.getUp ? state.getUp() : [0, 1, 0];\n      var dir = state.getDirection ? state.getDirection() : [0, 0, 1];\n      orientation.set(right, 9 * i);\n      orientation.set(up, 9 * i + 3);\n      orientation.set(dir, 9 * i + 6);\n    }\n  };\n}\nfunction noOrientation(publicAPI, model) {\n  return function (polyData, states) {\n    model._pipeline.mapper.setOrientationArray(null);\n  };\n}\nfunction vtkGlyphRepresentation(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkGlyphRepresentation');\n  var superClass = _objectSpread({}, publicAPI);\n  var internalPolyData = vtkPolyData.newInstance({\n    mtime: 0\n  });\n  function hasMixin(states) {\n    for (var _len = arguments.length, requiredMixins = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      requiredMixins[_key - 1] = arguments[_key];\n    }\n    return requiredMixins.every(function (requiredMixin) {\n      var _states$, _states$$;\n      return ((_states$ = states[0]) === null || _states$ === void 0 ? void 0 : (_states$$ = _states$[\"get\".concat(macro.capitalize(requiredMixin))]) === null || _states$$ === void 0 ? void 0 : _states$$.call(_states$)) != null;\n    });\n  } // --------------------------------------------------------------------------\n  // Generic rendering pipeline\n  // --------------------------------------------------------------------------\n  // --------------------------------------------------------------------------\n\n  publicAPI.getRepresentationStates = function () {\n    var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : model.inputData[0];\n    return superClass.getRepresentationStates(input).filter(function (state) {\n      var _state$getOrigin, _state$isVisible, _state$isVisible2;\n      return ((_state$getOrigin = state.getOrigin) === null || _state$getOrigin === void 0 ? void 0 : _state$getOrigin.call(state)) && ((_state$isVisible = (_state$isVisible2 = state.isVisible) === null || _state$isVisible2 === void 0 ? void 0 : _state$isVisible2.call(state)) !== null && _state$isVisible !== void 0 ? _state$isVisible : true);\n    });\n  }; // --------------------------------------------------------------------------\n\n  publicAPI.getMixins = function (states) {\n    var glyphProperties = {};\n    if (hasMixin(states, 'origin')) {\n      glyphProperties.position = model.applyMixin.origin;\n    } else {\n      glyphProperties.position = model.applyMixin.noPosition;\n    }\n    if (hasMixin(states, 'color3')) {\n      glyphProperties.color = model.applyMixin.color3;\n    } else if (hasMixin(states, 'color')) {\n      glyphProperties.color = model.applyMixin.color;\n    } else {\n      glyphProperties.color = model.applyMixin.noColor;\n    }\n    if (hasMixin(states, 'scale3')) {\n      glyphProperties.scale = model.applyMixin.scale3;\n    } else if (hasMixin(states, 'scale1')) {\n      glyphProperties.scale = model.applyMixin.scale1;\n    } else {\n      glyphProperties.scale = model.applyMixin.noScale;\n    }\n    if (hasMixin(states, 'direction')) {\n      glyphProperties.orientation = model.applyMixin.direction;\n    } else {\n      glyphProperties.orientation = model.applyMixin.noOrientation;\n    }\n    return glyphProperties;\n  };\n  publicAPI.requestData = function (inData, outData) {\n    var states = publicAPI.getRepresentationStates(inData[0]);\n    outData[0] = internalPolyData;\n    var glyphProperties = publicAPI.getMixins(states);\n    Object.values(glyphProperties).forEach(function (property) {\n      return property(internalPolyData, states);\n    });\n    internalPolyData.getPoints().modified();\n    internalPolyData.modified();\n  };\n  vtkWidgetRepresentation.connectPipeline(model._pipeline);\n  publicAPI.addActor(model._pipeline.actor);\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\nfunction defaultValues(publicAPI, model, initialValues) {\n  var _initialValues$_pipel, _initialValues$_pipel2, _initialValues$_pipel3, _initialValues$_pipel4, _initialValues$_pipel5, _initialValues$_pipel6, _initialValues$_pipel7, _initialValues$_pipel8, _initialValues$applyM, _initialValues$applyM2, _initialValues$applyM3, _initialValues$applyM4, _initialValues$applyM5, _initialValues$applyM6, _initialValues$applyM7, _initialValues$applyM8, _initialValues$applyM9, _initialValues$applyM10, _initialValues$applyM11, _initialValues$applyM12, _initialValues$applyM13, _initialValues$applyM14, _initialValues$applyM15, _initialValues$applyM16, _initialValues$applyM17, _initialValues$applyM18, _initialValues$applyM19, _initialValues$applyM20;\n  return _objectSpread(_objectSpread({\n    defaultScale: 1\n  }, initialValues), {}, {\n    _pipeline: _objectSpread({\n      source: (_initialValues$_pipel = (_initialValues$_pipel2 = initialValues._pipeline) === null || _initialValues$_pipel2 === void 0 ? void 0 : _initialValues$_pipel2.source) !== null && _initialValues$_pipel !== void 0 ? _initialValues$_pipel : publicAPI,\n      glyph: (_initialValues$_pipel3 = (_initialValues$_pipel4 = initialValues._pipeline) === null || _initialValues$_pipel4 === void 0 ? void 0 : _initialValues$_pipel4.glyph) !== null && _initialValues$_pipel3 !== void 0 ? _initialValues$_pipel3 :\n      // in case glyph was provided\n      vtkSphereSource.newInstance({\n        phiResolution: 8,\n        thetaResolution: 8\n      }),\n      mapper: (_initialValues$_pipel5 = (_initialValues$_pipel6 = initialValues._pipeline) === null || _initialValues$_pipel6 === void 0 ? void 0 : _initialValues$_pipel6.mapper) !== null && _initialValues$_pipel5 !== void 0 ? _initialValues$_pipel5 :\n      // in case mapper was provided\n      vtkGlyph3DMapper.newInstance({\n        scalarMode: ScalarMode.USE_POINT_FIELD_DATA\n      }),\n      actor: (_initialValues$_pipel7 = (_initialValues$_pipel8 = initialValues._pipeline) === null || _initialValues$_pipel8 === void 0 ? void 0 : _initialValues$_pipel8.actor) !== null && _initialValues$_pipel7 !== void 0 ? _initialValues$_pipel7 :\n      // in case actor was provided\n      vtkActor.newInstance({\n        parentProp: publicAPI\n      })\n    }, initialValues._pipeline),\n    applyMixin: _objectSpread({\n      origin: (_initialValues$applyM = (_initialValues$applyM2 = initialValues.applyMixin) === null || _initialValues$applyM2 === void 0 ? void 0 : _initialValues$applyM2.origin) !== null && _initialValues$applyM !== void 0 ? _initialValues$applyM : origin(publicAPI, model),\n      noPosition: (_initialValues$applyM3 = (_initialValues$applyM4 = initialValues.applyMixin) === null || _initialValues$applyM4 === void 0 ? void 0 : _initialValues$applyM4.noPosition) !== null && _initialValues$applyM3 !== void 0 ? _initialValues$applyM3 : noPosition(),\n      color3: (_initialValues$applyM5 = (_initialValues$applyM6 = initialValues.applyMixin) === null || _initialValues$applyM6 === void 0 ? void 0 : _initialValues$applyM6.color3) !== null && _initialValues$applyM5 !== void 0 ? _initialValues$applyM5 : color3(publicAPI, model),\n      color: (_initialValues$applyM7 = (_initialValues$applyM8 = initialValues.applyMixin) === null || _initialValues$applyM8 === void 0 ? void 0 : _initialValues$applyM8.color) !== null && _initialValues$applyM7 !== void 0 ? _initialValues$applyM7 : color(publicAPI, model),\n      noColor: (_initialValues$applyM9 = (_initialValues$applyM10 = initialValues.applyMixin) === null || _initialValues$applyM10 === void 0 ? void 0 : _initialValues$applyM10.noColor) !== null && _initialValues$applyM9 !== void 0 ? _initialValues$applyM9 : noColor(publicAPI, model),\n      scale3: (_initialValues$applyM11 = (_initialValues$applyM12 = initialValues.applyMixin) === null || _initialValues$applyM12 === void 0 ? void 0 : _initialValues$applyM12.scale3) !== null && _initialValues$applyM11 !== void 0 ? _initialValues$applyM11 : scale3(publicAPI, model),\n      scale1: (_initialValues$applyM13 = (_initialValues$applyM14 = initialValues.applyMixin) === null || _initialValues$applyM14 === void 0 ? void 0 : _initialValues$applyM14.scale1) !== null && _initialValues$applyM13 !== void 0 ? _initialValues$applyM13 : scale1(publicAPI, model),\n      noScale: (_initialValues$applyM15 = (_initialValues$applyM16 = initialValues.applyMixin) === null || _initialValues$applyM16 === void 0 ? void 0 : _initialValues$applyM16.noScale) !== null && _initialValues$applyM15 !== void 0 ? _initialValues$applyM15 : noScale(publicAPI, model),\n      direction: (_initialValues$applyM17 = (_initialValues$applyM18 = initialValues.applyMixin) === null || _initialValues$applyM18 === void 0 ? void 0 : _initialValues$applyM18.direction) !== null && _initialValues$applyM17 !== void 0 ? _initialValues$applyM17 : direction(publicAPI, model),\n      noOrientation: (_initialValues$applyM19 = (_initialValues$applyM20 = initialValues.applyMixin) === null || _initialValues$applyM20 === void 0 ? void 0 : _initialValues$applyM20.noOrientation) !== null && _initialValues$applyM19 !== void 0 ? _initialValues$applyM19 : noOrientation(publicAPI, model)\n    }, initialValues.applyMixin)\n  });\n} // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  if (initialValues.behavior === Behavior.CONTEXT) {\n    vtkContextRepresentation.extend(publicAPI, model, defaultValues(publicAPI, model, initialValues));\n  } else {\n    vtkHandleRepresentation.extend(publicAPI, model, defaultValues(publicAPI, model, initialValues));\n  }\n  macro.setGet(publicAPI, model._pipeline, ['defaultScale']);\n  macro.get(publicAPI, model._pipeline, ['glyph', 'mapper', 'actor']); // Expose the mixin functions to allow overwriting\n\n  macro.setGet(publicAPI, model.applyMixin, Object.keys(model.applyMixin)); // Object specific methods\n\n  vtkGlyphRepresentation(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar newInstance = macro.newInstance(extend, 'vtkGlyphRepresentation'); // ----------------------------------------------------------------------------\n\nvar vtkGlyphRepresentation$1 = {\n  newInstance: newInstance,\n  extend: extend\n};\nexport { color, color3, vtkGlyphRepresentation$1 as default, direction, extend, newInstance, noColor, noOrientation, noPosition, noScale, origin, scale1, scale3 };","map":{"version":3,"names":["_defineProperty","macro","vtkActor","vtkGlyph3DMapper","vtkHandleRepresentation","vtkContextRepresentation","vtkSphereSource","vtkPolyData","ScalarMode","getPixelWorldHeightAtCoord","vtkWidgetRepresentation","allocateArray","Behavior","OrientationModes","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","origin","publicAPI","model","polyData","states","points","getData","j","coord","getOrigin","scaleInPixels","displayScaleParams","noPosition","color3","_pipeline","mapper","setColorByArrayName","colorArray","colors","c3","getColor3","getActive","useActiveColor","activeColor","getOpacity","dataChange","color","c","getColor","noColor","scale3","setScaleArray","setScaleFactor","setScaling","setScaleMode","ScaleModes","SCALE_BY_COMPONENTS","scales","_state$getScale","_state$getScale2","state","scaleFactor","activeScaleFactor","getScaleInPixels","scale","getScale3","call","defaultScale","scale1","_state$getScale3","_state$getScale4","getScale1","noScale","direction","setOrientationArray","setOrientationMode","MATRIX","orientation","right","getRight","up","getUp","dir","getDirection","set","noOrientation","vtkGlyphRepresentation","classHierarchy","superClass","internalPolyData","newInstance","mtime","hasMixin","_len","requiredMixins","Array","_key","every","requiredMixin","_states$","_states$$","concat","capitalize","getRepresentationStates","input","undefined","inputData","_state$getOrigin","_state$isVisible","_state$isVisible2","isVisible","getMixins","glyphProperties","position","applyMixin","requestData","inData","outData","values","property","getPoints","modified","connectPipeline","addActor","actor","defaultValues","initialValues","_initialValues$_pipel","_initialValues$_pipel2","_initialValues$_pipel3","_initialValues$_pipel4","_initialValues$_pipel5","_initialValues$_pipel6","_initialValues$_pipel7","_initialValues$_pipel8","_initialValues$applyM","_initialValues$applyM2","_initialValues$applyM3","_initialValues$applyM4","_initialValues$applyM5","_initialValues$applyM6","_initialValues$applyM7","_initialValues$applyM8","_initialValues$applyM9","_initialValues$applyM10","_initialValues$applyM11","_initialValues$applyM12","_initialValues$applyM13","_initialValues$applyM14","_initialValues$applyM15","_initialValues$applyM16","_initialValues$applyM17","_initialValues$applyM18","_initialValues$applyM19","_initialValues$applyM20","glyph","phiResolution","thetaResolution","scalarMode","USE_POINT_FIELD_DATA","parentProp","extend","behavior","CONTEXT","setGet","get","vtkGlyphRepresentation$1","default"],"sources":["/home/rakshith/Documents/RemoteRendering/vtk-js-react-app/node_modules/@kitware/vtk.js/Widgets/Representations/GlyphRepresentation.js"],"sourcesContent":["import _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport macro from '../../macros.js';\nimport vtkActor from '../../Rendering/Core/Actor.js';\nimport vtkGlyph3DMapper from '../../Rendering/Core/Glyph3DMapper.js';\nimport vtkHandleRepresentation from './HandleRepresentation.js';\nimport vtkContextRepresentation from './ContextRepresentation.js';\nimport vtkSphereSource from '../../Filters/Sources/SphereSource.js';\nimport vtkPolyData from '../../Common/DataModel/PolyData.js';\nimport { ScalarMode } from '../../Rendering/Core/Mapper/Constants.js';\nimport { getPixelWorldHeightAtCoord } from '../Core/WidgetManager.js';\nimport vtkWidgetRepresentation, { allocateArray } from './WidgetRepresentation.js';\nimport { Behavior } from './WidgetRepresentation/Constants.js';\nimport { OrientationModes } from '../../Rendering/Core/Glyph3DMapper/Constants.js';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n// vtkGlyphRepresentation methods\n// ----------------------------------------------------------------------------\n\nfunction origin(publicAPI, model) {\n  return function (polyData, states) {\n    var points = allocateArray(polyData, 'points', states.length).getData();\n    var j = 0;\n\n    for (var i = 0; i < states.length; ++i) {\n      var coord = states[i].getOrigin(model.scaleInPixels && model.displayScaleParams);\n      points[j++] = coord[0];\n      points[j++] = coord[1];\n      points[j++] = coord[2];\n    }\n  };\n}\nfunction noPosition(publicAPI, model) {\n  return function (polyData, states) {\n    allocateArray(polyData, 'points', 0);\n  };\n}\nfunction color3(publicAPI, model) {\n  return function (polyData, states) {\n    model._pipeline.mapper.setColorByArrayName('color');\n\n    var colorArray = allocateArray(polyData, 'color', states.length, 'Uint8Array', // RGBA\n    4);\n    var colors = colorArray.getData();\n    var j = 0;\n\n    for (var i = 0; i < states.length; ++i) {\n      var c3 = states[i].getColor3();\n\n      if (states[i].getActive() && model.useActiveColor) {\n        c3 = model.activeColor;\n      }\n\n      colors[j++] = c3[0];\n      colors[j++] = c3[1];\n      colors[j++] = c3[2];\n      colors[j++] = states[i].getOpacity();\n    }\n\n    colorArray.dataChange();\n  };\n}\nfunction color(publicAPI, model) {\n  return function (polyData, states) {\n    model._pipeline.mapper.setColorByArrayName('color');\n\n    var colors = allocateArray(polyData, 'color', states.length).getData();\n\n    for (var i = 0; i < states.length; ++i) {\n      var c = states[i].getColor();\n\n      if (states[i].getActive() && model.useActiveColor) {\n        c = model.activeColor;\n      }\n\n      colors[i] = c;\n    }\n  };\n}\nfunction noColor(publicAPI, model) {\n  return function (polyData, states) {\n    model._pipeline.mapper.setColorByArrayName(null);\n  };\n}\nfunction scale3(publicAPI, model) {\n  return function (polyData, states) {\n    model._pipeline.mapper.setScaleArray('scale');\n\n    model._pipeline.mapper.setScaleFactor(1);\n\n    model._pipeline.mapper.setScaling(true);\n\n    model._pipeline.mapper.setScaleMode(vtkGlyph3DMapper.ScaleModes.SCALE_BY_COMPONENTS);\n\n    var scales = allocateArray(polyData, 'scale', states.length, 'Float32Array', 3).getData();\n    var j = 0;\n\n    for (var i = 0; i < states.length; ++i) {\n      var _state$getScale, _state$getScale2;\n\n      var state = states[i];\n      var scaleFactor = state.getActive() ? model.activeScaleFactor : 1;\n\n      if (publicAPI.getScaleInPixels()) {\n        scaleFactor *= getPixelWorldHeightAtCoord(state.getOrigin(), model.displayScaleParams);\n      }\n\n      var scale = (_state$getScale = (_state$getScale2 = state.getScale3) === null || _state$getScale2 === void 0 ? void 0 : _state$getScale2.call(state)) !== null && _state$getScale !== void 0 ? _state$getScale : model.defaultScale;\n      scales[j++] = scaleFactor * scale[0];\n      scales[j++] = scaleFactor * scale[1];\n      scales[j++] = scaleFactor * scale[2];\n    }\n  };\n}\nfunction scale1(publicAPI, model) {\n  return function (polyData, states) {\n    model._pipeline.mapper.setScaleArray('scale');\n\n    model._pipeline.mapper.setScaleFactor(1);\n\n    model._pipeline.mapper.setScaling(true);\n\n    var scales = allocateArray(polyData, 'scale', states.length).getData();\n\n    for (var i = 0; i < states.length; ++i) {\n      var _state$getScale3, _state$getScale4;\n\n      var state = states[i];\n      var scaleFactor = state.getActive() ? model.activeScaleFactor : 1;\n\n      if (publicAPI.getScaleInPixels()) {\n        scaleFactor *= getPixelWorldHeightAtCoord(state.getOrigin(), model.displayScaleParams);\n      }\n\n      var scale = (_state$getScale3 = (_state$getScale4 = state.getScale1) === null || _state$getScale4 === void 0 ? void 0 : _state$getScale4.call(state)) !== null && _state$getScale3 !== void 0 ? _state$getScale3 : model.defaultScale;\n      scales[i] = scaleFactor * scale;\n    }\n  };\n}\nfunction noScale(publicAPI, model) {\n  return function (polyData, states) {\n    model._pipeline.mapper.setScaleArray(null);\n\n    model._pipeline.mapper.setScaleFactor(model.defaultScale);\n\n    model._pipeline.mapper.setScaling(model.defaultScale !== 1);\n  };\n}\nfunction direction(publicAPI, model) {\n  return function (polyData, states) {\n    model._pipeline.mapper.setOrientationArray('orientation');\n\n    model._pipeline.mapper.setOrientationMode(OrientationModes.MATRIX);\n\n    var orientation = allocateArray(polyData, 'orientation', states.length, 'Float32Array', 9).getData();\n\n    for (var i = 0; i < states.length; ++i) {\n      var state = states[i];\n      var right = state.getRight ? state.getRight() : [1, 0, 0];\n      var up = state.getUp ? state.getUp() : [0, 1, 0];\n      var dir = state.getDirection ? state.getDirection() : [0, 0, 1];\n      orientation.set(right, 9 * i);\n      orientation.set(up, 9 * i + 3);\n      orientation.set(dir, 9 * i + 6);\n    }\n  };\n}\nfunction noOrientation(publicAPI, model) {\n  return function (polyData, states) {\n    model._pipeline.mapper.setOrientationArray(null);\n  };\n}\n\nfunction vtkGlyphRepresentation(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkGlyphRepresentation');\n\n  var superClass = _objectSpread({}, publicAPI);\n\n  var internalPolyData = vtkPolyData.newInstance({\n    mtime: 0\n  });\n\n  function hasMixin(states) {\n    for (var _len = arguments.length, requiredMixins = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      requiredMixins[_key - 1] = arguments[_key];\n    }\n\n    return requiredMixins.every(function (requiredMixin) {\n      var _states$, _states$$;\n\n      return ((_states$ = states[0]) === null || _states$ === void 0 ? void 0 : (_states$$ = _states$[\"get\".concat(macro.capitalize(requiredMixin))]) === null || _states$$ === void 0 ? void 0 : _states$$.call(_states$)) != null;\n    });\n  } // --------------------------------------------------------------------------\n  // Generic rendering pipeline\n  // --------------------------------------------------------------------------\n  // --------------------------------------------------------------------------\n\n\n  publicAPI.getRepresentationStates = function () {\n    var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : model.inputData[0];\n    return superClass.getRepresentationStates(input).filter(function (state) {\n      var _state$getOrigin, _state$isVisible, _state$isVisible2;\n\n      return ((_state$getOrigin = state.getOrigin) === null || _state$getOrigin === void 0 ? void 0 : _state$getOrigin.call(state)) && ((_state$isVisible = (_state$isVisible2 = state.isVisible) === null || _state$isVisible2 === void 0 ? void 0 : _state$isVisible2.call(state)) !== null && _state$isVisible !== void 0 ? _state$isVisible : true);\n    });\n  }; // --------------------------------------------------------------------------\n\n\n  publicAPI.getMixins = function (states) {\n    var glyphProperties = {};\n\n    if (hasMixin(states, 'origin')) {\n      glyphProperties.position = model.applyMixin.origin;\n    } else {\n      glyphProperties.position = model.applyMixin.noPosition;\n    }\n\n    if (hasMixin(states, 'color3')) {\n      glyphProperties.color = model.applyMixin.color3;\n    } else if (hasMixin(states, 'color')) {\n      glyphProperties.color = model.applyMixin.color;\n    } else {\n      glyphProperties.color = model.applyMixin.noColor;\n    }\n\n    if (hasMixin(states, 'scale3')) {\n      glyphProperties.scale = model.applyMixin.scale3;\n    } else if (hasMixin(states, 'scale1')) {\n      glyphProperties.scale = model.applyMixin.scale1;\n    } else {\n      glyphProperties.scale = model.applyMixin.noScale;\n    }\n\n    if (hasMixin(states, 'direction')) {\n      glyphProperties.orientation = model.applyMixin.direction;\n    } else {\n      glyphProperties.orientation = model.applyMixin.noOrientation;\n    }\n\n    return glyphProperties;\n  };\n\n  publicAPI.requestData = function (inData, outData) {\n    var states = publicAPI.getRepresentationStates(inData[0]);\n    outData[0] = internalPolyData;\n    var glyphProperties = publicAPI.getMixins(states);\n    Object.values(glyphProperties).forEach(function (property) {\n      return property(internalPolyData, states);\n    });\n    internalPolyData.getPoints().modified();\n    internalPolyData.modified();\n  };\n\n  vtkWidgetRepresentation.connectPipeline(model._pipeline);\n  publicAPI.addActor(model._pipeline.actor);\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\n\nfunction defaultValues(publicAPI, model, initialValues) {\n  var _initialValues$_pipel, _initialValues$_pipel2, _initialValues$_pipel3, _initialValues$_pipel4, _initialValues$_pipel5, _initialValues$_pipel6, _initialValues$_pipel7, _initialValues$_pipel8, _initialValues$applyM, _initialValues$applyM2, _initialValues$applyM3, _initialValues$applyM4, _initialValues$applyM5, _initialValues$applyM6, _initialValues$applyM7, _initialValues$applyM8, _initialValues$applyM9, _initialValues$applyM10, _initialValues$applyM11, _initialValues$applyM12, _initialValues$applyM13, _initialValues$applyM14, _initialValues$applyM15, _initialValues$applyM16, _initialValues$applyM17, _initialValues$applyM18, _initialValues$applyM19, _initialValues$applyM20;\n\n  return _objectSpread(_objectSpread({\n    defaultScale: 1\n  }, initialValues), {}, {\n    _pipeline: _objectSpread({\n      source: (_initialValues$_pipel = (_initialValues$_pipel2 = initialValues._pipeline) === null || _initialValues$_pipel2 === void 0 ? void 0 : _initialValues$_pipel2.source) !== null && _initialValues$_pipel !== void 0 ? _initialValues$_pipel : publicAPI,\n      glyph: (_initialValues$_pipel3 = (_initialValues$_pipel4 = initialValues._pipeline) === null || _initialValues$_pipel4 === void 0 ? void 0 : _initialValues$_pipel4.glyph) !== null && _initialValues$_pipel3 !== void 0 ? _initialValues$_pipel3 : // in case glyph was provided\n      vtkSphereSource.newInstance({\n        phiResolution: 8,\n        thetaResolution: 8\n      }),\n      mapper: (_initialValues$_pipel5 = (_initialValues$_pipel6 = initialValues._pipeline) === null || _initialValues$_pipel6 === void 0 ? void 0 : _initialValues$_pipel6.mapper) !== null && _initialValues$_pipel5 !== void 0 ? _initialValues$_pipel5 : // in case mapper was provided\n      vtkGlyph3DMapper.newInstance({\n        scalarMode: ScalarMode.USE_POINT_FIELD_DATA\n      }),\n      actor: (_initialValues$_pipel7 = (_initialValues$_pipel8 = initialValues._pipeline) === null || _initialValues$_pipel8 === void 0 ? void 0 : _initialValues$_pipel8.actor) !== null && _initialValues$_pipel7 !== void 0 ? _initialValues$_pipel7 : // in case actor was provided\n      vtkActor.newInstance({\n        parentProp: publicAPI\n      })\n    }, initialValues._pipeline),\n    applyMixin: _objectSpread({\n      origin: (_initialValues$applyM = (_initialValues$applyM2 = initialValues.applyMixin) === null || _initialValues$applyM2 === void 0 ? void 0 : _initialValues$applyM2.origin) !== null && _initialValues$applyM !== void 0 ? _initialValues$applyM : origin(publicAPI, model),\n      noPosition: (_initialValues$applyM3 = (_initialValues$applyM4 = initialValues.applyMixin) === null || _initialValues$applyM4 === void 0 ? void 0 : _initialValues$applyM4.noPosition) !== null && _initialValues$applyM3 !== void 0 ? _initialValues$applyM3 : noPosition(),\n      color3: (_initialValues$applyM5 = (_initialValues$applyM6 = initialValues.applyMixin) === null || _initialValues$applyM6 === void 0 ? void 0 : _initialValues$applyM6.color3) !== null && _initialValues$applyM5 !== void 0 ? _initialValues$applyM5 : color3(publicAPI, model),\n      color: (_initialValues$applyM7 = (_initialValues$applyM8 = initialValues.applyMixin) === null || _initialValues$applyM8 === void 0 ? void 0 : _initialValues$applyM8.color) !== null && _initialValues$applyM7 !== void 0 ? _initialValues$applyM7 : color(publicAPI, model),\n      noColor: (_initialValues$applyM9 = (_initialValues$applyM10 = initialValues.applyMixin) === null || _initialValues$applyM10 === void 0 ? void 0 : _initialValues$applyM10.noColor) !== null && _initialValues$applyM9 !== void 0 ? _initialValues$applyM9 : noColor(publicAPI, model),\n      scale3: (_initialValues$applyM11 = (_initialValues$applyM12 = initialValues.applyMixin) === null || _initialValues$applyM12 === void 0 ? void 0 : _initialValues$applyM12.scale3) !== null && _initialValues$applyM11 !== void 0 ? _initialValues$applyM11 : scale3(publicAPI, model),\n      scale1: (_initialValues$applyM13 = (_initialValues$applyM14 = initialValues.applyMixin) === null || _initialValues$applyM14 === void 0 ? void 0 : _initialValues$applyM14.scale1) !== null && _initialValues$applyM13 !== void 0 ? _initialValues$applyM13 : scale1(publicAPI, model),\n      noScale: (_initialValues$applyM15 = (_initialValues$applyM16 = initialValues.applyMixin) === null || _initialValues$applyM16 === void 0 ? void 0 : _initialValues$applyM16.noScale) !== null && _initialValues$applyM15 !== void 0 ? _initialValues$applyM15 : noScale(publicAPI, model),\n      direction: (_initialValues$applyM17 = (_initialValues$applyM18 = initialValues.applyMixin) === null || _initialValues$applyM18 === void 0 ? void 0 : _initialValues$applyM18.direction) !== null && _initialValues$applyM17 !== void 0 ? _initialValues$applyM17 : direction(publicAPI, model),\n      noOrientation: (_initialValues$applyM19 = (_initialValues$applyM20 = initialValues.applyMixin) === null || _initialValues$applyM20 === void 0 ? void 0 : _initialValues$applyM20.noOrientation) !== null && _initialValues$applyM19 !== void 0 ? _initialValues$applyM19 : noOrientation(publicAPI, model)\n    }, initialValues.applyMixin)\n  });\n} // ----------------------------------------------------------------------------\n\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (initialValues.behavior === Behavior.CONTEXT) {\n    vtkContextRepresentation.extend(publicAPI, model, defaultValues(publicAPI, model, initialValues));\n  } else {\n    vtkHandleRepresentation.extend(publicAPI, model, defaultValues(publicAPI, model, initialValues));\n  }\n\n  macro.setGet(publicAPI, model._pipeline, ['defaultScale']);\n  macro.get(publicAPI, model._pipeline, ['glyph', 'mapper', 'actor']); // Expose the mixin functions to allow overwriting\n\n  macro.setGet(publicAPI, model.applyMixin, Object.keys(model.applyMixin)); // Object specific methods\n\n  vtkGlyphRepresentation(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar newInstance = macro.newInstance(extend, 'vtkGlyphRepresentation'); // ----------------------------------------------------------------------------\n\nvar vtkGlyphRepresentation$1 = {\n  newInstance: newInstance,\n  extend: extend\n};\n\nexport { color, color3, vtkGlyphRepresentation$1 as default, direction, extend, newInstance, noColor, noOrientation, noPosition, noScale, origin, scale1, scale3 };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}