{"ast":null,"code":"import { mat4, vec3 } from 'gl-matrix';\nimport macro from '../../macros.js';\nimport vtkCompositeCameraManipulator from './CompositeCameraManipulator.js';\nimport vtkCompositeMouseManipulator from './CompositeMouseManipulator.js';\nimport { r as radiansFromDegrees, A as degreesFromRadians } from '../../Common/Core/Math/index.js';\n\n// vtkMouseCameraTrackballRollManipulator methods\n// ----------------------------------------------------------------------------\n\nfunction vtkMouseCameraTrackballRollManipulator(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkMouseCameraTrackballRollManipulator');\n  var axis = new Float64Array(3);\n  var direction = new Float64Array(3);\n  var centerNeg = new Float64Array(3);\n  var transform = new Float64Array(16);\n  var newCamPos = new Float64Array(3);\n  var newFp = new Float64Array(3);\n  var newViewUp = new Float64Array(3);\n  publicAPI.onButtonDown = function (interactor, renderer, position) {\n    model.previousPosition = position;\n  };\n  publicAPI.onMouseMove = function (interactor, renderer, position) {\n    if (!position) {\n      return;\n    }\n    var camera = renderer.getActiveCamera(); // compute view vector (rotation axis)\n\n    var cameraPos = camera.getPosition();\n    var cameraFp = camera.getFocalPoint();\n    var viewUp = camera.getViewUp();\n    axis[0] = cameraFp[0] - cameraPos[0];\n    axis[1] = cameraFp[1] - cameraPos[1];\n    axis[2] = cameraFp[2] - cameraPos[2]; // compute the angle of rotation\n    // - first compute the two vectors (center to mouse)\n\n    publicAPI.computeDisplayCenter(interactor.getInteractorStyle(), renderer);\n    var x1 = model.previousPosition.x - model.displayCenter[0];\n    var x2 = position.x - model.displayCenter[0];\n    var y1 = model.previousPosition.y - model.displayCenter[1];\n    var y2 = position.y - model.displayCenter[1];\n    if (x2 === 0 && y2 === 0 || x1 === 0 && y1 === 0) {\n      // don't ever want to divide by zero\n      return;\n    } // - divide by magnitudes to get angle\n\n    var angle = degreesFromRadians((x1 * y2 - y1 * x2) / (Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2)));\n    var center = model.center;\n    mat4.identity(transform);\n    centerNeg[0] = -center[0];\n    centerNeg[1] = -center[1];\n    centerNeg[2] = -center[2]; // Translate to center\n\n    mat4.translate(transform, transform, center); // roll\n\n    mat4.rotate(transform, transform, radiansFromDegrees(angle), axis); // Translate back\n\n    mat4.translate(transform, transform, centerNeg); // Apply transformation to camera position, focal point, and view up\n\n    vec3.transformMat4(newCamPos, cameraPos, transform);\n    vec3.transformMat4(newFp, cameraFp, transform);\n    direction[0] = viewUp[0] + cameraPos[0];\n    direction[1] = viewUp[1] + cameraPos[1];\n    direction[2] = viewUp[2] + cameraPos[2];\n    vec3.transformMat4(newViewUp, direction, transform);\n    camera.setPosition(newCamPos[0], newCamPos[1], newCamPos[2]);\n    camera.setFocalPoint(newFp[0], newFp[1], newFp[2]);\n    camera.setViewUp(newViewUp[0] - newCamPos[0], newViewUp[1] - newCamPos[1], newViewUp[2] - newCamPos[2]);\n    camera.orthogonalizeViewUp();\n    renderer.resetCameraClippingRange();\n    if (interactor.getLightFollowCamera()) {\n      renderer.updateLightsGeometryToFollowCamera();\n    }\n    model.previousPosition = position;\n  };\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\nvar DEFAULT_VALUES = {}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues); // Inheritance\n\n  macro.obj(publicAPI, model);\n  vtkCompositeCameraManipulator.extend(publicAPI, model, initialValues);\n  vtkCompositeMouseManipulator.extend(publicAPI, model, initialValues); // Object specific methods\n\n  vtkMouseCameraTrackballRollManipulator(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar newInstance = macro.newInstance(extend, 'vtkMouseCameraTrackballRollManipulator'); // ----------------------------------------------------------------------------\n\nvar vtkMouseCameraTrackballRollManipulator$1 = {\n  newInstance: newInstance,\n  extend: extend\n};\nexport { vtkMouseCameraTrackballRollManipulator$1 as default, extend, newInstance };","map":{"version":3,"names":["mat4","vec3","macro","vtkCompositeCameraManipulator","vtkCompositeMouseManipulator","r","radiansFromDegrees","A","degreesFromRadians","vtkMouseCameraTrackballRollManipulator","publicAPI","model","classHierarchy","push","axis","Float64Array","direction","centerNeg","transform","newCamPos","newFp","newViewUp","onButtonDown","interactor","renderer","position","previousPosition","onMouseMove","camera","getActiveCamera","cameraPos","getPosition","cameraFp","getFocalPoint","viewUp","getViewUp","computeDisplayCenter","getInteractorStyle","x1","x","displayCenter","x2","y1","y","y2","angle","Math","sqrt","center","identity","translate","rotate","transformMat4","setPosition","setFocalPoint","setViewUp","orthogonalizeViewUp","resetCameraClippingRange","getLightFollowCamera","updateLightsGeometryToFollowCamera","DEFAULT_VALUES","extend","initialValues","arguments","length","undefined","Object","assign","obj","newInstance","vtkMouseCameraTrackballRollManipulator$1","default"],"sources":["/home/rakshith/Documents/RemoteRendering/vtk-js-react-app/node_modules/@kitware/vtk.js/Interaction/Manipulators/MouseCameraTrackballRollManipulator.js"],"sourcesContent":["import { mat4, vec3 } from 'gl-matrix';\nimport macro from '../../macros.js';\nimport vtkCompositeCameraManipulator from './CompositeCameraManipulator.js';\nimport vtkCompositeMouseManipulator from './CompositeMouseManipulator.js';\nimport { r as radiansFromDegrees, A as degreesFromRadians } from '../../Common/Core/Math/index.js';\n\n// vtkMouseCameraTrackballRollManipulator methods\n// ----------------------------------------------------------------------------\n\nfunction vtkMouseCameraTrackballRollManipulator(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkMouseCameraTrackballRollManipulator');\n  var axis = new Float64Array(3);\n  var direction = new Float64Array(3);\n  var centerNeg = new Float64Array(3);\n  var transform = new Float64Array(16);\n  var newCamPos = new Float64Array(3);\n  var newFp = new Float64Array(3);\n  var newViewUp = new Float64Array(3);\n\n  publicAPI.onButtonDown = function (interactor, renderer, position) {\n    model.previousPosition = position;\n  };\n\n  publicAPI.onMouseMove = function (interactor, renderer, position) {\n    if (!position) {\n      return;\n    }\n\n    var camera = renderer.getActiveCamera(); // compute view vector (rotation axis)\n\n    var cameraPos = camera.getPosition();\n    var cameraFp = camera.getFocalPoint();\n    var viewUp = camera.getViewUp();\n    axis[0] = cameraFp[0] - cameraPos[0];\n    axis[1] = cameraFp[1] - cameraPos[1];\n    axis[2] = cameraFp[2] - cameraPos[2]; // compute the angle of rotation\n    // - first compute the two vectors (center to mouse)\n\n    publicAPI.computeDisplayCenter(interactor.getInteractorStyle(), renderer);\n    var x1 = model.previousPosition.x - model.displayCenter[0];\n    var x2 = position.x - model.displayCenter[0];\n    var y1 = model.previousPosition.y - model.displayCenter[1];\n    var y2 = position.y - model.displayCenter[1];\n\n    if (x2 === 0 && y2 === 0 || x1 === 0 && y1 === 0) {\n      // don't ever want to divide by zero\n      return;\n    } // - divide by magnitudes to get angle\n\n\n    var angle = degreesFromRadians((x1 * y2 - y1 * x2) / (Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2)));\n    var center = model.center;\n    mat4.identity(transform);\n    centerNeg[0] = -center[0];\n    centerNeg[1] = -center[1];\n    centerNeg[2] = -center[2]; // Translate to center\n\n    mat4.translate(transform, transform, center); // roll\n\n    mat4.rotate(transform, transform, radiansFromDegrees(angle), axis); // Translate back\n\n    mat4.translate(transform, transform, centerNeg); // Apply transformation to camera position, focal point, and view up\n\n    vec3.transformMat4(newCamPos, cameraPos, transform);\n    vec3.transformMat4(newFp, cameraFp, transform);\n    direction[0] = viewUp[0] + cameraPos[0];\n    direction[1] = viewUp[1] + cameraPos[1];\n    direction[2] = viewUp[2] + cameraPos[2];\n    vec3.transformMat4(newViewUp, direction, transform);\n    camera.setPosition(newCamPos[0], newCamPos[1], newCamPos[2]);\n    camera.setFocalPoint(newFp[0], newFp[1], newFp[2]);\n    camera.setViewUp(newViewUp[0] - newCamPos[0], newViewUp[1] - newCamPos[1], newViewUp[2] - newCamPos[2]);\n    camera.orthogonalizeViewUp();\n    renderer.resetCameraClippingRange();\n\n    if (interactor.getLightFollowCamera()) {\n      renderer.updateLightsGeometryToFollowCamera();\n    }\n\n    model.previousPosition = position;\n  };\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\n\nvar DEFAULT_VALUES = {}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues); // Inheritance\n\n  macro.obj(publicAPI, model);\n  vtkCompositeCameraManipulator.extend(publicAPI, model, initialValues);\n  vtkCompositeMouseManipulator.extend(publicAPI, model, initialValues); // Object specific methods\n\n  vtkMouseCameraTrackballRollManipulator(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar newInstance = macro.newInstance(extend, 'vtkMouseCameraTrackballRollManipulator'); // ----------------------------------------------------------------------------\n\nvar vtkMouseCameraTrackballRollManipulator$1 = {\n  newInstance: newInstance,\n  extend: extend\n};\n\nexport { vtkMouseCameraTrackballRollManipulator$1 as default, extend, newInstance };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}