{"ast":null,"code":"import _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport macro from '../../macros.js';\nimport vtkInteractorStyle from '../../Rendering/Core/InteractorStyle.js';\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nvar vtkDebugMacro = macro.vtkDebugMacro;\nvar States = vtkInteractorStyle.States; // ----------------------------------------------------------------------------\n// Event Types\n// ----------------------------------------------------------------------------\n\nvar START_INTERACTION_EVENT = {\n  type: 'StartInteractionEvent'\n};\nvar INTERACTION_EVENT = {\n  type: 'InteractionEvent'\n};\nvar END_INTERACTION_EVENT = {\n  type: 'EndInteractionEvent'\n}; // ----------------------------------------------------------------------------\n// Global methods\n// ----------------------------------------------------------------------------\n\nfunction translateCamera(renderer, rwi, toX, toY, fromX, fromY) {\n  var cam = renderer.getActiveCamera();\n  var viewFocus = cam.getFocalPoint();\n  viewFocus = rwi.getInteractorStyle().computeWorldToDisplay(renderer, viewFocus[0], viewFocus[1], viewFocus[2]);\n  var focalDepth = viewFocus[2];\n  var newPickPoint = rwi.getInteractorStyle().computeDisplayToWorld(renderer, toX, toY, focalDepth);\n  var oldPickPoint = rwi.getInteractorStyle().computeDisplayToWorld(renderer, fromX, fromY, focalDepth); // camera motion is reversed\n\n  var motionVector = [oldPickPoint[0] - newPickPoint[0], oldPickPoint[1] - newPickPoint[1], oldPickPoint[2] - newPickPoint[2]];\n  viewFocus = cam.getFocalPoint();\n  var viewPoint = cam.getPosition();\n  cam.setFocalPoint(motionVector[0] + viewFocus[0], motionVector[1] + viewFocus[1], motionVector[2] + viewFocus[2]);\n  cam.setPosition(motionVector[0] + viewPoint[0], motionVector[1] + viewPoint[1], motionVector[2] + viewPoint[2]);\n}\nfunction dollyToPosition(fact, position, renderer, rwi) {\n  var cam = renderer.getActiveCamera();\n  if (cam.getParallelProjection()) {\n    // Zoom relatively to the cursor\n    var view = rwi.getView();\n    var aSize = view.getViewportSize(renderer);\n    var viewport = renderer.getViewport();\n    var viewSize = view.getSize();\n    var w = aSize[0];\n    var h = aSize[1];\n    var x0 = w / 2;\n    var y0 = h / 2;\n    var x1 = position.x - viewport[0] * viewSize[0];\n    var y1 = position.y - viewport[1] * viewSize[1];\n    translateCamera(renderer, rwi, x0, y0, x1, y1);\n    cam.setParallelScale(cam.getParallelScale() / fact);\n    translateCamera(renderer, rwi, x1, y1, x0, y0);\n  } else {\n    // Zoom relatively to the cursor position\n    // Move focal point to cursor position\n    var viewFocus = cam.getFocalPoint();\n    var norm = cam.getViewPlaneNormal();\n    viewFocus = rwi.getInteractorStyle().computeWorldToDisplay(renderer, viewFocus[0], viewFocus[1], viewFocus[2]);\n    var newFp = rwi.getInteractorStyle().computeDisplayToWorld(renderer, position.x, position.y, viewFocus[2]);\n    cam.setFocalPoint(newFp[0], newFp[1], newFp[2]); // Move camera in/out along projection direction\n\n    cam.dolly(fact);\n    renderer.resetCameraClippingRange(); // Find new focal point\n\n    var newCameraPos = cam.getPosition();\n    viewFocus = cam.getFocalPoint();\n    var newPoint = [0, 0, 0];\n    var t = norm[0] * (viewFocus[0] - newCameraPos[0]) + norm[1] * (viewFocus[1] - newCameraPos[1]) + norm[2] * (viewFocus[2] - newCameraPos[2]);\n    t /= Math.pow(norm[0], 2) + Math.pow(norm[1], 2) + Math.pow(norm[2], 2);\n    newPoint[0] = newCameraPos[0] + norm[0] * t;\n    newPoint[1] = newCameraPos[1] + norm[1] * t;\n    newPoint[2] = newCameraPos[2] + norm[2] * t;\n    cam.setFocalPoint(newPoint[0], newPoint[1], newPoint[2]);\n    renderer.resetCameraClippingRange();\n  }\n}\nfunction dollyByFactor(interactor, renderer, factor) {\n  if (Number.isNaN(factor)) {\n    return;\n  }\n  var camera = renderer.getActiveCamera();\n  if (camera.getParallelProjection()) {\n    camera.setParallelScale(camera.getParallelScale() / factor);\n  } else {\n    camera.dolly(factor);\n    renderer.resetCameraClippingRange();\n  }\n  if (interactor.getLightFollowCamera()) {\n    renderer.updateLightsGeometryToFollowCamera();\n  }\n} // ----------------------------------------------------------------------------\n// Static API\n// ----------------------------------------------------------------------------\n\nvar STATIC = {\n  dollyToPosition: dollyToPosition,\n  translateCamera: translateCamera,\n  dollyByFactor: dollyByFactor\n}; // ----------------------------------------------------------------------------\n// vtkInteractorStyleManipulator methods\n// ----------------------------------------------------------------------------\n\nfunction vtkInteractorStyleManipulator(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkInteractorStyleManipulator');\n  model.mouseManipulators = [];\n  model.keyboardManipulators = [];\n  model.vrManipulators = [];\n  model.gestureManipulators = [];\n  model.currentManipulator = null;\n  model.currentWheelManipulator = null;\n  model.centerOfRotation = [0, 0, 0];\n  model.rotationFactor = 1; //-------------------------------------------------------------------------\n\n  publicAPI.removeAllManipulators = function () {\n    publicAPI.removeAllMouseManipulators();\n    publicAPI.removeAllKeyboardManipulators();\n    publicAPI.removeAllVRManipulators();\n    publicAPI.removeAllGestureManipulators();\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.removeAllMouseManipulators = function () {\n    model.mouseManipulators = [];\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.removeAllKeyboardManipulators = function () {\n    model.keyboardManipulators = [];\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.removeAllVRManipulators = function () {\n    model.vrManipulators = [];\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.removeAllGestureManipulators = function () {\n    model.gestureManipulators = [];\n  }; //-------------------------------------------------------------------------\n\n  var removeManipulator = function removeManipulator(manipulator, list) {\n    var index = list.indexOf(manipulator);\n    if (index === -1) {\n      return false;\n    }\n    list.splice(index, 1);\n    publicAPI.modified();\n    return true;\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.removeMouseManipulator = function (manipulator) {\n    return removeManipulator(manipulator, model.mouseManipulators);\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.removeKeyboardManipulator = function (manipulator) {\n    return removeManipulator(manipulator, model.keyboardManipulators);\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.removeVRManipulator = function (manipulator) {\n    return removeManipulator(manipulator, model.vrManipulators);\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.removeGestureManipulator = function (manipulator) {\n    return removeManipulator(manipulator, model.gestureManipulators);\n  }; //-------------------------------------------------------------------------\n\n  var addManipulator = function addManipulator(manipulator, list) {\n    var index = list.indexOf(manipulator);\n    if (index !== -1) {\n      return false;\n    }\n    list.push(manipulator);\n    publicAPI.modified();\n    return true;\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.addMouseManipulator = function (manipulator) {\n    return addManipulator(manipulator, model.mouseManipulators);\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.addKeyboardManipulator = function (manipulator) {\n    return addManipulator(manipulator, model.keyboardManipulators);\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.addVRManipulator = function (manipulator) {\n    return addManipulator(manipulator, model.vrManipulators);\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.addGestureManipulator = function (manipulator) {\n    return addManipulator(manipulator, model.gestureManipulators);\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.getNumberOfMouseManipulators = function () {\n    return model.mouseManipulators.length;\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.getNumberOfKeyboardManipulators = function () {\n    return model.keyboardManipulators.length;\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.getNumberOfVRManipulators = function () {\n    return model.vrManipulators.length;\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.getNumberOfGestureManipulators = function () {\n    return model.gestureManipulators.length;\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.resetCurrentManipulator = function () {\n    model.currentManipulator = null;\n    model.currentWheelManipulator = null;\n  }; //-------------------------------------------------------------------------\n  // Mouse\n  //-------------------------------------------------------------------------\n\n  publicAPI.handleLeftButtonPress = function (callData) {\n    model.previousPosition = callData.position;\n    publicAPI.onButtonDown(1, callData);\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.handleMiddleButtonPress = function (callData) {\n    model.previousPosition = callData.position;\n    publicAPI.onButtonDown(2, callData);\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.handleRightButtonPress = function (callData) {\n    model.previousPosition = callData.position;\n    publicAPI.onButtonDown(3, callData);\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.handleButton3D = function (ed) {\n    if (!ed) {\n      return;\n    } // Look for a matching 3D camera interactor.\n\n    model.currentManipulator = publicAPI.findVRManipulator(ed.device, ed.input, ed.pressed);\n    if (model.currentManipulator) {\n      model.currentManipulator.onButton3D(publicAPI, ed.pokedRenderer, model.state, ed.device, ed.input, ed.pressed);\n      if (ed.pressed) {\n        publicAPI.startCameraPose();\n      } else {\n        publicAPI.endCameraPose();\n      }\n    } else {\n      vtkDebugMacro('No manipulator found');\n    }\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.handleMove3D = function (ed) {\n    if (model.currentManipulator && model.state === States.IS_CAMERA_POSE) {\n      model.currentManipulator.onMove3D(publicAPI, ed.pokedRenderer, model.state, ed);\n    }\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.onButtonDown = function (button, callData) {\n    // Must not be processing an interaction to start another.\n    if (model.currentManipulator) {\n      return;\n    } // Look for a matching camera interactor.\n\n    model.currentManipulator = publicAPI.findMouseManipulator(button, callData.shiftKey, callData.controlKey, callData.altKey);\n    if (model.currentManipulator) {\n      if (model.currentManipulator.setCenter) {\n        model.currentManipulator.setCenter(model.centerOfRotation);\n      }\n      if (model.currentManipulator.setRotationFactor) {\n        model.currentManipulator.setRotationFactor(model.rotationFactor);\n      }\n      model.currentManipulator.startInteraction();\n      model.currentManipulator.onButtonDown(model._interactor, callData.pokedRenderer, callData.position);\n      model._interactor.requestAnimation(publicAPI.onButtonDown);\n      publicAPI.invokeStartInteractionEvent(START_INTERACTION_EVENT);\n    } else {\n      vtkDebugMacro('No manipulator found');\n    }\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.findMouseManipulator = function (button, shift, control, alt) {\n    // Look for a matching camera manipulator\n    var manipulator = null;\n    var count = model.mouseManipulators.length;\n    while (count--) {\n      var manip = model.mouseManipulators[count];\n      if (manip && manip.getButton() === button && manip.getShift() === shift && manip.getControl() === control && manip.getAlt() === alt && manip.isDragEnabled()) {\n        manipulator = manip;\n      }\n    }\n    return manipulator;\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.findVRManipulator = function (device, input) {\n    // Look for a matching camera manipulator\n    var manipulator = null;\n    var count = model.vrManipulators.length;\n    while (count--) {\n      var manip = model.vrManipulators[count];\n      if (manip && manip.getDevice() === device && manip.getInput() === input) {\n        manipulator = manip;\n      }\n    }\n    return manipulator;\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.handleLeftButtonRelease = function () {\n    publicAPI.onButtonUp(1);\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.handleMiddleButtonRelease = function () {\n    publicAPI.onButtonUp(2);\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.handleRightButtonRelease = function () {\n    publicAPI.onButtonUp(3);\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.onButtonUp = function (button) {\n    if (!model.currentManipulator) {\n      return;\n    }\n    if (model.currentManipulator.getButton && model.currentManipulator.getButton() === button) {\n      model.currentManipulator.onButtonUp(model._interactor);\n      model.currentManipulator.endInteraction();\n      model.currentManipulator = null;\n      model._interactor.cancelAnimation(publicAPI.onButtonDown);\n      publicAPI.invokeEndInteractionEvent(END_INTERACTION_EVENT);\n    }\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.handleStartMouseWheel = function (callData) {\n    // Must not be processing a wheel interaction to start another.\n    if (model.currentWheelManipulator) {\n      return;\n    }\n    var manipulator = null;\n    var count = model.mouseManipulators.length;\n    while (count--) {\n      var manip = model.mouseManipulators[count];\n      if (manip && manip.isScrollEnabled() && manip.getShift() === callData.shiftKey && manip.getControl() === callData.controlKey && manip.getAlt() === callData.altKey) {\n        manipulator = manip;\n      }\n    }\n    if (manipulator) {\n      model.currentWheelManipulator = manipulator;\n      model.currentWheelManipulator.onStartScroll(model._interactor, callData.pokedRenderer, callData.spinY);\n      model.currentWheelManipulator.startInteraction();\n      model._interactor.requestAnimation(publicAPI.handleStartMouseWheel);\n      publicAPI.invokeStartInteractionEvent(START_INTERACTION_EVENT);\n    } else {\n      vtkDebugMacro('No manipulator found');\n    }\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.handleEndMouseWheel = function () {\n    if (!model.currentWheelManipulator) {\n      return;\n    }\n    if (model.currentWheelManipulator.onEndScroll) {\n      model.currentWheelManipulator.onEndScroll(model._interactor);\n      model.currentWheelManipulator.endInteraction();\n      model.currentWheelManipulator = null;\n      model._interactor.cancelAnimation(publicAPI.handleStartMouseWheel);\n      publicAPI.invokeEndInteractionEvent(END_INTERACTION_EVENT);\n    }\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.handleMouseWheel = function (callData) {\n    if (model.currentWheelManipulator && model.currentWheelManipulator.onScroll) {\n      model.currentWheelManipulator.onScroll(model._interactor, callData.pokedRenderer, callData.spinY, model.cachedMousePosition);\n      publicAPI.invokeInteractionEvent(INTERACTION_EVENT);\n    }\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.handleMouseMove = function (callData) {\n    model.cachedMousePosition = callData.position;\n    if (model.currentManipulator && model.currentManipulator.onMouseMove) {\n      model.currentManipulator.onMouseMove(model._interactor, callData.pokedRenderer, callData.position);\n      publicAPI.invokeInteractionEvent(INTERACTION_EVENT);\n    }\n  }; //-------------------------------------------------------------------------\n  // Keyboard\n  //-------------------------------------------------------------------------\n\n  publicAPI.handleKeyPress = function (callData) {\n    model.keyboardManipulators.filter(function (m) {\n      return m.onKeyPress;\n    }).forEach(function (manipulator) {\n      manipulator.onKeyPress(model._interactor, callData.pokedRenderer, callData.key);\n      publicAPI.invokeInteractionEvent(INTERACTION_EVENT);\n    });\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.handleKeyDown = function (callData) {\n    model.keyboardManipulators.filter(function (m) {\n      return m.onKeyDown;\n    }).forEach(function (manipulator) {\n      manipulator.onKeyDown(model._interactor, callData.pokedRenderer, callData.key);\n      publicAPI.invokeInteractionEvent(INTERACTION_EVENT);\n    });\n  }; //-------------------------------------------------------------------------\n\n  publicAPI.handleKeyUp = function (callData) {\n    model.keyboardManipulators.filter(function (m) {\n      return m.onKeyUp;\n    }).forEach(function (manipulator) {\n      manipulator.onKeyUp(model._interactor, callData.pokedRenderer, callData.key);\n      publicAPI.invokeInteractionEvent(INTERACTION_EVENT);\n    });\n  }; //-------------------------------------------------------------------------\n  // Gesture\n  //-------------------------------------------------------------------------\n\n  publicAPI.handleStartPinch = function (callData) {\n    publicAPI.startDolly();\n    var count = model.gestureManipulators.length;\n    while (count--) {\n      var manipulator = model.gestureManipulators[count];\n      if (manipulator && manipulator.isPinchEnabled()) {\n        manipulator.onStartPinch(model._interactor, callData.scale);\n        manipulator.startInteraction();\n      }\n    }\n    model._interactor.requestAnimation(publicAPI.handleStartPinch);\n    publicAPI.invokeStartInteractionEvent(START_INTERACTION_EVENT);\n  }; //--------------------------------------------------------------------------\n\n  publicAPI.handleEndPinch = function () {\n    publicAPI.endDolly();\n    var count = model.gestureManipulators.length;\n    while (count--) {\n      var manipulator = model.gestureManipulators[count];\n      if (manipulator && manipulator.isPinchEnabled()) {\n        manipulator.onEndPinch(model._interactor);\n        manipulator.endInteraction();\n      }\n    }\n    model._interactor.cancelAnimation(publicAPI.handleStartPinch);\n    publicAPI.invokeEndInteractionEvent(END_INTERACTION_EVENT);\n  }; //----------------------------------------------------------------------------\n\n  publicAPI.handleStartRotate = function (callData) {\n    publicAPI.startRotate();\n    var count = model.gestureManipulators.length;\n    while (count--) {\n      var manipulator = model.gestureManipulators[count];\n      if (manipulator && manipulator.isRotateEnabled()) {\n        manipulator.onStartRotate(model._interactor, callData.rotation);\n        manipulator.startInteraction();\n      }\n    }\n    model._interactor.requestAnimation(publicAPI.handleStartRotate);\n    publicAPI.invokeStartInteractionEvent(START_INTERACTION_EVENT);\n  }; //--------------------------------------------------------------------------\n\n  publicAPI.handleEndRotate = function () {\n    publicAPI.endRotate();\n    var count = model.gestureManipulators.length;\n    while (count--) {\n      var manipulator = model.gestureManipulators[count];\n      if (manipulator && manipulator.isRotateEnabled()) {\n        manipulator.onEndRotate(model._interactor);\n        manipulator.endInteraction();\n      }\n    }\n    model._interactor.cancelAnimation(publicAPI.handleStartRotate);\n    publicAPI.invokeEndInteractionEvent(END_INTERACTION_EVENT);\n  }; //----------------------------------------------------------------------------\n\n  publicAPI.handleStartPan = function (callData) {\n    publicAPI.startPan();\n    var count = model.gestureManipulators.length;\n    while (count--) {\n      var manipulator = model.gestureManipulators[count];\n      if (manipulator && manipulator.isPanEnabled()) {\n        manipulator.onStartPan(model._interactor, callData.translation);\n        manipulator.startInteraction();\n      }\n    }\n    model._interactor.requestAnimation(publicAPI.handleStartPan);\n    publicAPI.invokeStartInteractionEvent(START_INTERACTION_EVENT);\n  }; //--------------------------------------------------------------------------\n\n  publicAPI.handleEndPan = function () {\n    publicAPI.endPan();\n    var count = model.gestureManipulators.length;\n    while (count--) {\n      var manipulator = model.gestureManipulators[count];\n      if (manipulator && manipulator.isPanEnabled()) {\n        manipulator.onEndPan(model._interactor);\n        manipulator.endInteraction();\n      }\n    }\n    model._interactor.cancelAnimation(publicAPI.handleStartPan);\n    publicAPI.invokeEndInteractionEvent(END_INTERACTION_EVENT);\n  }; //----------------------------------------------------------------------------\n\n  publicAPI.handlePinch = function (callData) {\n    var count = model.gestureManipulators.length;\n    var actionCount = 0;\n    while (count--) {\n      var manipulator = model.gestureManipulators[count];\n      if (manipulator && manipulator.isPinchEnabled()) {\n        manipulator.onPinch(model._interactor, callData.pokedRenderer, callData.scale);\n        actionCount++;\n      }\n    }\n    if (actionCount) {\n      publicAPI.invokeInteractionEvent(INTERACTION_EVENT);\n    }\n  }; //----------------------------------------------------------------------------\n\n  publicAPI.handlePan = function (callData) {\n    var count = model.gestureManipulators.length;\n    var actionCount = 0;\n    while (count--) {\n      var manipulator = model.gestureManipulators[count];\n      if (manipulator && manipulator.isPanEnabled()) {\n        manipulator.onPan(model._interactor, callData.pokedRenderer, callData.translation);\n        actionCount++;\n      }\n    }\n    if (actionCount) {\n      publicAPI.invokeInteractionEvent(INTERACTION_EVENT);\n    }\n  }; //----------------------------------------------------------------------------\n\n  publicAPI.handleRotate = function (callData) {\n    var count = model.gestureManipulators.length;\n    var actionCount = 0;\n    while (count--) {\n      var manipulator = model.gestureManipulators[count];\n      if (manipulator && manipulator.isRotateEnabled()) {\n        manipulator.onRotate(model._interactor, callData.pokedRenderer, callData.rotation);\n        actionCount++;\n      }\n    }\n    if (actionCount) {\n      publicAPI.invokeInteractionEvent(INTERACTION_EVENT);\n    }\n  };\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\nvar DEFAULT_VALUES = {\n  cachedMousePosition: null,\n  currentManipulator: null,\n  currentWheelManipulator: null,\n  // mouseManipulators: null,\n  // keyboardManipulators: null,\n  // vrManipulators: null,\n  // gestureManipulators: null,\n  centerOfRotation: [0, 0, 0],\n  rotationFactor: 1\n}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues); // Inheritance\n\n  vtkInteractorStyle.extend(publicAPI, model, initialValues); // Create get-set macros\n\n  macro.setGet(publicAPI, model, ['rotationFactor']);\n  macro.get(publicAPI, model, ['mouseManipulators', 'keyboardManipulators', 'vrManipulators', 'gestureManipulators']);\n  macro.setGetArray(publicAPI, model, ['centerOfRotation'], 3); // Object specific methods\n\n  vtkInteractorStyleManipulator(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar newInstance = macro.newInstance(extend, 'vtkInteractorStyleManipulator'); // ----------------------------------------------------------------------------\n\nvar vtkInteractorStyleManipulator$1 = _objectSpread({\n  newInstance: newInstance,\n  extend: extend\n}, STATIC);\nexport { STATIC, vtkInteractorStyleManipulator$1 as default, extend, newInstance };","map":{"version":3,"names":["_defineProperty","macro","vtkInteractorStyle","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","vtkDebugMacro","States","START_INTERACTION_EVENT","type","INTERACTION_EVENT","END_INTERACTION_EVENT","translateCamera","renderer","rwi","toX","toY","fromX","fromY","cam","getActiveCamera","viewFocus","getFocalPoint","getInteractorStyle","computeWorldToDisplay","focalDepth","newPickPoint","computeDisplayToWorld","oldPickPoint","motionVector","viewPoint","getPosition","setFocalPoint","setPosition","dollyToPosition","fact","position","getParallelProjection","view","getView","aSize","getViewportSize","viewport","getViewport","viewSize","getSize","w","h","x0","y0","x1","x","y1","y","setParallelScale","getParallelScale","norm","getViewPlaneNormal","newFp","dolly","resetCameraClippingRange","newCameraPos","newPoint","t","Math","pow","dollyByFactor","interactor","factor","Number","isNaN","camera","getLightFollowCamera","updateLightsGeometryToFollowCamera","STATIC","vtkInteractorStyleManipulator","publicAPI","model","classHierarchy","mouseManipulators","keyboardManipulators","vrManipulators","gestureManipulators","currentManipulator","currentWheelManipulator","centerOfRotation","rotationFactor","removeAllManipulators","removeAllMouseManipulators","removeAllKeyboardManipulators","removeAllVRManipulators","removeAllGestureManipulators","removeManipulator","manipulator","list","index","indexOf","splice","modified","removeMouseManipulator","removeKeyboardManipulator","removeVRManipulator","removeGestureManipulator","addManipulator","addMouseManipulator","addKeyboardManipulator","addVRManipulator","addGestureManipulator","getNumberOfMouseManipulators","getNumberOfKeyboardManipulators","getNumberOfVRManipulators","getNumberOfGestureManipulators","resetCurrentManipulator","handleLeftButtonPress","callData","previousPosition","onButtonDown","handleMiddleButtonPress","handleRightButtonPress","handleButton3D","ed","findVRManipulator","device","input","pressed","onButton3D","pokedRenderer","state","startCameraPose","endCameraPose","handleMove3D","IS_CAMERA_POSE","onMove3D","button","findMouseManipulator","shiftKey","controlKey","altKey","setCenter","setRotationFactor","startInteraction","_interactor","requestAnimation","invokeStartInteractionEvent","shift","control","alt","count","manip","getButton","getShift","getControl","getAlt","isDragEnabled","getDevice","getInput","handleLeftButtonRelease","onButtonUp","handleMiddleButtonRelease","handleRightButtonRelease","endInteraction","cancelAnimation","invokeEndInteractionEvent","handleStartMouseWheel","isScrollEnabled","onStartScroll","spinY","handleEndMouseWheel","onEndScroll","handleMouseWheel","onScroll","cachedMousePosition","invokeInteractionEvent","handleMouseMove","onMouseMove","handleKeyPress","m","onKeyPress","handleKeyDown","onKeyDown","handleKeyUp","onKeyUp","handleStartPinch","startDolly","isPinchEnabled","onStartPinch","scale","handleEndPinch","endDolly","onEndPinch","handleStartRotate","startRotate","isRotateEnabled","onStartRotate","rotation","handleEndRotate","endRotate","onEndRotate","handleStartPan","startPan","isPanEnabled","onStartPan","translation","handleEndPan","endPan","onEndPan","handlePinch","actionCount","onPinch","handlePan","onPan","handleRotate","onRotate","DEFAULT_VALUES","extend","initialValues","undefined","assign","setGet","get","setGetArray","newInstance","vtkInteractorStyleManipulator$1","default"],"sources":["/home/rakshith/Documents/RemoteRendering/vtk-js-react-app/node_modules/@kitware/vtk.js/Interaction/Style/InteractorStyleManipulator.js"],"sourcesContent":["import _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport macro from '../../macros.js';\nimport vtkInteractorStyle from '../../Rendering/Core/InteractorStyle.js';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar vtkDebugMacro = macro.vtkDebugMacro;\nvar States = vtkInteractorStyle.States; // ----------------------------------------------------------------------------\n// Event Types\n// ----------------------------------------------------------------------------\n\nvar START_INTERACTION_EVENT = {\n  type: 'StartInteractionEvent'\n};\nvar INTERACTION_EVENT = {\n  type: 'InteractionEvent'\n};\nvar END_INTERACTION_EVENT = {\n  type: 'EndInteractionEvent'\n}; // ----------------------------------------------------------------------------\n// Global methods\n// ----------------------------------------------------------------------------\n\nfunction translateCamera(renderer, rwi, toX, toY, fromX, fromY) {\n  var cam = renderer.getActiveCamera();\n  var viewFocus = cam.getFocalPoint();\n  viewFocus = rwi.getInteractorStyle().computeWorldToDisplay(renderer, viewFocus[0], viewFocus[1], viewFocus[2]);\n  var focalDepth = viewFocus[2];\n  var newPickPoint = rwi.getInteractorStyle().computeDisplayToWorld(renderer, toX, toY, focalDepth);\n  var oldPickPoint = rwi.getInteractorStyle().computeDisplayToWorld(renderer, fromX, fromY, focalDepth); // camera motion is reversed\n\n  var motionVector = [oldPickPoint[0] - newPickPoint[0], oldPickPoint[1] - newPickPoint[1], oldPickPoint[2] - newPickPoint[2]];\n  viewFocus = cam.getFocalPoint();\n  var viewPoint = cam.getPosition();\n  cam.setFocalPoint(motionVector[0] + viewFocus[0], motionVector[1] + viewFocus[1], motionVector[2] + viewFocus[2]);\n  cam.setPosition(motionVector[0] + viewPoint[0], motionVector[1] + viewPoint[1], motionVector[2] + viewPoint[2]);\n}\n\nfunction dollyToPosition(fact, position, renderer, rwi) {\n  var cam = renderer.getActiveCamera();\n\n  if (cam.getParallelProjection()) {\n    // Zoom relatively to the cursor\n    var view = rwi.getView();\n    var aSize = view.getViewportSize(renderer);\n    var viewport = renderer.getViewport();\n    var viewSize = view.getSize();\n    var w = aSize[0];\n    var h = aSize[1];\n    var x0 = w / 2;\n    var y0 = h / 2;\n    var x1 = position.x - viewport[0] * viewSize[0];\n    var y1 = position.y - viewport[1] * viewSize[1];\n    translateCamera(renderer, rwi, x0, y0, x1, y1);\n    cam.setParallelScale(cam.getParallelScale() / fact);\n    translateCamera(renderer, rwi, x1, y1, x0, y0);\n  } else {\n    // Zoom relatively to the cursor position\n    // Move focal point to cursor position\n    var viewFocus = cam.getFocalPoint();\n    var norm = cam.getViewPlaneNormal();\n    viewFocus = rwi.getInteractorStyle().computeWorldToDisplay(renderer, viewFocus[0], viewFocus[1], viewFocus[2]);\n    var newFp = rwi.getInteractorStyle().computeDisplayToWorld(renderer, position.x, position.y, viewFocus[2]);\n    cam.setFocalPoint(newFp[0], newFp[1], newFp[2]); // Move camera in/out along projection direction\n\n    cam.dolly(fact);\n    renderer.resetCameraClippingRange(); // Find new focal point\n\n    var newCameraPos = cam.getPosition();\n    viewFocus = cam.getFocalPoint();\n    var newPoint = [0, 0, 0];\n    var t = norm[0] * (viewFocus[0] - newCameraPos[0]) + norm[1] * (viewFocus[1] - newCameraPos[1]) + norm[2] * (viewFocus[2] - newCameraPos[2]);\n    t /= Math.pow(norm[0], 2) + Math.pow(norm[1], 2) + Math.pow(norm[2], 2);\n    newPoint[0] = newCameraPos[0] + norm[0] * t;\n    newPoint[1] = newCameraPos[1] + norm[1] * t;\n    newPoint[2] = newCameraPos[2] + norm[2] * t;\n    cam.setFocalPoint(newPoint[0], newPoint[1], newPoint[2]);\n    renderer.resetCameraClippingRange();\n  }\n}\n\nfunction dollyByFactor(interactor, renderer, factor) {\n  if (Number.isNaN(factor)) {\n    return;\n  }\n\n  var camera = renderer.getActiveCamera();\n\n  if (camera.getParallelProjection()) {\n    camera.setParallelScale(camera.getParallelScale() / factor);\n  } else {\n    camera.dolly(factor);\n    renderer.resetCameraClippingRange();\n  }\n\n  if (interactor.getLightFollowCamera()) {\n    renderer.updateLightsGeometryToFollowCamera();\n  }\n} // ----------------------------------------------------------------------------\n// Static API\n// ----------------------------------------------------------------------------\n\n\nvar STATIC = {\n  dollyToPosition: dollyToPosition,\n  translateCamera: translateCamera,\n  dollyByFactor: dollyByFactor\n}; // ----------------------------------------------------------------------------\n// vtkInteractorStyleManipulator methods\n// ----------------------------------------------------------------------------\n\nfunction vtkInteractorStyleManipulator(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkInteractorStyleManipulator');\n  model.mouseManipulators = [];\n  model.keyboardManipulators = [];\n  model.vrManipulators = [];\n  model.gestureManipulators = [];\n  model.currentManipulator = null;\n  model.currentWheelManipulator = null;\n  model.centerOfRotation = [0, 0, 0];\n  model.rotationFactor = 1; //-------------------------------------------------------------------------\n\n  publicAPI.removeAllManipulators = function () {\n    publicAPI.removeAllMouseManipulators();\n    publicAPI.removeAllKeyboardManipulators();\n    publicAPI.removeAllVRManipulators();\n    publicAPI.removeAllGestureManipulators();\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.removeAllMouseManipulators = function () {\n    model.mouseManipulators = [];\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.removeAllKeyboardManipulators = function () {\n    model.keyboardManipulators = [];\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.removeAllVRManipulators = function () {\n    model.vrManipulators = [];\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.removeAllGestureManipulators = function () {\n    model.gestureManipulators = [];\n  }; //-------------------------------------------------------------------------\n\n\n  var removeManipulator = function removeManipulator(manipulator, list) {\n    var index = list.indexOf(manipulator);\n\n    if (index === -1) {\n      return false;\n    }\n\n    list.splice(index, 1);\n    publicAPI.modified();\n    return true;\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.removeMouseManipulator = function (manipulator) {\n    return removeManipulator(manipulator, model.mouseManipulators);\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.removeKeyboardManipulator = function (manipulator) {\n    return removeManipulator(manipulator, model.keyboardManipulators);\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.removeVRManipulator = function (manipulator) {\n    return removeManipulator(manipulator, model.vrManipulators);\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.removeGestureManipulator = function (manipulator) {\n    return removeManipulator(manipulator, model.gestureManipulators);\n  }; //-------------------------------------------------------------------------\n\n\n  var addManipulator = function addManipulator(manipulator, list) {\n    var index = list.indexOf(manipulator);\n\n    if (index !== -1) {\n      return false;\n    }\n\n    list.push(manipulator);\n    publicAPI.modified();\n    return true;\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.addMouseManipulator = function (manipulator) {\n    return addManipulator(manipulator, model.mouseManipulators);\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.addKeyboardManipulator = function (manipulator) {\n    return addManipulator(manipulator, model.keyboardManipulators);\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.addVRManipulator = function (manipulator) {\n    return addManipulator(manipulator, model.vrManipulators);\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.addGestureManipulator = function (manipulator) {\n    return addManipulator(manipulator, model.gestureManipulators);\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.getNumberOfMouseManipulators = function () {\n    return model.mouseManipulators.length;\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.getNumberOfKeyboardManipulators = function () {\n    return model.keyboardManipulators.length;\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.getNumberOfVRManipulators = function () {\n    return model.vrManipulators.length;\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.getNumberOfGestureManipulators = function () {\n    return model.gestureManipulators.length;\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.resetCurrentManipulator = function () {\n    model.currentManipulator = null;\n    model.currentWheelManipulator = null;\n  }; //-------------------------------------------------------------------------\n  // Mouse\n  //-------------------------------------------------------------------------\n\n\n  publicAPI.handleLeftButtonPress = function (callData) {\n    model.previousPosition = callData.position;\n    publicAPI.onButtonDown(1, callData);\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.handleMiddleButtonPress = function (callData) {\n    model.previousPosition = callData.position;\n    publicAPI.onButtonDown(2, callData);\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.handleRightButtonPress = function (callData) {\n    model.previousPosition = callData.position;\n    publicAPI.onButtonDown(3, callData);\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.handleButton3D = function (ed) {\n    if (!ed) {\n      return;\n    } // Look for a matching 3D camera interactor.\n\n\n    model.currentManipulator = publicAPI.findVRManipulator(ed.device, ed.input, ed.pressed);\n\n    if (model.currentManipulator) {\n      model.currentManipulator.onButton3D(publicAPI, ed.pokedRenderer, model.state, ed.device, ed.input, ed.pressed);\n\n      if (ed.pressed) {\n        publicAPI.startCameraPose();\n      } else {\n        publicAPI.endCameraPose();\n      }\n    } else {\n      vtkDebugMacro('No manipulator found');\n    }\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.handleMove3D = function (ed) {\n    if (model.currentManipulator && model.state === States.IS_CAMERA_POSE) {\n      model.currentManipulator.onMove3D(publicAPI, ed.pokedRenderer, model.state, ed);\n    }\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.onButtonDown = function (button, callData) {\n    // Must not be processing an interaction to start another.\n    if (model.currentManipulator) {\n      return;\n    } // Look for a matching camera interactor.\n\n\n    model.currentManipulator = publicAPI.findMouseManipulator(button, callData.shiftKey, callData.controlKey, callData.altKey);\n\n    if (model.currentManipulator) {\n      if (model.currentManipulator.setCenter) {\n        model.currentManipulator.setCenter(model.centerOfRotation);\n      }\n\n      if (model.currentManipulator.setRotationFactor) {\n        model.currentManipulator.setRotationFactor(model.rotationFactor);\n      }\n\n      model.currentManipulator.startInteraction();\n      model.currentManipulator.onButtonDown(model._interactor, callData.pokedRenderer, callData.position);\n\n      model._interactor.requestAnimation(publicAPI.onButtonDown);\n\n      publicAPI.invokeStartInteractionEvent(START_INTERACTION_EVENT);\n    } else {\n      vtkDebugMacro('No manipulator found');\n    }\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.findMouseManipulator = function (button, shift, control, alt) {\n    // Look for a matching camera manipulator\n    var manipulator = null;\n    var count = model.mouseManipulators.length;\n\n    while (count--) {\n      var manip = model.mouseManipulators[count];\n\n      if (manip && manip.getButton() === button && manip.getShift() === shift && manip.getControl() === control && manip.getAlt() === alt && manip.isDragEnabled()) {\n        manipulator = manip;\n      }\n    }\n\n    return manipulator;\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.findVRManipulator = function (device, input) {\n    // Look for a matching camera manipulator\n    var manipulator = null;\n    var count = model.vrManipulators.length;\n\n    while (count--) {\n      var manip = model.vrManipulators[count];\n\n      if (manip && manip.getDevice() === device && manip.getInput() === input) {\n        manipulator = manip;\n      }\n    }\n\n    return manipulator;\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.handleLeftButtonRelease = function () {\n    publicAPI.onButtonUp(1);\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.handleMiddleButtonRelease = function () {\n    publicAPI.onButtonUp(2);\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.handleRightButtonRelease = function () {\n    publicAPI.onButtonUp(3);\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.onButtonUp = function (button) {\n    if (!model.currentManipulator) {\n      return;\n    }\n\n    if (model.currentManipulator.getButton && model.currentManipulator.getButton() === button) {\n      model.currentManipulator.onButtonUp(model._interactor);\n      model.currentManipulator.endInteraction();\n      model.currentManipulator = null;\n\n      model._interactor.cancelAnimation(publicAPI.onButtonDown);\n\n      publicAPI.invokeEndInteractionEvent(END_INTERACTION_EVENT);\n    }\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.handleStartMouseWheel = function (callData) {\n    // Must not be processing a wheel interaction to start another.\n    if (model.currentWheelManipulator) {\n      return;\n    }\n\n    var manipulator = null;\n    var count = model.mouseManipulators.length;\n\n    while (count--) {\n      var manip = model.mouseManipulators[count];\n\n      if (manip && manip.isScrollEnabled() && manip.getShift() === callData.shiftKey && manip.getControl() === callData.controlKey && manip.getAlt() === callData.altKey) {\n        manipulator = manip;\n      }\n    }\n\n    if (manipulator) {\n      model.currentWheelManipulator = manipulator;\n      model.currentWheelManipulator.onStartScroll(model._interactor, callData.pokedRenderer, callData.spinY);\n      model.currentWheelManipulator.startInteraction();\n\n      model._interactor.requestAnimation(publicAPI.handleStartMouseWheel);\n\n      publicAPI.invokeStartInteractionEvent(START_INTERACTION_EVENT);\n    } else {\n      vtkDebugMacro('No manipulator found');\n    }\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.handleEndMouseWheel = function () {\n    if (!model.currentWheelManipulator) {\n      return;\n    }\n\n    if (model.currentWheelManipulator.onEndScroll) {\n      model.currentWheelManipulator.onEndScroll(model._interactor);\n      model.currentWheelManipulator.endInteraction();\n      model.currentWheelManipulator = null;\n\n      model._interactor.cancelAnimation(publicAPI.handleStartMouseWheel);\n\n      publicAPI.invokeEndInteractionEvent(END_INTERACTION_EVENT);\n    }\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.handleMouseWheel = function (callData) {\n    if (model.currentWheelManipulator && model.currentWheelManipulator.onScroll) {\n      model.currentWheelManipulator.onScroll(model._interactor, callData.pokedRenderer, callData.spinY, model.cachedMousePosition);\n      publicAPI.invokeInteractionEvent(INTERACTION_EVENT);\n    }\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.handleMouseMove = function (callData) {\n    model.cachedMousePosition = callData.position;\n\n    if (model.currentManipulator && model.currentManipulator.onMouseMove) {\n      model.currentManipulator.onMouseMove(model._interactor, callData.pokedRenderer, callData.position);\n      publicAPI.invokeInteractionEvent(INTERACTION_EVENT);\n    }\n  }; //-------------------------------------------------------------------------\n  // Keyboard\n  //-------------------------------------------------------------------------\n\n\n  publicAPI.handleKeyPress = function (callData) {\n    model.keyboardManipulators.filter(function (m) {\n      return m.onKeyPress;\n    }).forEach(function (manipulator) {\n      manipulator.onKeyPress(model._interactor, callData.pokedRenderer, callData.key);\n      publicAPI.invokeInteractionEvent(INTERACTION_EVENT);\n    });\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.handleKeyDown = function (callData) {\n    model.keyboardManipulators.filter(function (m) {\n      return m.onKeyDown;\n    }).forEach(function (manipulator) {\n      manipulator.onKeyDown(model._interactor, callData.pokedRenderer, callData.key);\n      publicAPI.invokeInteractionEvent(INTERACTION_EVENT);\n    });\n  }; //-------------------------------------------------------------------------\n\n\n  publicAPI.handleKeyUp = function (callData) {\n    model.keyboardManipulators.filter(function (m) {\n      return m.onKeyUp;\n    }).forEach(function (manipulator) {\n      manipulator.onKeyUp(model._interactor, callData.pokedRenderer, callData.key);\n      publicAPI.invokeInteractionEvent(INTERACTION_EVENT);\n    });\n  }; //-------------------------------------------------------------------------\n  // Gesture\n  //-------------------------------------------------------------------------\n\n\n  publicAPI.handleStartPinch = function (callData) {\n    publicAPI.startDolly();\n    var count = model.gestureManipulators.length;\n\n    while (count--) {\n      var manipulator = model.gestureManipulators[count];\n\n      if (manipulator && manipulator.isPinchEnabled()) {\n        manipulator.onStartPinch(model._interactor, callData.scale);\n        manipulator.startInteraction();\n      }\n    }\n\n    model._interactor.requestAnimation(publicAPI.handleStartPinch);\n\n    publicAPI.invokeStartInteractionEvent(START_INTERACTION_EVENT);\n  }; //--------------------------------------------------------------------------\n\n\n  publicAPI.handleEndPinch = function () {\n    publicAPI.endDolly();\n    var count = model.gestureManipulators.length;\n\n    while (count--) {\n      var manipulator = model.gestureManipulators[count];\n\n      if (manipulator && manipulator.isPinchEnabled()) {\n        manipulator.onEndPinch(model._interactor);\n        manipulator.endInteraction();\n      }\n    }\n\n    model._interactor.cancelAnimation(publicAPI.handleStartPinch);\n\n    publicAPI.invokeEndInteractionEvent(END_INTERACTION_EVENT);\n  }; //----------------------------------------------------------------------------\n\n\n  publicAPI.handleStartRotate = function (callData) {\n    publicAPI.startRotate();\n    var count = model.gestureManipulators.length;\n\n    while (count--) {\n      var manipulator = model.gestureManipulators[count];\n\n      if (manipulator && manipulator.isRotateEnabled()) {\n        manipulator.onStartRotate(model._interactor, callData.rotation);\n        manipulator.startInteraction();\n      }\n    }\n\n    model._interactor.requestAnimation(publicAPI.handleStartRotate);\n\n    publicAPI.invokeStartInteractionEvent(START_INTERACTION_EVENT);\n  }; //--------------------------------------------------------------------------\n\n\n  publicAPI.handleEndRotate = function () {\n    publicAPI.endRotate();\n    var count = model.gestureManipulators.length;\n\n    while (count--) {\n      var manipulator = model.gestureManipulators[count];\n\n      if (manipulator && manipulator.isRotateEnabled()) {\n        manipulator.onEndRotate(model._interactor);\n        manipulator.endInteraction();\n      }\n    }\n\n    model._interactor.cancelAnimation(publicAPI.handleStartRotate);\n\n    publicAPI.invokeEndInteractionEvent(END_INTERACTION_EVENT);\n  }; //----------------------------------------------------------------------------\n\n\n  publicAPI.handleStartPan = function (callData) {\n    publicAPI.startPan();\n    var count = model.gestureManipulators.length;\n\n    while (count--) {\n      var manipulator = model.gestureManipulators[count];\n\n      if (manipulator && manipulator.isPanEnabled()) {\n        manipulator.onStartPan(model._interactor, callData.translation);\n        manipulator.startInteraction();\n      }\n    }\n\n    model._interactor.requestAnimation(publicAPI.handleStartPan);\n\n    publicAPI.invokeStartInteractionEvent(START_INTERACTION_EVENT);\n  }; //--------------------------------------------------------------------------\n\n\n  publicAPI.handleEndPan = function () {\n    publicAPI.endPan();\n    var count = model.gestureManipulators.length;\n\n    while (count--) {\n      var manipulator = model.gestureManipulators[count];\n\n      if (manipulator && manipulator.isPanEnabled()) {\n        manipulator.onEndPan(model._interactor);\n        manipulator.endInteraction();\n      }\n    }\n\n    model._interactor.cancelAnimation(publicAPI.handleStartPan);\n\n    publicAPI.invokeEndInteractionEvent(END_INTERACTION_EVENT);\n  }; //----------------------------------------------------------------------------\n\n\n  publicAPI.handlePinch = function (callData) {\n    var count = model.gestureManipulators.length;\n    var actionCount = 0;\n\n    while (count--) {\n      var manipulator = model.gestureManipulators[count];\n\n      if (manipulator && manipulator.isPinchEnabled()) {\n        manipulator.onPinch(model._interactor, callData.pokedRenderer, callData.scale);\n        actionCount++;\n      }\n    }\n\n    if (actionCount) {\n      publicAPI.invokeInteractionEvent(INTERACTION_EVENT);\n    }\n  }; //----------------------------------------------------------------------------\n\n\n  publicAPI.handlePan = function (callData) {\n    var count = model.gestureManipulators.length;\n    var actionCount = 0;\n\n    while (count--) {\n      var manipulator = model.gestureManipulators[count];\n\n      if (manipulator && manipulator.isPanEnabled()) {\n        manipulator.onPan(model._interactor, callData.pokedRenderer, callData.translation);\n        actionCount++;\n      }\n    }\n\n    if (actionCount) {\n      publicAPI.invokeInteractionEvent(INTERACTION_EVENT);\n    }\n  }; //----------------------------------------------------------------------------\n\n\n  publicAPI.handleRotate = function (callData) {\n    var count = model.gestureManipulators.length;\n    var actionCount = 0;\n\n    while (count--) {\n      var manipulator = model.gestureManipulators[count];\n\n      if (manipulator && manipulator.isRotateEnabled()) {\n        manipulator.onRotate(model._interactor, callData.pokedRenderer, callData.rotation);\n        actionCount++;\n      }\n    }\n\n    if (actionCount) {\n      publicAPI.invokeInteractionEvent(INTERACTION_EVENT);\n    }\n  };\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\n\nvar DEFAULT_VALUES = {\n  cachedMousePosition: null,\n  currentManipulator: null,\n  currentWheelManipulator: null,\n  // mouseManipulators: null,\n  // keyboardManipulators: null,\n  // vrManipulators: null,\n  // gestureManipulators: null,\n  centerOfRotation: [0, 0, 0],\n  rotationFactor: 1\n}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues); // Inheritance\n\n  vtkInteractorStyle.extend(publicAPI, model, initialValues); // Create get-set macros\n\n  macro.setGet(publicAPI, model, ['rotationFactor']);\n  macro.get(publicAPI, model, ['mouseManipulators', 'keyboardManipulators', 'vrManipulators', 'gestureManipulators']);\n  macro.setGetArray(publicAPI, model, ['centerOfRotation'], 3); // Object specific methods\n\n  vtkInteractorStyleManipulator(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar newInstance = macro.newInstance(extend, 'vtkInteractorStyleManipulator'); // ----------------------------------------------------------------------------\n\nvar vtkInteractorStyleManipulator$1 = _objectSpread({\n  newInstance: newInstance,\n  extend: extend\n}, STATIC);\n\nexport { STATIC, vtkInteractorStyleManipulator$1 as default, extend, newInstance };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}