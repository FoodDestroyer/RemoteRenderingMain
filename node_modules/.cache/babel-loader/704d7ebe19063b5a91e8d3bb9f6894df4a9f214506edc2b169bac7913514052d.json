{"ast":null,"code":"import macro from '../../macros.js';\nimport vtkCompositeCameraManipulator from './CompositeCameraManipulator.js';\nimport vtkCompositeMouseManipulator from './CompositeMouseManipulator.js';\nvar ANIMATION_REQUESTER = 'vtkMouseCameraTrackballFirstPersonManipulator'; // ----------------------------------------------------------------------------\n// vtkMouseCameraTrackballFirstPersonManipulator methods\n// ----------------------------------------------------------------------------\n\nfunction vtkMouseCameraTrackballFirstPersonManipulator(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkMouseCameraTrackballFirstPersonManipulator');\n  var internal = {\n    interactor: null,\n    renderer: null,\n    previousPosition: null\n  }; //--------------------------------------------------------------------------\n\n  publicAPI.onButtonDown = function (interactor, renderer, position) {\n    internal.previousPosition = position;\n    if (model.usePointerLock && !interactor.isPointerLocked()) {\n      Object.assign(internal, {\n        interactor: interactor,\n        renderer: renderer\n      });\n      interactor.requestPointerLock();\n      publicAPI.startPointerLockInteraction();\n    }\n  }; //--------------------------------------------------------------------------\n\n  publicAPI.startPointerLockInteraction = function () {\n    var interactor = internal.interactor; // TODO: at some point, this should perhaps be done in\n    // RenderWindowInteractor instead of here.\n    // We need to hook into mousemove directly for two reasons:\n    // 1. We need to keep receiving mouse move events after the mouse button\n    //    is released. This is currently not possible with\n    //    vtkInteractorStyleManipulator.\n    // 2. Since the mouse is stationary in pointer lock mode, we need the\n    //    event.movementX and event.movementY info, which are not currently\n    //    passed via interactor.onMouseMove.\n\n    document.addEventListener('mousemove', publicAPI.onPointerLockMove);\n    var subscription = null;\n    var endInteraction = function endInteraction() {\n      document.removeEventListener('mousemove', publicAPI.onPointerLockMove);\n      subscription.unsubscribe();\n    };\n    subscription = interactor.onEndPointerLock(endInteraction);\n  }; //--------------------------------------------------------------------------\n\n  publicAPI.onPointerLockMove = function (e) {\n    var sensitivity = model.sensitivity;\n    var yaw = -1 * e.movementX * sensitivity;\n    var pitch = -1 * e.movementY * sensitivity;\n    publicAPI.moveCamera(yaw, pitch);\n  }; //--------------------------------------------------------------------------\n\n  publicAPI.onMouseMove = function (interactor, renderer, position) {\n    // This is currently only being called for non pointer lock mode\n    if (!position) {\n      return;\n    }\n    var previousPosition = internal.previousPosition;\n    var sensitivity = model.sensitivity;\n    var yaw = (previousPosition.x - position.x) * sensitivity;\n    var pitch = (position.y - previousPosition.y) * sensitivity;\n    Object.assign(internal, {\n      interactor: interactor,\n      renderer: renderer\n    });\n    publicAPI.moveCamera(yaw, pitch);\n    internal.previousPosition = position;\n  }; //--------------------------------------------------------------------------\n\n  publicAPI.moveCamera = function (yaw, pitch) {\n    var renderer = internal.renderer,\n      interactor = internal.interactor;\n    var camera = renderer.getActiveCamera(); // We need to pick a number of steps here that is not too few\n    // (or the camera will be jittery) and not too many (or the\n    // animations will take too long).\n    // Perhaps this should be calculated?\n\n    var numSteps = model.numAnimationSteps;\n    var yawStep = yaw / numSteps;\n    var pitchStep = pitch / numSteps;\n    var now = performance.now().toString();\n    var animationRequester = \"\".concat(ANIMATION_REQUESTER, \".\").concat(now);\n    var curStep = 0;\n    var animationSub = null;\n    var performStep = function performStep() {\n      camera.yaw(yawStep);\n      camera.pitch(pitchStep);\n      camera.orthogonalizeViewUp();\n      curStep += 1;\n      if (curStep === numSteps) {\n        animationSub.unsubscribe();\n        renderer.resetCameraClippingRange();\n        if (interactor.getLightFollowCamera()) {\n          renderer.updateLightsGeometryToFollowCamera();\n        } // This needs to be posted to the event loop so it isn't called\n        // in the `handleAnimation` stack, or else the animation will\n        // not be canceled.\n\n        var cancelRequest = function cancelRequest() {\n          internal.interactor.cancelAnimation(animationRequester);\n        };\n        setTimeout(cancelRequest, 0);\n      }\n    };\n    interactor.requestAnimation(animationRequester);\n    animationSub = interactor.onAnimation(function () {\n      return performStep();\n    });\n  };\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\nvar DEFAULT_VALUES = {\n  numAnimationSteps: 5,\n  sensitivity: 0.05,\n  usePointerLock: true\n}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues); // Inheritance\n\n  macro.obj(publicAPI, model);\n  vtkCompositeCameraManipulator.extend(publicAPI, model, initialValues);\n  vtkCompositeMouseManipulator.extend(publicAPI, model, initialValues); // Create get-set macros\n\n  macro.setGet(publicAPI, model, ['numAnimationSteps', 'sensitivity', 'usePointerLock']); // Object specific methods\n\n  vtkMouseCameraTrackballFirstPersonManipulator(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar newInstance = macro.newInstance(extend, 'vtkMouseCameraTrackballFirstPersonManipulator'); // ----------------------------------------------------------------------------\n\nvar vtkMouseCameraTrackballFirstPersonManipulator$1 = {\n  newInstance: newInstance,\n  extend: extend\n};\nexport { vtkMouseCameraTrackballFirstPersonManipulator$1 as default, extend, newInstance };","map":{"version":3,"names":["macro","vtkCompositeCameraManipulator","vtkCompositeMouseManipulator","ANIMATION_REQUESTER","vtkMouseCameraTrackballFirstPersonManipulator","publicAPI","model","classHierarchy","push","internal","interactor","renderer","previousPosition","onButtonDown","position","usePointerLock","isPointerLocked","Object","assign","requestPointerLock","startPointerLockInteraction","document","addEventListener","onPointerLockMove","subscription","endInteraction","removeEventListener","unsubscribe","onEndPointerLock","e","sensitivity","yaw","movementX","pitch","movementY","moveCamera","onMouseMove","x","y","camera","getActiveCamera","numSteps","numAnimationSteps","yawStep","pitchStep","now","performance","toString","animationRequester","concat","curStep","animationSub","performStep","orthogonalizeViewUp","resetCameraClippingRange","getLightFollowCamera","updateLightsGeometryToFollowCamera","cancelRequest","cancelAnimation","setTimeout","requestAnimation","onAnimation","DEFAULT_VALUES","extend","initialValues","arguments","length","undefined","obj","setGet","newInstance","vtkMouseCameraTrackballFirstPersonManipulator$1","default"],"sources":["/home/rakshith/Documents/RemoteRendering/vtk-js-react-app/node_modules/@kitware/vtk.js/Interaction/Manipulators/MouseCameraTrackballFirstPersonManipulator.js"],"sourcesContent":["import macro from '../../macros.js';\nimport vtkCompositeCameraManipulator from './CompositeCameraManipulator.js';\nimport vtkCompositeMouseManipulator from './CompositeMouseManipulator.js';\n\nvar ANIMATION_REQUESTER = 'vtkMouseCameraTrackballFirstPersonManipulator'; // ----------------------------------------------------------------------------\n// vtkMouseCameraTrackballFirstPersonManipulator methods\n// ----------------------------------------------------------------------------\n\nfunction vtkMouseCameraTrackballFirstPersonManipulator(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkMouseCameraTrackballFirstPersonManipulator');\n  var internal = {\n    interactor: null,\n    renderer: null,\n    previousPosition: null\n  }; //--------------------------------------------------------------------------\n\n  publicAPI.onButtonDown = function (interactor, renderer, position) {\n    internal.previousPosition = position;\n\n    if (model.usePointerLock && !interactor.isPointerLocked()) {\n      Object.assign(internal, {\n        interactor: interactor,\n        renderer: renderer\n      });\n      interactor.requestPointerLock();\n      publicAPI.startPointerLockInteraction();\n    }\n  }; //--------------------------------------------------------------------------\n\n\n  publicAPI.startPointerLockInteraction = function () {\n    var interactor = internal.interactor; // TODO: at some point, this should perhaps be done in\n    // RenderWindowInteractor instead of here.\n    // We need to hook into mousemove directly for two reasons:\n    // 1. We need to keep receiving mouse move events after the mouse button\n    //    is released. This is currently not possible with\n    //    vtkInteractorStyleManipulator.\n    // 2. Since the mouse is stationary in pointer lock mode, we need the\n    //    event.movementX and event.movementY info, which are not currently\n    //    passed via interactor.onMouseMove.\n\n    document.addEventListener('mousemove', publicAPI.onPointerLockMove);\n    var subscription = null;\n\n    var endInteraction = function endInteraction() {\n      document.removeEventListener('mousemove', publicAPI.onPointerLockMove);\n      subscription.unsubscribe();\n    };\n\n    subscription = interactor.onEndPointerLock(endInteraction);\n  }; //--------------------------------------------------------------------------\n\n\n  publicAPI.onPointerLockMove = function (e) {\n    var sensitivity = model.sensitivity;\n    var yaw = -1 * e.movementX * sensitivity;\n    var pitch = -1 * e.movementY * sensitivity;\n    publicAPI.moveCamera(yaw, pitch);\n  }; //--------------------------------------------------------------------------\n\n\n  publicAPI.onMouseMove = function (interactor, renderer, position) {\n    // This is currently only being called for non pointer lock mode\n    if (!position) {\n      return;\n    }\n\n    var previousPosition = internal.previousPosition;\n    var sensitivity = model.sensitivity;\n    var yaw = (previousPosition.x - position.x) * sensitivity;\n    var pitch = (position.y - previousPosition.y) * sensitivity;\n    Object.assign(internal, {\n      interactor: interactor,\n      renderer: renderer\n    });\n    publicAPI.moveCamera(yaw, pitch);\n    internal.previousPosition = position;\n  }; //--------------------------------------------------------------------------\n\n\n  publicAPI.moveCamera = function (yaw, pitch) {\n    var renderer = internal.renderer,\n        interactor = internal.interactor;\n    var camera = renderer.getActiveCamera(); // We need to pick a number of steps here that is not too few\n    // (or the camera will be jittery) and not too many (or the\n    // animations will take too long).\n    // Perhaps this should be calculated?\n\n    var numSteps = model.numAnimationSteps;\n    var yawStep = yaw / numSteps;\n    var pitchStep = pitch / numSteps;\n    var now = performance.now().toString();\n    var animationRequester = \"\".concat(ANIMATION_REQUESTER, \".\").concat(now);\n    var curStep = 0;\n    var animationSub = null;\n\n    var performStep = function performStep() {\n      camera.yaw(yawStep);\n      camera.pitch(pitchStep);\n      camera.orthogonalizeViewUp();\n      curStep += 1;\n\n      if (curStep === numSteps) {\n        animationSub.unsubscribe();\n        renderer.resetCameraClippingRange();\n\n        if (interactor.getLightFollowCamera()) {\n          renderer.updateLightsGeometryToFollowCamera();\n        } // This needs to be posted to the event loop so it isn't called\n        // in the `handleAnimation` stack, or else the animation will\n        // not be canceled.\n\n\n        var cancelRequest = function cancelRequest() {\n          internal.interactor.cancelAnimation(animationRequester);\n        };\n\n        setTimeout(cancelRequest, 0);\n      }\n    };\n\n    interactor.requestAnimation(animationRequester);\n    animationSub = interactor.onAnimation(function () {\n      return performStep();\n    });\n  };\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\n\nvar DEFAULT_VALUES = {\n  numAnimationSteps: 5,\n  sensitivity: 0.05,\n  usePointerLock: true\n}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues); // Inheritance\n\n  macro.obj(publicAPI, model);\n  vtkCompositeCameraManipulator.extend(publicAPI, model, initialValues);\n  vtkCompositeMouseManipulator.extend(publicAPI, model, initialValues); // Create get-set macros\n\n  macro.setGet(publicAPI, model, ['numAnimationSteps', 'sensitivity', 'usePointerLock']); // Object specific methods\n\n  vtkMouseCameraTrackballFirstPersonManipulator(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar newInstance = macro.newInstance(extend, 'vtkMouseCameraTrackballFirstPersonManipulator'); // ----------------------------------------------------------------------------\n\nvar vtkMouseCameraTrackballFirstPersonManipulator$1 = {\n  newInstance: newInstance,\n  extend: extend\n};\n\nexport { vtkMouseCameraTrackballFirstPersonManipulator$1 as default, extend, newInstance };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}