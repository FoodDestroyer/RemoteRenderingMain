{"ast":null,"code":"import { mat4, mat3 } from 'gl-matrix';\nimport { newInstance as newInstance$1, obj, setGet } from '../../macros.js';\nimport vtkViewNode from '../SceneGraph/ViewNode.js';\nimport { registerOverride } from './ViewNodeFactory.js';\n\n// vtkOpenGLCamera methods\n// ----------------------------------------------------------------------------\n\nfunction vtkOpenGLCamera(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkOpenGLCamera');\n  publicAPI.buildPass = function (prepass) {\n    if (prepass) {\n      model._openGLRenderer = publicAPI.getFirstAncestorOfType('vtkOpenGLRenderer');\n      model._openGLRenderWindow = model._openGLRenderer.getParent();\n      model.context = model._openGLRenderWindow.getContext();\n    }\n  }; // Renders myself\n\n  publicAPI.opaquePass = function (prepass) {\n    if (prepass) {\n      var tsize = model._openGLRenderer.getTiledSizeAndOrigin();\n      model.context.viewport(tsize.lowerLeftU, tsize.lowerLeftV, tsize.usize, tsize.vsize);\n      model.context.scissor(tsize.lowerLeftU, tsize.lowerLeftV, tsize.usize, tsize.vsize);\n    }\n  };\n  publicAPI.translucentPass = publicAPI.opaquePass;\n  publicAPI.zBufferPass = publicAPI.opaquePass;\n  publicAPI.opaqueZBufferPass = publicAPI.opaquePass;\n  publicAPI.volumePass = publicAPI.opaquePass;\n  publicAPI.getKeyMatrices = function (ren) {\n    // has the camera changed?\n    if (ren !== model.lastRenderer || model._openGLRenderWindow.getMTime() > model.keyMatrixTime.getMTime() || publicAPI.getMTime() > model.keyMatrixTime.getMTime() || ren.getMTime() > model.keyMatrixTime.getMTime() || model.renderable.getMTime() > model.keyMatrixTime.getMTime()) {\n      mat4.copy(model.keyMatrices.wcvc, model.renderable.getViewMatrix());\n      mat3.fromMat4(model.keyMatrices.normalMatrix, model.keyMatrices.wcvc);\n      mat3.invert(model.keyMatrices.normalMatrix, model.keyMatrices.normalMatrix);\n      mat4.transpose(model.keyMatrices.wcvc, model.keyMatrices.wcvc);\n      var aspectRatio = model._openGLRenderer.getAspectRatio();\n      mat4.copy(model.keyMatrices.vcpc, model.renderable.getProjectionMatrix(aspectRatio, -1, 1));\n      mat4.transpose(model.keyMatrices.vcpc, model.keyMatrices.vcpc);\n      mat4.multiply(model.keyMatrices.wcpc, model.keyMatrices.vcpc, model.keyMatrices.wcvc);\n      model.keyMatrixTime.modified();\n      model.lastRenderer = ren;\n    }\n    return model.keyMatrices;\n  };\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\nvar DEFAULT_VALUES = {\n  context: null,\n  lastRenderer: null,\n  keyMatrixTime: null,\n  keyMatrices: null\n}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues); // Inheritance\n\n  vtkViewNode.extend(publicAPI, model, initialValues);\n  model.keyMatrixTime = {};\n  obj(model.keyMatrixTime); // values always get set by the get method\n\n  model.keyMatrices = {\n    normalMatrix: new Float64Array(9),\n    vcpc: new Float64Array(16),\n    wcvc: new Float64Array(16),\n    wcpc: new Float64Array(16)\n  }; // Build VTK API\n\n  setGet(publicAPI, model, ['context', 'keyMatrixTime']); // Object methods\n\n  vtkOpenGLCamera(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar newInstance = newInstance$1(extend); // ----------------------------------------------------------------------------\n\nvar vtkCamera = {\n  newInstance: newInstance,\n  extend: extend\n}; // Register ourself to OpenGL backend if imported\n\nregisterOverride('vtkCamera', newInstance);\nexport { vtkCamera as default, extend, newInstance };","map":{"version":3,"names":["mat4","mat3","newInstance","newInstance$1","obj","setGet","vtkViewNode","registerOverride","vtkOpenGLCamera","publicAPI","model","classHierarchy","push","buildPass","prepass","_openGLRenderer","getFirstAncestorOfType","_openGLRenderWindow","getParent","context","getContext","opaquePass","tsize","getTiledSizeAndOrigin","viewport","lowerLeftU","lowerLeftV","usize","vsize","scissor","translucentPass","zBufferPass","opaqueZBufferPass","volumePass","getKeyMatrices","ren","lastRenderer","getMTime","keyMatrixTime","renderable","copy","keyMatrices","wcvc","getViewMatrix","fromMat4","normalMatrix","invert","transpose","aspectRatio","getAspectRatio","vcpc","getProjectionMatrix","multiply","wcpc","modified","DEFAULT_VALUES","extend","initialValues","arguments","length","undefined","Object","assign","Float64Array","vtkCamera","default"],"sources":["/home/rakshith/Documents/RemoteRendering/vtk-js-react-app/node_modules/@kitware/vtk.js/Rendering/OpenGL/Camera.js"],"sourcesContent":["import { mat4, mat3 } from 'gl-matrix';\nimport { newInstance as newInstance$1, obj, setGet } from '../../macros.js';\nimport vtkViewNode from '../SceneGraph/ViewNode.js';\nimport { registerOverride } from './ViewNodeFactory.js';\n\n// vtkOpenGLCamera methods\n// ----------------------------------------------------------------------------\n\nfunction vtkOpenGLCamera(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkOpenGLCamera');\n\n  publicAPI.buildPass = function (prepass) {\n    if (prepass) {\n      model._openGLRenderer = publicAPI.getFirstAncestorOfType('vtkOpenGLRenderer');\n      model._openGLRenderWindow = model._openGLRenderer.getParent();\n      model.context = model._openGLRenderWindow.getContext();\n    }\n  }; // Renders myself\n\n\n  publicAPI.opaquePass = function (prepass) {\n    if (prepass) {\n      var tsize = model._openGLRenderer.getTiledSizeAndOrigin();\n\n      model.context.viewport(tsize.lowerLeftU, tsize.lowerLeftV, tsize.usize, tsize.vsize);\n      model.context.scissor(tsize.lowerLeftU, tsize.lowerLeftV, tsize.usize, tsize.vsize);\n    }\n  };\n\n  publicAPI.translucentPass = publicAPI.opaquePass;\n  publicAPI.zBufferPass = publicAPI.opaquePass;\n  publicAPI.opaqueZBufferPass = publicAPI.opaquePass;\n  publicAPI.volumePass = publicAPI.opaquePass;\n\n  publicAPI.getKeyMatrices = function (ren) {\n    // has the camera changed?\n    if (ren !== model.lastRenderer || model._openGLRenderWindow.getMTime() > model.keyMatrixTime.getMTime() || publicAPI.getMTime() > model.keyMatrixTime.getMTime() || ren.getMTime() > model.keyMatrixTime.getMTime() || model.renderable.getMTime() > model.keyMatrixTime.getMTime()) {\n      mat4.copy(model.keyMatrices.wcvc, model.renderable.getViewMatrix());\n      mat3.fromMat4(model.keyMatrices.normalMatrix, model.keyMatrices.wcvc);\n      mat3.invert(model.keyMatrices.normalMatrix, model.keyMatrices.normalMatrix);\n      mat4.transpose(model.keyMatrices.wcvc, model.keyMatrices.wcvc);\n\n      var aspectRatio = model._openGLRenderer.getAspectRatio();\n\n      mat4.copy(model.keyMatrices.vcpc, model.renderable.getProjectionMatrix(aspectRatio, -1, 1));\n      mat4.transpose(model.keyMatrices.vcpc, model.keyMatrices.vcpc);\n      mat4.multiply(model.keyMatrices.wcpc, model.keyMatrices.vcpc, model.keyMatrices.wcvc);\n      model.keyMatrixTime.modified();\n      model.lastRenderer = ren;\n    }\n\n    return model.keyMatrices;\n  };\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\n\nvar DEFAULT_VALUES = {\n  context: null,\n  lastRenderer: null,\n  keyMatrixTime: null,\n  keyMatrices: null\n}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues); // Inheritance\n\n  vtkViewNode.extend(publicAPI, model, initialValues);\n  model.keyMatrixTime = {};\n  obj(model.keyMatrixTime); // values always get set by the get method\n\n  model.keyMatrices = {\n    normalMatrix: new Float64Array(9),\n    vcpc: new Float64Array(16),\n    wcvc: new Float64Array(16),\n    wcpc: new Float64Array(16)\n  }; // Build VTK API\n\n  setGet(publicAPI, model, ['context', 'keyMatrixTime']); // Object methods\n\n  vtkOpenGLCamera(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar newInstance = newInstance$1(extend); // ----------------------------------------------------------------------------\n\nvar vtkCamera = {\n  newInstance: newInstance,\n  extend: extend\n}; // Register ourself to OpenGL backend if imported\n\nregisterOverride('vtkCamera', newInstance);\n\nexport { vtkCamera as default, extend, newInstance };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}