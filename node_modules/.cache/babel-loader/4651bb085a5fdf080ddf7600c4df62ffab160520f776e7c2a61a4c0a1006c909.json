{"ast":null,"code":"import macro from '../../macros.js';\nimport DataAccessHelper from '../Core/DataAccessHelper.js';\nimport vtkHttpDataSetReader from '../Core/HttpDataSetReader.js';\nimport '../Core/DataAccessHelper/LiteHttpDataAccessHelper.js';\n\n// import 'vtk.js/Sources/IO/Core/DataAccessHelper/HttpDataAccessHelper'; // HTTP + gz\n// import 'vtk.js/Sources/IO/Core/DataAccessHelper/HtmlDataAccessHelper'; // html + base64 + zip\n// import 'vtk.js/Sources/IO/Core/DataAccessHelper/JSZipDataAccessHelper'; // zip\n\nvar vtkErrorMacro = macro.vtkErrorMacro; // ----------------------------------------------------------------------------\n// vtkHttpDataSetLODsLoader methods\n// ----------------------------------------------------------------------------\n\nfunction vtkHttpDataSetLODsLoader(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkHttpDataSetLODsLoader');\n  var internal = {\n    downloadStack: []\n  }; //--------------------------------------------------------------------------\n\n  publicAPI.startDownloads = function () {\n    if (!model.mapper) {\n      vtkErrorMacro('Mapper was not set.');\n      return;\n    }\n    if (!model.files || model.files.length === 0) {\n      vtkErrorMacro('No files set.');\n      return;\n    }\n    var baseUrl = model.baseUrl;\n    if (baseUrl && !baseUrl.endsWith('/')) {\n      baseUrl += '/';\n    } // Create the download stack\n\n    internal.downloadStack = [];\n    model.files.forEach(function (file) {\n      return internal.downloadStack.push(\"\".concat(baseUrl).concat(file));\n    });\n    var downloadNextSource = function downloadNextSource() {\n      var url = internal.downloadStack.shift();\n      var nextSource = vtkHttpDataSetReader.newInstance({\n        dataAccessHelper: DataAccessHelper.get('http')\n      });\n      model.currentSource = nextSource;\n      var options = {\n        compression: 'zip',\n        loadData: true,\n        fullpath: true\n      };\n      nextSource.setUrl(url, options).then(function () {\n        model.mapper.setInputConnection(nextSource.getOutputPort());\n        if (model.sceneItem) {\n          // Apply settings to the new source\n          var settings = model.sceneItem.defaultSettings;\n          if (settings.mapper) {\n            if (settings.mapper.colorByArrayName) {\n              nextSource.enableArray(settings.mapper.colorByArrayName, settings.mapper.colorByArrayName);\n            }\n          }\n          model.sceneItem.source = nextSource;\n        }\n        if (model.stepFinishedCallback) {\n          // In clients like paraview glance, the callback might\n          // involve setting the current source on a proxy\n          model.stepFinishedCallback();\n        }\n        if (internal.downloadStack.length !== 0) {\n          setTimeout(downloadNextSource, model.waitTimeBetweenDownloads);\n        }\n      });\n    };\n    setTimeout(downloadNextSource, model.waitTimeToStart);\n  };\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\nvar DEFAULT_VALUES = {\n  baseUrl: '',\n  // The currentSource is set internally to the most recently\n  // created source. It might be useful to access it in a callback\n  // via 'getCurrentSource'.\n  currentSource: null,\n  files: [],\n  mapper: null,\n  sceneItem: null,\n  stepFinishedCallback: null,\n  // These are in milliseconds\n  waitTimeToStart: 4000,\n  waitTimeBetweenDownloads: 0\n}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues);\n  macro.obj(publicAPI, model); // Create get-set macros\n\n  macro.setGet(publicAPI, model, ['baseUrl', 'files', 'mapper', 'sceneItem', 'stepFinishedCallback', 'waitTimeToStart', 'waitTimeBetweenDownloads']);\n  macro.get(publicAPI, model, ['currentSource']); // Object specific methods\n\n  vtkHttpDataSetLODsLoader(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar newInstance = macro.newInstance(extend, 'vtkHttpDataSetLODsLoader'); // ----------------------------------------------------------------------------\n\nvar vtkHttpDataSetLODsLoader$1 = {\n  newInstance: newInstance,\n  extend: extend\n};\nexport { vtkHttpDataSetLODsLoader$1 as default, extend, newInstance };","map":{"version":3,"names":["macro","DataAccessHelper","vtkHttpDataSetReader","vtkErrorMacro","vtkHttpDataSetLODsLoader","publicAPI","model","classHierarchy","push","internal","downloadStack","startDownloads","mapper","files","length","baseUrl","endsWith","forEach","file","concat","downloadNextSource","url","shift","nextSource","newInstance","dataAccessHelper","get","currentSource","options","compression","loadData","fullpath","setUrl","then","setInputConnection","getOutputPort","sceneItem","settings","defaultSettings","colorByArrayName","enableArray","source","stepFinishedCallback","setTimeout","waitTimeBetweenDownloads","waitTimeToStart","DEFAULT_VALUES","extend","initialValues","arguments","undefined","Object","assign","obj","setGet","vtkHttpDataSetLODsLoader$1","default"],"sources":["/home/rakshith/Documents/RemoteRendering/vtk-js-react-app/node_modules/@kitware/vtk.js/IO/Misc/HttpDataSetLODsLoader.js"],"sourcesContent":["import macro from '../../macros.js';\nimport DataAccessHelper from '../Core/DataAccessHelper.js';\nimport vtkHttpDataSetReader from '../Core/HttpDataSetReader.js';\nimport '../Core/DataAccessHelper/LiteHttpDataAccessHelper.js';\n\n// import 'vtk.js/Sources/IO/Core/DataAccessHelper/HttpDataAccessHelper'; // HTTP + gz\n// import 'vtk.js/Sources/IO/Core/DataAccessHelper/HtmlDataAccessHelper'; // html + base64 + zip\n// import 'vtk.js/Sources/IO/Core/DataAccessHelper/JSZipDataAccessHelper'; // zip\n\nvar vtkErrorMacro = macro.vtkErrorMacro; // ----------------------------------------------------------------------------\n// vtkHttpDataSetLODsLoader methods\n// ----------------------------------------------------------------------------\n\nfunction vtkHttpDataSetLODsLoader(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkHttpDataSetLODsLoader');\n  var internal = {\n    downloadStack: []\n  }; //--------------------------------------------------------------------------\n\n  publicAPI.startDownloads = function () {\n    if (!model.mapper) {\n      vtkErrorMacro('Mapper was not set.');\n      return;\n    }\n\n    if (!model.files || model.files.length === 0) {\n      vtkErrorMacro('No files set.');\n      return;\n    }\n\n    var baseUrl = model.baseUrl;\n\n    if (baseUrl && !baseUrl.endsWith('/')) {\n      baseUrl += '/';\n    } // Create the download stack\n\n\n    internal.downloadStack = [];\n    model.files.forEach(function (file) {\n      return internal.downloadStack.push(\"\".concat(baseUrl).concat(file));\n    });\n\n    var downloadNextSource = function downloadNextSource() {\n      var url = internal.downloadStack.shift();\n      var nextSource = vtkHttpDataSetReader.newInstance({\n        dataAccessHelper: DataAccessHelper.get('http')\n      });\n      model.currentSource = nextSource;\n      var options = {\n        compression: 'zip',\n        loadData: true,\n        fullpath: true\n      };\n      nextSource.setUrl(url, options).then(function () {\n        model.mapper.setInputConnection(nextSource.getOutputPort());\n\n        if (model.sceneItem) {\n          // Apply settings to the new source\n          var settings = model.sceneItem.defaultSettings;\n\n          if (settings.mapper) {\n            if (settings.mapper.colorByArrayName) {\n              nextSource.enableArray(settings.mapper.colorByArrayName, settings.mapper.colorByArrayName);\n            }\n          }\n\n          model.sceneItem.source = nextSource;\n        }\n\n        if (model.stepFinishedCallback) {\n          // In clients like paraview glance, the callback might\n          // involve setting the current source on a proxy\n          model.stepFinishedCallback();\n        }\n\n        if (internal.downloadStack.length !== 0) {\n          setTimeout(downloadNextSource, model.waitTimeBetweenDownloads);\n        }\n      });\n    };\n\n    setTimeout(downloadNextSource, model.waitTimeToStart);\n  };\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\n\nvar DEFAULT_VALUES = {\n  baseUrl: '',\n  // The currentSource is set internally to the most recently\n  // created source. It might be useful to access it in a callback\n  // via 'getCurrentSource'.\n  currentSource: null,\n  files: [],\n  mapper: null,\n  sceneItem: null,\n  stepFinishedCallback: null,\n  // These are in milliseconds\n  waitTimeToStart: 4000,\n  waitTimeBetweenDownloads: 0\n}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues);\n  macro.obj(publicAPI, model); // Create get-set macros\n\n  macro.setGet(publicAPI, model, ['baseUrl', 'files', 'mapper', 'sceneItem', 'stepFinishedCallback', 'waitTimeToStart', 'waitTimeBetweenDownloads']);\n  macro.get(publicAPI, model, ['currentSource']); // Object specific methods\n\n  vtkHttpDataSetLODsLoader(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar newInstance = macro.newInstance(extend, 'vtkHttpDataSetLODsLoader'); // ----------------------------------------------------------------------------\n\nvar vtkHttpDataSetLODsLoader$1 = {\n  newInstance: newInstance,\n  extend: extend\n};\n\nexport { vtkHttpDataSetLODsLoader$1 as default, extend, newInstance };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}